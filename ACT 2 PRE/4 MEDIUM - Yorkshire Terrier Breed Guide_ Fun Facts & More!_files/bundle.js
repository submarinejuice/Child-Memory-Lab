(()=>{"use strict";function e(e){return null==e}function t(e){return null!=e}function n(e){const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}const o="_yi_flags";var i;!function(e){e.DEBUG_MODE="yidebug"}(i||(i={}));const r="DEBUG",s="INFO",a="WARN",c="ERROR",u="FATAL";function l(){const e=new d;return function(){var e;const i=function(){const e=n(o);if(t(e))return JSON.parse(decodeURIComponent(e))}(),r=null===(e=null==i?void 0:i.debugMode)||void 0===e?void 0:e.value;return"boolean"==typeof r&&r}()&&e.enableConsoleLogging(),e}class d{constructor(){this.consoleLogging=!1}enableConsoleLogging(){this.consoleLogging=!0}debug(e,t){this.log(r,t,e)}info(e,t){this.log(s,t,e)}warn(e,t){this.log(a,t,e)}error(e,t){this.log(c,t,e)}fatal(e,t){this.log(u,t,e)}log(e,t,n){if(this.consoleLogging)switch(e){default:case r:console.log(t,n);break;case s:console.info(t,n);break;case a:console.warn(t,n);break;case c:case u:console.error(t,n)}}}function f(t,n){e(window._ycpExtensions)&&(window._ycpExtensions={}),"object"==typeof(null===window||void 0===window?void 0:window._ycpExtensions)&&(window._ycpExtensions[t]=n)}const p=e=>"FormSubmit"===e.type;function g(e){const t=[];for(const n in e)t.push({key:n,value:e[n]});return t}const m=(e,t)=>t;function h(e,t=m){const n={};for(let o of e)void 0!==n[o.key]&&(o=t({key:o.key,value:n[o.key]},o)),n[o.key]=o.value;return n}const y=(e,t)=>{var n;return null===(n=t.filter((t=>t.name===e))[0])||void 0===n?void 0:n.value.toString()};var v=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const E=l();const w=["BDG","BNE","BEX","BEN","BRY","CMD","CRY","EAL","ENF","GRE","HCK","HMF","HRY","HRW","HAV","HIL","HNS","ISL","KEC","KTT","LBH","LEW","MRT","NWM","RDB","RIC","SWK","STN","TWH","WFT","WND","WSM"];var b=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const T=l();function S(t){return n=this,o=void 0,r=function*(){const n=yield function(t){return b(this,void 0,void 0,(function*(){try{const o=yield t.getGeolocationData(),{subdivisions:i,city:r,country:s}=o;if(e(r)||e(i[0]))throw Error("Failed to get city");return"GB"===s&&(n=i[0],w.includes(n))?"LDN":r}catch(e){T.error(e,"wildfire ip-geolocation-city: failed to get city.")}var n}))}(t);f("ip-geolocation-city",n)},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(n,o||[])).next())}));var n,o,i,r}class P{constructor(e){this.window=e,this.setupNamespace()}sendPing(e){return this.sendMessage({type:"PING",message:e})}sendCustomValue(e,t){return this.sendCustomValueByPageType("common",e,t)}sendCustomValueByPageType(e,t,n){return this.sendMessage({type:"EXTERNAL_VALUE_UPDATED",pageType:e,name:t,value:n})}registerExternalValueHook(e,t){return this.sendMessage({type:"EXTERNAL_VALUE_HOOK",name:e,handler:t})}couponCodeSeen(e){return this.sendMessage({type:"COUPON_CODE_SEEN",code:e})}registerEventHandler(e){return this.sendMessage({type:"REGISTER_EVENT_HANDLER",handler:e})}registerClickEventHandler(e,t){return this.sendMessage({type:"REGISTER_CLICK_EVENT_HANDLER",handler:e,name:t})}getVersions(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_VERSIONS",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}getUserIP(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_USER_IP",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}getUserId(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_USER_ID",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}getGeolocationData(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_GEOLOCATION_DATA",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}requestSocialProof(e){return new Promise(((t,n)=>{this.sendMessage({type:"REQUEST_SOCIAL_PROOF",url:e,callback:(e,o)=>{o?t(o):n(e||new Error("Unexpected response from the YCP Tag"))}})}))}getPageTypes(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_SCRAPED_PAGE_TYPES",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}registerPageTypesHandler(e){return this.sendMessage({type:"REGISTER_SCRAPED_PAGE_TYPES_HANDLER",handler:e})}getScrapedVariables(e){return new Promise(((t,n)=>{this.sendMessage({type:"GET_SCRAPED_VARIABLES",variables:e,callback:(e,o)=>{o?t(o):n(e||new Error("Unexpected response from the YCP Tag"))}})}))}registerScrapedVariablesHandler(e,t){return this.sendMessage({type:"REGISTER_SCRAPED_VARIABLES_HANDLER",variables:e,handler:t})}sendCustomPageView(e,t){return new Promise(((n,o)=>{this.sendMessage({type:"SEND_CUSTOM_PAGE_VIEW",key:e,scope:t,callback:(e,t)=>{e&&o(e),n()}})}))}requestCustomSocialProof(e,t){return new Promise(((n,o)=>{this.sendMessage({type:"REQUEST_CUSTOM_SOCIAL_PROOF",key:e,scope:t,callback:(e,t)=>{t?n(t):o(e||new Error("Unexpected response from the YCP Tag"))}})}))}requestBatchCustomSocialProof(e,t){return new Promise(((n,o)=>{this.sendMessage({type:"REQUEST_BATCH_CUSTOM_SOCIAL_PROOF",keys:e,scope:t,callback:(e,t)=>{t?n(t):o(e||new Error("Unexpected response from the YCP Tag"))}})}))}registerCouponCodeSeen(e){return this.sendMessage({type:"REGISTER_COUPON_CODE_SEEN_HANDLER",handler:e})}registerCouponCodeApplied(e){return this.sendMessage({type:"REGISTER_COUPON_CODE_APPLIED_HANDLER",handler:e})}getSessionCount(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_SESSION_COUNT",callback:(n,o)=>{"number"==typeof o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}getEpsilonConfig(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_EPSILON_CONFIG",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}getTagConfig(){return new Promise(((e,t)=>{this.sendMessage({type:"GET_TAG_CONFIG",callback:(n,o)=>{o?e(o):t(n||new Error("Unexpected response from the YCP Tag"))}})}))}registerSessionCountChangedHandler(e){return this.sendMessage({type:"REGISTER_SESSION_COUNT_CHANGED_HANDLER",handler:e})}sendMessage(e){return this.window._yieldify.messages.push(e),e}setupNamespace(){this.window._yieldify?this.window._yieldify&&!this.window._yieldify.messages&&(this.window._yieldify.messages=[]):this.window._yieldify={messages:[]}}}const C="ycp-target-custom-action-name";var _=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const O={executeOnce:!1,pollRate:300};function x(e,n,o,i){let r,s=!1;const a=Object.assign(Object.assign({},O),i),{executeOnce:c,pollRate:u,timeout:d}=a,f=l();t(d)&&setTimeout((()=>{s=!0}),d);const p=()=>{let t;try{if(e()&&(t=n(),r!==t&&(o(t,r),r=t),c))return}catch(e){f.info(e,"Wildfire error running poll()")}if(s)return f.info({},"Wildfire stopped polling due to timeout");setTimeout(p,u)};p()}const R={pollRate:O.pollRate,timeout:void 0},N=(e,n)=>_(void 0,void 0,void 0,(function*(){return yield((e,n)=>_(void 0,void 0,void 0,(function*(){return new Promise(((o,i)=>{const{timeout:r,pollRate:s}=Object.assign(Object.assign({},R),n);!function(e,t,n,o=O.pollRate,i){x(e,t,n,{executeOnce:!0,pollRate:o,timeout:i})}(e,(()=>null),o,s,r),t(r)&&setTimeout((()=>{i("WAIT_TIMEOUT")}),r)}))})))((()=>t(e())),n),e()}));function I(e,t=document){return t.querySelector(e)}const k=/yie-overlay-/i,A=/yie-inner-/i,L='div[style*="visibility: visible"][id*="yie-overlay"]',D="yld-tag-host-campaign";function M(t,n="visible",o=window.document){const i=`${D}[campaignid="${t}"]`,r=I("visible"===n?`${L} ${i}`:i,o);return e(r)?null:$(r)}function $(t){var n;if(e(t))return null;const o=U(t);return(null===(n=null==o?void 0:o.className)||void 0===n?void 0:n.includes("yie-outer-element"))?o:"BODY"===(null==o?void 0:o.tagName)?null:$(o)}function U(e){return t(e)&&t(e.parentElement)&&function(e){const n=e.id;return t(n)&&(k.test(n)||A.test(n))}(e.parentElement)?e.parentElement:null}const H="toaster-state",G=l(),V="Wildfire - Toaster:",W=864e5,B=/toaster/i,Y={store:new class{constructor(e="ycp_extensions_data",n=localStorage,o=(()=>Date.now())){this.globalKey=e,this.storage=n,this.timeProvider=o;const i=this.getCurrentState();t(i)&&this.persist(this.filterExpired(i))}set(e,n,o){const i=this.getCurrentState(),r={value:n,expiry:t(o)?this.timeProvider()+o:void 0};return this.persist(Object.assign(Object.assign({},i),{[e]:r}))}get(e){const n=this.getCurrentState();if(t(n)){const o=this.filterExpired(n);if(t(o[e]))return o[e].value}return null}remove(e){const n=this.getCurrentState();if(t(n)&&t(n[e])){const t=h(g(n).filter((({key:t})=>t!==e)));this.persist(t)}}getAllKeys(){const e=this.getCurrentState();if(t(e))return Object.keys(e)}getCurrentState(){const e=this.storage.getItem(this.globalKey);if(t(e)&&""!==e)return JSON.parse(e)}persist(e){this.storage.setItem(this.globalKey,JSON.stringify(e))}filterExpired(t){return h(g(t).filter((({value:t})=>e(t.expiry)||t.expiry>this.timeProvider())))}},transition:"margin 0.6s ease-in-out",delayForInitialRender:600},F=(e,t)=>{e.setAttribute("aria-expanded",t)};var j=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const K="0px",q=/(marginTop|marginBottom)=(\d+)/i,J=/(marginLeft|marginRight)=(\d+)/i,X=/position=(top|right|bottom|left)/i;let Q;function z(e){var n;const o=null===(n=null==e?void 0:e.match(X))||void 0===n?void 0:n[1];return t(o)?o:"bottom"}function Z(e,t,n,o,i){const r=e?"0px":o;n.style.transition=i.transition,G.info({},`${V} Setting margin ${t} value to be => ${r}`),"top"===t||"bottom"===t?(n.style.marginTop=r,n.style.marginBottom=r):(n.style.marginRight=r,n.style.marginLeft=r)}function ee(e,t){return t.style[e]===K}function te(e,n,o,i=window.localStorage,r=window.location,s){const a=l(),c=(e,t)=>{if(function(e,t,n,o){const i=o.hash.substring(1).split("&");return!(i.indexOf(`disable-ycp-${e}`)>-1||!t[e]&&(i.indexOf(`testing-ycp-${e}`)>-1?(n.setItem(`testing-ycp-${e}`,"true"),0):o.hash.indexOf("testing-ycp")>-1?(n.removeItem(`testing-ycp-${e}`),1):i.indexOf("yiwildfire=test")>-1?(n.setItem(`testing-ycp-${e}`,"true"),0):"true"!==n.getItem(`testing-ycp-${e}`)))}(e,t,i,r))try{a.info({featureMap:t},"Wildfire feature running: "+e),n()}catch(t){a.info(t,"Wildfire error while running: "+e)}else a.info({featureMap:t},"Wildfire feature present but disabled: "+e)};t(s)?s.test(r.href)?(a.info({featureMap:o},"Wildfire feature running: on staging URL"+e),c(e,o)):a.info({featureMap:o},"Wildfire feature not running: staging URL pattern supplied but URL does not match. Blocked Feature:- "+e):c(e,o)}const ne="TrupanionMember";function oe(){const e=window.outerWidth,t="width=700,height=800,top="+(1*window.outerHeight-800-70)+",left="+(1*e-700-20)+",resizable=yes,scrollbars=no,menubar=0,location=0",n="https://home-c28.incontact.com/incontact/chatclient/chatclient.aspx?poc=6f8cdd6c-2b33-414d-a279-e0139eab4e1b&amp;bu=4598009&p1="+location.href;window.open(n.replace("&amp;","&"),"trupanionWebChat",t)}class ie{static addEventListener(e,t,n,o){if(!ie.isStandardsEventTarget(e))throw new TypeError("object is not an EventTarget");e.addEventListener(t,n,o)}static removeEventListener(e,t,n,o){if(!ie.isStandardsEventTarget(e))throw new TypeError("object is not an EventTarget");e.removeEventListener(t,n,o)}static dispatchEvent(e,t){if(!ie.isStandardsEventTarget(e))throw new TypeError("object is not an EventTarget");e.dispatchEvent(t)}static isStandardsEventTarget(e){return"object"==typeof e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener&&"function"==typeof e.dispatchEvent}}const re=/Schedule a Call/,se="Wildfire send form data:",ae=l(),ce="Date is in the past";let ue="";function le(e,n,o,i,r){return s=this,a=void 0,u=function*(){const s=t(i)&&t(r)&&!fe(i)&&!fe(r)?function(e,t){const n=(new Date).getTime();var o=new Date(`${e} ${t}`).getTime()-n;if(!(isNaN(o)||o<0))return o;ae.debug({timeDifference:o},`${se} invalid date`)}(i,r):null,a=o.replace(/\D+/g,"");ae.debug({phoneNumberDigits:a},`${se} Phone number digits only`);const c={FirstName:e,LastName:n,ScreenUrl:location.href,PhoneNumber:a,TimeSpanInMs:s,Skill:4308573,CallerId:null},u={uri:"https://trupanion.com/services/RequestCallback.ashx",method:"POST",data:JSON.stringify(c)};try{const e=yield(l=u,new Promise(((e,t)=>{const n=new XMLHttpRequest;if(n.open(l.method,l.uri),null!=l.headers)for(const e of Object.keys(l.headers))n.setRequestHeader(e,l.headers[e]);ie.addEventListener(n,"load",function(e,t,n){return()=>{if(/2\d\d/.test(e.status.toString())){const n=e.responseText;t(n)}else n(new Error(e.statusText))}}(n,e,t)),ie.addEventListener(n,"error",function(e,t){return()=>{t(new Error("Network Error"))}}(0,t)),function(e,t){"POST"===t.method?e.send(t.data):e.send()}(n,l)})));ae.debug({response:e},`${se}`)}catch(e){ae.warn({e},`${se} Error sending form data`)}var l},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{i(u.next(e))}catch(e){t(e)}}function o(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(n,o)}i((u=u.apply(s,a||[])).next())}));var s,a,c,u}function de({campaignId:e}){const n=function(e){var n;const o=null===(n=U(I(`${L} iframe[src*="${e}"], ${L} ${D}[campaignid="${e}"]`)))||void 0===n?void 0:n.parentElement;if(t(o))return null==o?void 0:o.querySelector("button")}(e.toString());t(n)&&n.click()}function fe(e){return""===e}function pe(e,t){fe(t)&&(t="00:00");const n=(new Date).getTime(),o=new Date(`${e} ${t}`).getTime()<n;return ae.debug({timeIsInThePast:o},`${se} Past date check`),o}var ge=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))};const me="IP Address Promise Failed",he=l(),ye="IP Address Promise Success",ve=new P(window);const Ee=e=>ve.sendCustomValue("ip-address-check",e),we=e=>t(e)&&t(e.ip),be=/^205\.140\.200\.(1(9[2-9])|2([0-4][0-9]|5[0-5]))$|^4\.16\.171\.(2(2[4-9]|3[0-1]))$|^65\.156\.144\.(1(1[2-5]))$/;function Te(){(function(e){return ge(this,void 0,void 0,(function*(){try{const t=yield ve.getUserIP();if(we(t)){const n=function(e,t){const n=Array.isArray(t)?t.some((t=>t===e)):t.test(e);return String(n)}(t.ip,e);Ee(n)}}catch(e){throw he.error({error:e},me)}}))})(be).then((()=>he.info({},ye))).catch((e=>{he.error({e},me)}))}const Se={"ip-geolocation-city":!0,"form-data-to-ycp-var":!0,"cta-name-to-dep":!0,"click-to-chat":!1,"custom-form-validation":!1,"toaster-campaign":!0,"ip-subdivision-geolocation":!0,"ip-address-block":!0,"trupanion-member-cookie":!0},Pe=l();try{Ce=function(){const o=new P(window);o.sendPing("Wildfire -> YCP connection established"),te("ip-geolocation-city",(()=>S(o)),Se),te("form-data-to-ycp-var",(()=>function(e,n){return v(this,void 0,void 0,(function*(){const o={};e.registerEventHandler((e=>{if(p(e)){const{campaignId:t,inputValues:n}=e;o[t]=t in o?function(e,t){const n=t;return e.forEach((e=>{n.some((t=>t.name===e.name))||n.push(e)})),n}(o[t],n):n}})),e.registerClickEventHandler((e=>v(this,void 0,void 0,(function*(){const i=e.campaignId,r=function(e,n){return t(n)?e.filter((({name:e})=>n.indexOf(e)>-1)):e}(o[i],n);E.debug({filteredInputs:r},"Wildfire - form data to ycp:- Input values to send"),f("ycpFormData",h(r.map((({name:e,value:t})=>({key:e,value:Array.isArray(t)?t.join(","):t})))))}))),"form-data-to-ycp-var")}))}(o)),Se),te("cta-name-to-dep",(()=>{var e;(e=o).registerClickEventHandler((t=>function(e,t){e.sendCustomValue(C,t)}(e,t.name)),C)}),Se),te("click-to-chat",(()=>{o.registerClickEventHandler(oe,"click-to-chat")}),Se),te("custom-form-validation",(()=>function(e){let n,o,i,r,s,a;e.registerEventHandler((e=>{const{campaignName:c}=e;if(p(e)&&re.test(c)){const{inputValues:c}=e;n=y("first-name",c),o=y("last-name",c),i=y("phone",c),r=y("day",c),s=y("when-best-time-to-call",c),a=y("time-to-call",c),ae.debug({firstName:n,lastName:o,phoneNumber:i,callDate:r,callTime:s,bestTimeToCall:a},`${se} Form data`),t(n)&&t(o)&&t(i)&&"now"===a&&(ue="Success",le(n,o,i,void 0,void 0),de(e))}})),e.registerClickEventHandler((e=>{t(n)&&t(o)&&t(i)&&t(r)&&t(s)&&"later"===a&&(fe(r)&&fe(s)&&(ue="Please enter a time and a date"),fe(s)&&!fe(r)&&(ue=pe(r,s)?ce:"Please enter a time"),fe(r)&&!fe(s)&&(ue="Please enter a date"),fe(r)||fe(s)||(pe(r,s)?ue=ce:(ue="Success",le(n,o,i,r,s),de(e))))}),"validate-input"),e.registerExternalValueHook("form-validation-message",(()=>({missingAsNone:!0,value:ue})))}(o)),Se),te("toaster-campaign",(()=>function(n,o=Y){const i=Object.assign(Object.assign({},Y),o);!function(e,t){e.registerExternalValueHook("get-toaster-state-handler",(()=>({missingAsNone:!0,value:t.get(H)})))}(n,i.store),function(e,n){e.registerClickEventHandler((e=>j(this,[e],void 0,(function*({campaignId:e,campaignName:o}){const i=M(e),r=n.store.get(H),s=z(o);if(G.info({currentToasterState:r},`${V} Current toaster state`),t(r)&&t(i)&&t(Q)){const e=!r;G.info({},`${V} Setting new toaster state => ${e}`),F(i,String(e)),Z(e,s,i,Q,n),n.store.set(H,e,W)}}))),"toggle-toaster-handler")}(n,i),function(n,o){n.registerEventHandler((n=>j(this,void 0,void 0,(function*(){var i,r;const{campaignId:s,campaignName:a}=n;if((e=>"Impression"===e.type)(n)&&function(e){return B.test(e)}(a)){const n=z(a),l=yield N((()=>M(s))),d=o.store.get(H);let f,p;if(t(l)){G.info({},`${V} campaign container found`),"top"===n||"bottom"===n?(f=null===(i=null==a?void 0:a.match(q))||void 0===i?void 0:i[2],p=l.style.marginTop):(f=null===(r=null==a?void 0:a.match(J))||void 0===r?void 0:r[2],p=l.style.marginLeft),c=l,"top"===(u=n)||"bottom"===u?x((()=>t(c)),(()=>c.style.bottom+c.style.top),(()=>{if(ee(u,c))return G.info({campaignPosition:u,campaignContainer:c},`${V} Position is expected no need to set`);c.style.top="top"===u?"0px":"",c.style.bottom="top"===u?"":"0px",c.style.position="fixed",c.style.transformOrigin="top"===u?"left top":"left bottom"})):x((()=>t(c)),(()=>c.style.left+c.style.right),(()=>{if(ee(u,c))return G.info({campaignPosition:u,campaignContainer:c},`${V} Position is expected no need to set`);c.style.left="left"===u?"0px":"",c.style.right="left"===u?"":"0px",c.style.position="fixed",c.style.transformOrigin="left"===u?"left top":"right top"}));const s=t(f);Q=s?`-${f}px`:p,G.info({isOpen:s,ORIGINAL_MARGIN_VALUE:Q},`${V} isOpen and Original margin value`),e(d)?(G.info({toasterState:d},`${V} No toaster state found as nothing set, now setting`),o.store.set(H,s,W)):(G.info({},`${V} Current toaster state is => ${d}`),F(l,String(d)),Z(d,n,l,Q,o))}}var c,u}))))}(n,i)}(o)),Se),te("ip-subdivision-geolocation",(()=>{return e=this,t=void 0,i=function*(){return function(e){return t=this,n=arguments,i=function*(e,t="ycp-geo-subdivision-code"){const n=yield function(e){return b(this,void 0,void 0,(function*(){return(yield e.getGeolocationData()).subdivisions}))}(e);e.sendCustomValue(t,n.join(","))},new((o=void 0)||(o=Promise))((function(e,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,a)}c((i=i.apply(t,n||[])).next())}));var t,n,o,i}(o)},new((n=void 0)||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i}),Se),te("ip-address-block",Te,Se),te("trupanion-member-cookie",(()=>{return i=o,e(n(ne))&&i.sendCustomValue("trupanion-member-cookie","false"),void x((()=>t(n(ne))),(()=>n(ne)),(e=>{i.sendCustomValue("trupanion-member-cookie",e)}));var i}),Se)},"interactive"===window.document.readyState||"complete"===window.document.readyState||t(window.document.body)?Ce():window.addEventListener("DOMContentLoaded",(()=>Ce()))}catch(e){Pe.error(e,"An error has occurred inside custom code")}var Ce})();
function CheckBornDateRequiredByLocation(){var t,n;return currentLang!="en-us"?!1:GetCookie("ver_conf")!=""?(t=JSON.parse(GetCookie("ver_conf")),t.path=="1.0"||t.path=="1.1"?!1:!0):GetCookie("loc_info")!=""&&(n=GetCookie("loc_info"),n!="")?(n=JSON.parse(n),$.inArray(n.stateName.toLowerCase(),twoplusarray)!==-1?!0:!1):!1}function SetRadioButtonEvent(){jQuery("#validationCustom02").click(function(){jQuery("#validationCustom02").is(":checked")&&jQuery("#validationCustom02").val("Dog")});jQuery("#validationCustom022").click(function(){jQuery("#validationCustom022").is(":checked")&&jQuery("#validationCustom022").val("Cat")});jQuery("#validationCustom03").click(function(){jQuery("#validationCustom03").is(":checked")&&jQuery("#validationCustom03").val("M")});jQuery("#validationCustom033").click(function(){jQuery("#validationCustom033").is(":checked")&&jQuery("#validationCustom03").val("F")})}function customValidationFields(n){var r,t,i;if(n.attr("id")=="validationCustomS206"?(jQuery(".otherVeterinariansVisitedDiv").show(),jQuery("#validationCustomS208").addClass("enrollFields"),jQuery("#validationCustomS208").select2(),jQuery("#validationCustomS208").select2({minimumResultsForSearch:-1}),jQuery("#validationCustomS208-m").select2(),jQuery("#validationCustomS208-m").select2({minimumResultsForSearch:-1}),jQuery("#validationCustomS208-m").select2(),jQuery("#validationCustomS208-m").select2({dropdownParent:jQuery("#aap-modal-div")}),$("#validationCustomS208-m").length&&$("#validationCustomS208-m").addClass("enrollModelFields")):jQuery("#validationCustomS208").removeClass("enrollFields"),n.attr("id")=="validationCustomS2066"&&(jQuery(".otherVeterinariansVisitedDiv").hide(),$("#validationCustomS208-m").length&&$("#validationCustomS208-m").removeClass("enrollModelFields")),r=CheckBornDateRequiredByLocation(),(n.attr("id")=="validationCustom04"||n.attr("id")=="validationCustom04-m")&&((n.val()=="8 weeks to 12 months old"||n.val()=="0-7 weeks old")&&r?(jQuery(".quotePetBorn").show(),jQuery("#validationCustom07").addClass("enrollFields"),jQuery("#validationCustom07-m").addClass("enrollFields"),jQuery("#validationCustom07").addClass("enrollModelFields")):(jQuery(".quotePetBorn").hide(),jQuery("#validationCustom07").removeClass("enrollFields"),jQuery("#validationCustom07").removeClass("enrollModelFields"),jQuery("#validationCustom07").val(""),jQuery("#validationCustom07-m").removeClass("enrollFields"),jQuery("#validationCustom07-m").val(""))),(n.val()&&n.attr("id")=="validationCustom07"||n.val()&&n.attr("id")=="validationCustom07-m")&&jQuery(".quotePetBorn").show(),n.attr("type")=="radio"){n.parents(".enrollFieldsDiv").children(".form-check-label").css("color","#3A5DAE");t=n.attr("id");let r=t.charAt(t.length-1),u=t.charAt(t.length-2);i=t.slice(0,t.length-1);r!=u?t=="validationCustom02"?(jQuery("#"+n.attr("id")).val("Dog"),n.attr("src","/ResourcePackages/Ecomm/assets/dist/images/card-front.jpg"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".pet-img").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/dog-selected.png"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+n.attr("id")+r).val("NotChecked"),jQuery("#"+n.attr("id")+r).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".pet-img").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/cat.png"),jQuery("#"+n.attr("id")+r).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725")):t=="validationCustom03"?(jQuery("#"+n.attr("id")).val("M"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+n.attr("id")+r).val("NotChecked"),jQuery("#"+n.attr("id")+r).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725")):(jQuery("#"+n.attr("id")).val(!0),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+n.attr("id")+r).val("NotChecked"),jQuery("#"+n.attr("id")+r).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725")):t=="validationCustom022"?(jQuery("#"+n.attr("id")).val("Cat"),jQuery("#"+i).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".pet-img").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/dog.png"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".pet-img").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/cat-selected.svg"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+i).val("NotChecked"),jQuery("#"+i).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725")):t=="validationCustom033"?(jQuery("#"+n.attr("id")).val("F"),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+i).val("NotChecked"),jQuery("#"+i).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725")):(jQuery("#"+n.attr("id")).val(!1),jQuery("#"+n.attr("id")).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#3A5DAE"),jQuery("#"+i).val("NotChecked"),jQuery("#"+i).parents(".enrollFieldsDiv").children(".radio-btn-tile").children(".form-check-label").css("color","#222725"));SetRadioButtonEvent()}if((n.attr("id")=="validationCustomS208"||n.attr("id")=="validationCustomS208-m")&&n.find("option:selected").each(function(){var t=$("#"+n.attr("id")+" :selected").text(),r,i;if(t.toLowerCase()!="select veterinarian"&&t.toLowerCase()!="select veterinary clinics"){r=[];r.push(n.val());clinicsAllnames.push(t);let e=[...new Set(r)],u=[...new Set(clinicsAllnames)];clinicsAllnames=u;i=e.filter(function(n){return n!=""});filteredUniqueClinicsAllNames=u.filter(function(n){return n!=""});let f=String(i[0]).replace(/\s/g,""),o=`
          <div class="clinics-names form-control-lg `+f+`">
              <label for="validationCustomS909" class="veterinaryclinicsname" tabindex="0">`+t+`</label>
              <img src="/ResourcePackages/Ecomm/assets/dist/images/icon/delete-icon.png" class="delete-icon" alt="delete-icon" tabindex="0" aria-label="Delete Veterinarian `+t+`" onclick="removeClinicValueDiv('`+t.replace("'","^")+`','`+f+`' )">
            </div>`;filteredUniqueClinicsAllNames.length>0&&tempArray.indexOf(i[0])==-1&&(jQuery("#addingNewClinics").append(o),tempArray.push(i[0]),othervatglobid.push([i[0],t]))}}),!btnFlag)if(n.val()){if(checkHTMLScriptTag(n)==!1)return;n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE");n.parents(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE");n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").hide();n.attr("type")!="radio"&&n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").addClass("validInputRight");n.parents(".enrollFieldsMainDiv").find(".select2-selection--single").addClass("validInputRight")}else n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),n.parents(".enrollFieldsMainDiv").find(".select2-selection.select2-selection--single").css({"border-color":"#dc3545","border-width":"1px","border-style":"solid"}),n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").show()}function checkDuplicateNames(){var n=!0,i=$("#petId").text(),t=$("#hdnmodelaction").val(),r=$.trim($("#validationCustom01").val()).toLowerCase();if(jQuery(".unique-pet-name").hide(),localStorage.getItem("ls_pts")){let u=JSON.parse(localStorage.getItem("ls_pts"));if(u!=null){if(u.length==1&&t=="edit")return n;u.forEach(u=>{r==$.trim(u.quotePetName).toLowerCase()&&(t=="edit"&&u.id!=i&&(jQuery(".unique-pet-name").show(),$("#validationCustom01").focus(),n=!1),t=="add"&&(jQuery(".unique-pet-name").show(),$("#validationCustom01").focus(),n=!1))})}}return n}function mainSearchUiFunction(){$(".search-input-field").focus(function(){$(this).parent().addClass("focused")}).blur(function(){$(this).parent().removeClass("focused")});$(".search-field").focus(function(){$(this).parent().addClass("focused")}).blur(function(){$(this).parent().removeClass("focused")});$(".searchBoxCancelResult").click(function(){$("#globalSerachBoxInputResult,#faqInputResult,#location").val("");$(this).hide()});$(".searchBoxCancel").click(function(){$("#globalSerachBoxInput").val("");$("#globalSerachBoxInputMob").val("");$(this).hide()});$("#globalSerachBoxInputResult,#faqInputResult,#faqSerachBoxInputResult").on("keyup",function(){$(this).parent().find(".searchBoxCancelResult ").show()});$("#globalSerachBoxInput").on("keyup",function(){$(this).parent().find(".searchBoxCancel").show()});$("#globalSerachBoxInputMob").on("keyup",function(){$(this).parent().find(".searchBoxCancel").show()})}function validate(){var t=!0,n=!1;return document.querySelector(".validTransitNo-err")!=null&&(document.querySelector(".validTransitNo-err").style.display="none"),checkMobileNumber()==!1&&(t=!1),jQuery(".enrollFields").each(function(){btnFlag=!1;let i=jQuery(this);if(jQuery(this).val()&&jQuery(this).val()!=" "){jQuery(this).parents(".enrollFieldsMainDiv").children().children(".enrollFieldsDiv").css("border-color","##000000");jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE");jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE");jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").hide();jQuery(this).attr("type")!="radio"&&jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").addClass("validInputRight");checkValidEmail(i)==!1||checkValidPostalCodeUS(i)==!1||isPhoneNumberInputPopulated(i)==!1||checkHTMLScriptTag(i)==!1?(t=!1,$(this).prop("type")!="select-one"?n||(jQuery(this).focus(),n=!0):n||($(this).select2("focus"),n=!0)):validateRoutingNumber(jQuery("#validationCustomS604").val(),currentLang)==!1&&(t=!1,$(this).prop("type")!="select-one"&&(n||(jQuery("#validationCustomS604").focus(),n=!0)));var r=CheckDateAndRange(jQuery(this));r!=null&&(t=r)}else jQuery(this).parents(".enrollFieldsMainDiv").children().children(".enrollFieldsDiv").css("border-color","#dc3545"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection.select2-selection--single").css({"border-color":"#dc3545","border-width":"1px","border-style":"solid"}),$(this).prop("type")!="select-one"?n||(jQuery(this).focus(),n=!0):n||($(this).select2("focus"),n=!0),(jQuery(this)[0].id=="chkConsentInput"||jQuery(this)[0].id=="chkConsentInputmob")&&$("#dvDeskPayment").is(":visible")==!1&&jQuery(this)[0].id=="chkConsentInput"&&(n=!1),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").show(),t=!1,checkValidPostalCodeUS(i),checkValidEmail(i),isPhoneNumberInputPopulated(i)}),t}function checkHTMLScriptTag(n){var t=/[*|\":<>[\]{}`\\()';@&$%#!=+^`~?,-/]/;if(n[0].type!="email"&&n[0].type!="tel"&&n[0].type!="date"&&n[0].type!="select-one"&&n[0].id!="validationCustom08"&&n[0].id!="validationCustom07"&&n[0].id!="validationCustom09"&&n[0].id!="validationCustomS206ple")return n[0].classList&&n[0].classList.contains("pay")?checkPayHTMLScriptTag(n):(n[0].classList&&n[0].classList.contains("addr")&&(t=/[*|\":<>[\]{}`\\()';@&$%#!=+^`~?]/),t.test(n.val()))?($(n.siblings(".enrollFields-err")[0]).html(currentLang=="fr-ca"?"Caractères invalides saisis.":"Invalid characters entered."),btnFlag=!1,commonSpInputValidation(n),!1):/(\s{2,}|[*\\.,\(\)\"\'\:\;\-\&])/.test(n.val())?($(n.siblings(".enrollFields-err")[0]).html(currentLang=="fr-ca"?"Caractères invalides saisis.":"Invalid characters entered."),btnFlag=!1,commonSpInputValidation(n),!1):void 0}function checkPayHTMLScriptTag(n){var t=/[*|\":<>[\]{}`\\();@&$%#!=+^`~?,]/;return(n[0].classList&&n[0].classList.contains("addr")&&(t=/[*|\":<>[\]{}`\\();@&$%#!=+^`~?]/),t.test(n.val()))?($(n.siblings(".enrollFields-err")[0]).html(currentLang=="fr-ca"?"Caractères invalides saisis.":"Invalid characters entered."),btnFlag=!1,commonSpInputValidation(n),!1):/(\s{2,}|[*\\,\(\)\"\:\;\&])/.test(n.val())?($(n.siblings(".enrollFields-err")[0]).html(currentLang=="fr-ca"?"Caractères invalides saisis.":"Invalid characters entered."),btnFlag=!1,commonSpInputValidation(n),!1):void 0}function checkValidPostalCodeUS(n){if(n.attr("name")=="QuotePetZipCode"){var t=window.location.href,i=$("#hdnQuoteZipCodeNotFoundErrorMsg").val();if(t.indexOf("/ca-en/")!==-1||t.indexOf("/en-ca/")!==-1){if((!/^([ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Za-z]{1})( |-)*(\d{1}[A-Za-z]{1}\d{1})$/.test(n.val())||!(n.val().length<=7))&&(!/^(\d{5})( |-)*(\d{4})?$/.test(n.val())||!(n.val().length<=5)))return btnFlag=!1,commonSpInputValidation(n),jQuery("#hdnquotepostalcode").length&&(jQuery("#hdnquotepostalcode").val(""),i!=undefined?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html(i):currentLang=="fr-ca"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Code postal introuvable."):currentLang=="en-au"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Postal code not found."):n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Zip code not found.")),!1}else if(t.indexOf("/en-au/")!==-1||t.indexOf("/en-AU/")!==-1){if((!/^([ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Za-z]{1})( |-)*(\d{1}[A-Za-z]{1}\d{1})$/.test(n.val())||!(n.val().length<=7))&&(!/^\d{4}$/.test(n.val())||!(n.val().length<=4)))return btnFlag=!1,commonSpInputValidation(n),jQuery("#hdnquotepostalcode").length&&(jQuery("#hdnquotepostalcode").val(""),currentLang!="fr-ca"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Postal code not found."):n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Code postal introuvable.")),!1}else if((!/^(\d{5})( |-)*(\d{4})?$/.test(n.val())||!(n.val().length<=5))&&(!/^([ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Za-z]{1})( |-)*(\d{1}[A-Za-z]{1}\d{1})$/.test(n.val())||!(n.val().length<=7)))return btnFlag=!1,commonSpInputValidation(n),jQuery("#hdnquotepostalcode").length&&(jQuery("#hdnquotepostalcode").val(""),i!=undefined?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html(i):currentLang=="fr-ca"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Code postal introuvable."):currentLang=="en-au"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Postal code not found."):n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Zip code not found.")),!1}else return}function checkPostalCodeExists(n){if(n.attr("type")=="hidden"&&n.attr("Id")=="hdnquotepostalcode"){if(!(n.val().length>0))return btnFlag=!1,n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),ZipCodeNotFoundErrorMessage!=undefined?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html(ZipCodeNotFoundErrorMessage):currentLang=="fr-ca"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Code postal introuvable."):currentLang=="en-au"?n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Post code not found."):n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("Zip code not found."),n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").show(),!1}else return}function checkValidEmail(n){if(n.attr("type")=="email"){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n.val()))return/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(n.val())&&n.siblings(".enrollFields-err").html(currentLang=="fr-ca"?"Caractères invalides saisis.":"Invalid characters entered."),btnFlag=!1,commonSpInputValidation(n),!1}else return}function isPhoneNumberInputPopulated(n){if(n.attr("name")=="TxtPhone"||n.attr("name")=="Mobile"||n.attr("name")=="Phone"){if(n.attr("required")!="required")return!0;const t=n.val();if(!t||t===""||t.length==0)return btnFlag=!1,commonSpInputValidation(n),!1}return!0}function checkMobileNumber(){const t=document.getElementById("mobilePhoneNumber"),n=document.getElementById("mobilePhoneNumberValidationErrorMessage");if(!t||!n)return!0;let i=validateMobileNumber(t.value);return i?(n.style.display="none",!0):(n.style.display="block",!1)}function validateMobileNumber(n){return!n||n.length==0?!0:n.length==14&&/^\(?([2-9][0-8][0-9])\)?[-. ]?([2-9][0-9]{2})[-. ]?([0-9]{4})$/.test(n)}function commonSpInputValidation(n){n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545");n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight");n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").show()}function checkValidation(n){n.parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE");n.parents(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE");n.parents(".enrollFieldsMainDiv").children(".enrollFields-err").hide()}function validateM(){var n=!0,t=!1,i;return jQuery(".path1-fields-modal .enrollModelFields").each(function(){btnFlag=!1;jQuery(this).val()&&jQuery(this).val()!=" "?checkHTMLScriptTag(jQuery(this))==!1?n=!1:(jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE"),jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").hide(),jQuery(this).attr("type")!="radio"&&jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").addClass("validInputRight")):(jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection.select2-selection--single").css({"border-color":"#dc3545","border-width":"1px","border-style":"solid"}),$(this).prop("type")!="select-one"?t||(jQuery(this).focus(),t=!0):t||($(this).select2("focus"),t=!0),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").show(),n=!1)}),jQuery(".step-2-editbtn-modal").attr("style")&&(i=checkDuplicateNames(),i==!1&&(n=!1)),n}function validateM2(){var t=!0,n=!1;return jQuery(".path2-fields-modal .enrollModelFields").each(function(){btnFlag=!1;jQuery(this).val()&&jQuery(this).val()!=" "?(jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE"),jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").hide(),jQuery(this).attr("type")!="radio"&&jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").addClass("validInputRight")):(jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),jQuery(this).parents(".enrollFieldsMainDiv").find(".select2-selection.select2-selection--single").css({"border-color":"#dc3545","border-width":"1px","border-style":"solid"}),$(this).prop("type")!="select-one"?n||(jQuery(this).focus(),n=!0):n||($(this).select2("focus"),n=!0),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),jQuery(this).parents(".enrollFieldsMainDiv").children(".enrollFields-err").show(),t=!1)}),t==!0&&(jQuery(".step-2-btn-modal").attr("disabled",!1),jQuery(".step-2-editbtn-modal").attr("disabled",!1)),t}function removeClinicValueDiv(n,t){for(n=n.replace("^","'"),i=0;i<filteredUniqueClinicsAllNames.length;i++)String(filteredUniqueClinicsAllNames[i]).replace(/\s/g,"")==n.replace(/\s/g,"")&&(jQuery("."+t).remove(),filteredUniqueClinicsAllNames.splice(i,1),tempArray.splice(i,1),othervatglobid.splice(i,1),clinicsAllnames.splice(i,1))}function slickify(){var n=$(".card-row").siblings(".home-caros-arrow-pointer").children(".prev"),t=$(".card-row").siblings(".home-caros-arrow-pointer").children(".next");$(".card-row").slick({autoplay:!0,arrows:!0,centerMode:!0,centerPadding:"20px",slidesToShow:1,slidestoscroll:1,dots:!0,prevArrow:n,nextArrow:t})}function getSliderValue(n){var l,f,e,t,o,i,s,u,r,c,p,w,b;if(jQuery(".based-on-loc-input").html()=="%")l=parseInt($("#hdndeductval").val()),t=getObjects(Jobj,"CoinsurancePercent",n),t.length>0&&(deductglob=n,jQuery(".setSliderValue").html(n+"%"),i=Number(t[0].Premium).toFixed(2),ShowFloridaModel(n),f=n*l/100,e=l-f,currentLang=="fr-ca"?(jQuery(".changevalone").html(f.toLocaleString()+"$"),jQuery(".changevaltwo").html(e.toLocaleString()+"$"),jQuery(".price-selected-text").html(i+"$"),jQuery(".header-val-label").html(i+"$")):currentLang=="en-au"?(jQuery(".changevalone").html("$"+f.toLocaleString()),jQuery(".changevaltwo").html("$"+e.toLocaleString()),s=$("#hdnPetTaxPercentage").val(),u=parseFloat(getPercentageValue(i,s)),$(".petTax").html(u),r=parseFloat(i+u,2),jQuery(".price-selected-text").html("$"+r.toFixed(2)),jQuery(".header-val-label").html("$"+r.toFixed(2)),jQuery(".monthlyPremium").html("$"+i.toFixed(2)),jQuery(".petMonthlyTotalWithTax").html("$"+r.toFixed(2))):(jQuery(".changevalone").html("$"+f.toLocaleString()),jQuery(".changevaltwo").html("$"+e.toLocaleString()),$(".spnpayoutpercentage").length&&jQuery(".spnpayoutpercentage").html(n.toLocaleString()+"%"),jQuery(".price-selected-text").html("$"+i),jQuery(".header-val-label").html("$"+i)),SetGreenButton(n));else{if(t=getObjects(Jobj,"Deductible",n),deductglob=n,t.length==0&&n!=""&&(o=parseInt(n),o>0&&o<=25?(t=getObjects(Jobj,"Deductible","0"),$("input[type=range]").val("0")):o>25&&o<50&&(t=getObjects(Jobj,"Deductible","50"),$("input[type=range]").val("50"))),t.length>0){if(i=Number(t[0].Premium).toFixed(2),document.getElementById("lbldeductibles")!=null&&(document.getElementById("lbldeductibles").innerHTML="$"+t[0].Deductible),currentLang=="fr-ca"?(document.getElementById("lbldeductibles").innerHTML=t[0].Deductible+"$",jQuery(".price-selected-text").html(i+"$"),jQuery(".header-val-label").html(i+"$")):currentLang=="en-au"?(s=$("#hdnPetTaxPercentage").val(),u=parseFloat(getPercentageValue(i,s)),$(".petTax").html(u),r=parseFloat(i,2)+parseFloat(u,2),r=r.toFixed(2),jQuery(".price-selected-text").html("$"+r),jQuery(".header-val-label").html("$"+r),jQuery(".monthlyPremium").html("$"+i),jQuery(".petMonthlyTotalWithTax").html("$"+r)):(jQuery(".price-selected-text").html("$"+i),jQuery(".header-val-label").html("$"+i)),t[0].PolicyOptionCalculations!=undefined&&t[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider!=undefined)if(currentLang=="fr-ca")jQuery(".lblrecoverycost-1").html(Number(t[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider.Cost).toFixed(2)+"$/mois");else if(currentLang=="en-au"){var a=$("#hdnPetTaxPercentage").val(),h=t[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider.Cost,u=parseFloat(getPercentageValue(h,a)),v=parseFloat(h,2)+parseFloat(u,2);jQuery(".lblrecoverycost-1").html("$"+Number(v).toFixed(2)+"/month")}else jQuery(".lblrecoverycost-1").html("$"+Number(t[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider.Cost).toFixed(2)+"/month");if(t[0].PolicyOptionCalculations!=undefined&&t[0].PolicyOptionCalculations.PetOwnerAssistanceRider!=undefined)if(currentLang=="fr-ca")jQuery(".lblrecoverycost-2").html(Number(t[0].PolicyOptionCalculations.PetOwnerAssistanceRider.Cost).toFixed(2)+"$/mois");else if(currentLang=="en-au"){var a=$("#hdnPetTaxPercentage").val(),h=t[0].PolicyOptionCalculations.PetOwnerAssistanceRider.Cost,u=parseFloat(getPercentageValue(h,a)),v=parseFloat(h,2)+parseFloat(u,2);jQuery(".lblrecoverycost-2").html("$"+Number(v).toFixed(2)+"/month")}else jQuery(".lblrecoverycost-2").html("$"+Number(t[0].PolicyOptionCalculations.PetOwnerAssistanceRider.Cost).toFixed(2)+"/month");c=3e3;$("#petTabsScroller").length>0&&(c=5e3);var f=c/10,e=parseFloat(n)+parseFloat(f),k=90*c/100,y=parseFloat(k)-parseFloat(n);currentLang=="fr-ca"?(jQuery(".changevalone").html(y.toLocaleString()+"$"),jQuery(".changevaltwo").html(e.toLocaleString()+"$"),$(".spndeductible").length&&jQuery(".spndeductible").html(n.toLocaleString()+"$")):(jQuery(".changevalone").html("$"+y.toLocaleString()),jQuery(".changevaltwo").html("$"+e.toLocaleString()),$(".spndeductible").length&&jQuery(".spndeductible").html("$"+n.toLocaleString()));SetGreenButton(n)}jQuery(".setSliderValue").html("90%")}jQuery("#lbldeductibles").html()!=undefined&&(p=jQuery("#lbldeductibles").html().replace("$","").replace("%",""),jQuery("#hdnDeductiblesVal").val(p));w=jQuery(".setSliderValue").html().replace("%","").replace("$","");b=jQuery(".header-val-label").html().replace("%","").replace("$","");jQuery("#hdnPayoutVal").val(w);jQuery("#hdnPremium").val(b);updateMonthlyTotal();setSliderValueInStorage();try{GetHTMLForViewDetailsPopUp()}catch(d){console.log(d.message)}}function getObjects(n,t,i){var r=[];for(var u in n)n.hasOwnProperty(u)&&(typeof n[u]=="object"?r=r.concat(getObjects(n[u],t,i)):u==t&&n[t]==i&&r.push(n));return r}function RemoveRider(n){$("#petTabsScroller").length>0&&($(n).prop("checked",!1),setRaiderval(n))}function setRaiderval(n){n.checked?($("#petTabsScroller").length>0&&($(n).parents(".enhance-coverage-sub-details").addClass("active"),$(n).siblings("label.enhanced-plan-name").html(selectedTextVal)),n.id=="flexCheckDefault-1"?jQuery("#hdnRecoveryAndComplementaryCareRider").val("true"):jQuery("#hdnIncludePetOwnerAssistanceRider").val("true"),updateMonthlyTotal(n)):($("#petTabsScroller").length>0&&($(n).parents(".enhance-coverage-sub-details").removeClass("active"),$(n).siblings("label.enhanced-plan-name").html(selectThisRidertext)),n.id=="flexCheckDefault-1"?jQuery("#hdnRecoveryAndComplementaryCareRider").val("false"):jQuery("#hdnIncludePetOwnerAssistanceRider").val("false"),resetMonthlyTotal(n));setSliderValueInStorage();GetHTMLForViewDetailsPopUp()}function commonRadiofn(n,t,i,r,u){n=="true"?(jQuery("#"+t).val("true"),jQuery("."+r).css("color","#3A5DAE"),jQuery("#"+i).val("NotChecked"),jQuery("."+u).css("color","#222725")):(jQuery("#"+i).val("false"),jQuery("."+u).css("color","#3A5DAE"),jQuery("#"+t).val("NotChecked"),jQuery("."+r).css("color","#222725"))}function GetHospitalByZip(n,t){n!=undefined&&n!="undefined"&&$.ajax({type:"get",url:"/gethospitalslist?zip="+n,success:function(n){var i=currentLang=="fr-ca"?"Sélectionner un vétérinaire":"Select veterinarian";n.length>0&&($("#"+t).html(""),$("#"+t).append($("<option><\/option>").attr("value","").text(i)),$.each(n,function(n,i){$("#"+t).append($("<option><\/option>").attr("value",i.Value).text(i.Text))}))},error:function(n,t,i){console.log(i)}})}function updateMonthlyTotal(n){var t,i,r;try{t=parseFloat(jQuery(".header-val-label").html().replace("$","").replace(",",""),2);n==undefined?($("#flexCheckDefault-1").prop("checked")==!0&&(i=parseFloat(jQuery(".lblrecoverycost-1").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t+i),$("#flexCheckDefault-2").prop("checked")==!0&&(r=parseFloat(jQuery(".lblrecoverycost-2").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t+r)):(n.checked&&n.id=="flexCheckDefault-1"&&(i=parseFloat(jQuery(".lblrecoverycost-1").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t+i),n.checked&&n.id=="flexCheckDefault-2"&&(r=parseFloat(jQuery(".lblrecoverycost-2").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t+r));jQuery(".header-val-label").html("$"+parseFloat(t).toFixed(2))}catch(u){console.log(u.message)}}function resetMonthlyTotal(n){var t=parseFloat(jQuery(".header-val-label").html().replace("$","").replace(",",""),2),i,r;n.checked||n.id!="flexCheckDefault-1"||(i=parseFloat(jQuery(".lblrecoverycost-1").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t-i);n.checked||n.id!="flexCheckDefault-2"||(r=parseFloat(jQuery(".lblrecoverycost-2").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""),2),t=t-r);jQuery(".header-val-label").html("$"+t.toFixed(2))}function setCookie(n,t,i){let r=new Date;r.setTime(r.getTime()+i*864e5);const u="expires="+r.toUTCString();document.cookie=n+"="+t+"; "+u+"; path=/"}function validateZipCodeForNewYorkOnly(n){if((!(n.value>=1e4)||!(n.value<=14999))&&n.value!=6390&&n.value!=501&&n.value!=544){let t=document.querySelector("#validationCustom05");return t.parentElement.querySelector(".enrollFields-err").innerText="Entered valid zipcode for New York.",n.focus(),!1}return!0}async function getStateNamefromZip(n){var t=!1,i;if(n=="")return $("#hdnquotepostalcode").parents(".enrollFieldsMainDiv").children(".enrollFields-err").html("This is a required field."),t;if(n.length>=4&&await $.ajax({type:"get","async":!1,url:"/getinfobypostalcodes?postalCode="+n,success:async function(n){var i,r;if(n!="")if(i=JSON.parse(n),Object.keys(i).length>0)if($("#hdnquotestatename").val(i.State),$("#hdnquotepostalcode").val(i.Code),$("#hdnquotestatecode").val(i.StateCode),$("#hdnquotecountrycode").val(i.Country),$("#hdnquotecountryid").val(i.CountryId),$("#hdnquotecityname").val(i.City),checkPostalCodeExists($("#hdnquotepostalcode")),r=await getVersion($("#hdnquotepostalcode").val(),$("#hdnquotestatecode").val(),$("#hdnquotecountrycode").val(),$("#hdnquotestatename").val()),r==!1)t=!1;else try{jQuery("#geoLocationHeaderDropdown").length&&jQuery("#geoLocationHeaderDropdown").val(i.State);jQuery("#geoLocationHeaderDropdown").val()!=null&&jQuery("#header-curr-location").length&&jQuery("#header-curr-location").html(i.State);jQuery("#location-name-header").length&&jQuery("#location-name-header").val("");SetCookieAndUrlOnLocationChange();t=!0}catch(u){console.log(u.message);t=!1}else $("#hdnquotepostalcode").val(""),$("#hdnquotestatename").val(""),$("#hdnquotestatecode").val(""),$("#hdnquotecountrycode").val(""),$("#hdnquotecountryid").val(""),$("#hdnquotecityname").val(""),checkPostalCodeExists($("#hdnquotepostalcode")),t=!1},error:function(){$("#validationCustom05").val("");$("#hdnquotepostalcode").val("");$("#hdnquotestatename").val("");$("#hdnquotestatecode").val("");$("#hdnquotecountrycode").val("");$("#hdnquotecountryid").val("");$("#hdnquotecityname").val("");t=!1}}),value.landingData.UsedForText=="Super_Cert"||GetQueryStringValueByName("cert_type")&&GetQueryStringValueByName("cert_type")=="fullissuecert"){let n=document.querySelector("#validationCustom05");i=validateZipCodeForNewYorkOnly(n);i?(document.querySelector("#btnsubmit").disabled=!1,n.parentElement.querySelector(".enrollFieldsDiv").style.borderColor="",n.parentElement.querySelector(".enrollFields-err").style.display="none",t=!0):(document.querySelector("#btnsubmit").disabled=!0,n.parentElement.querySelector(".enrollFieldsDiv").style.borderColor="#dc3545",n.parentElement.querySelector(".enrollFields-err").style.display="block",n.focus(),t=!1)}return t}async function getVersion(n,t,i,r){var u=!1;return $.ajax({type:"get","async":!1,data:{PostalCode:n,StateOrProvinceCode:t,CountryCode:i,state:r},url:"/getversionfromstate",success:function(n){if(Object.keys(n).length==0)u=!1;else{var t={path:n.Path,defaultSelectedValue:n.DefaultSelectedValue,premiumIntervalType:n.PremiumCalculationIntervalType,premiumCalculationInterval:n.PremiumCalculationInterval,custompayoutslidermin:n.custompayoutslidermin,custompayoutslidermax:n.custompayoutslidermax};SetCookie("ver_conf",JSON.stringify(t),30);u=!0}},error:function(n,t,i){console.log(i);u=!1}}),u}function SetPetType(n){n=="Dog"?(jQuery("#validationCustom02").val("Dog"),jQuery(".dgimg").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/dog-selected.png"),jQuery(".dglbl").css("color","#3A5DAE"),jQuery("#validationCustom022").val("NotChecked")):n=="Cat"&&(jQuery("#validationCustom022").val("Cat"),jQuery(".ctimg").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/cat-selected.svg"),jQuery(".ctlbl").css("color","#3A5DAE"),jQuery("#validationCustom02").val("NotChecked"))}function setGender(n){n=="M"?(jQuery("#validationCustom03").val("M"),jQuery(".mlbl").css("color","#3A5DAE"),jQuery("#validationCustom033").val("NotChecked")):n=="F"&&(jQuery("#validationCustom033").val("F"),jQuery(".flbl").css("color","#3A5DAE"),jQuery("#validationCustom03").val("NotChecked"))}function unique(n){var t=[],i=[];return $.each(n,function(n,r){n!=0?$.inArray(r[0],i)==-1&&(t.push(r),i.push(r[0])):(t.push(r),i.push(r[0]))}),t}function getCookie(n){var t=document.cookie.match("(^|;) ?"+n+"=([^;]*)(;|$)");return t?t[2]:null}function aboutPetDetailsAcc(){if(jQuery(".aboutPetTitleTxt").attr("aria-expanded")&&jQuery(".aboutPetTitleTxt").html("Pet details"),jQuery(".aboutPetTitleTxt").attr("aria-expanded")=="false"){let n="Kenny";currentLang=="fr-ca"?jQuery(".aboutPetTitleTxt").html("À propos "+n):jQuery(".aboutPetTitleTxt").html("About "+n)}}function editPetInforInAcc(){currentLang=="fr-ca"?jQuery(".aap-modal-head").html("Modifier les informations sur l'animal"):jQuery(".aap-modal-head").html("Edit pet information");jQuery(".aap-modal-sub-text").hide()}function aapPlusIconfn(){currentLang=="fr-ca"?jQuery(".aap-modal-head").html("Ajoutez un autre animal à votre police"):jQuery(".aap-modal-head").html("Add another pet to your policy");jQuery(".aap-modal-sub-text").show();$("#validationCustomS208-m").length&&$("#validationCustomS208-m").removeClass("enrollFields");bootstrap.Tooltip.getOrCreateInstance(".fa-info-circle");setTimeout(triggerSelectDropD,500)}function getBornDateModal(){var n=new Date,t="",r=currentLang=="fr-ca"?"8 semaines à 12 mois":"8 weeks to 12 months old",u=currentLang=="fr-ca"?"0 – 7 semaines":"0-7 weeks old",i;if(jQuery("#validationCustom07").val()==""){if(jQuery("#validationCustom04-m").val()==r)return n.setMonth(n.getMonth()-3),n.setDate(n.getDate()-7),t=pad(n.getMonth()+1)+"/"+pad(n.getDate())+"/"+n.getFullYear();if(jQuery("#validationCustom04-m").val()==u)return n.setMonth(n.getMonth()-1),n.setDate(n.getDate()-7),t=pad(n.getMonth()+1)+"/"+pad(n.getDate())+"/"+n.getFullYear();if(jQuery("#validationCustom04-m").val()!=""){const r=jQuery("#validationCustom04-m").val().split(" ");return i=r[0]*12,n.setMonth(n.getMonth()-i),n.setDate(n.getDate()-7),t=pad(n.getMonth()+1)+"/"+pad(n.getDate())+"/"+n.getFullYear()}}else return validationCustom07.value}function setBreeder(){setTimeout(function(){var n=document.querySelector("input[type=radio][name=DetailIsNeutered]:checked");n.value=="false"?($("#dvbree").show(),$("#rdBreederRider1").addClass("enrollFields"),$("#rdBreederRider2").addClass("enrollFields")):($("#dvbree").hide(),$("#rdBreederRider1").removeClass("enrollFields"),$("#rdBreederRider2").removeClass("enrollFields"),document.getElementById("rdBreederRider1")!=undefined&&(document.getElementById("rdBreederRider1").checked=!1),document.getElementById("rdBreederRider2")!=undefined&&(document.getElementById("rdBreederRider2").checked=!1))},400)}function setBreederValue(){setTimeout(function(){var n=document.querySelector("input[type=radio][name=DetailIsBreeder]:checked");n!=null&&(n.id=="rdBreederRider2"?commonRadiofn("false","rdBreederRider1","rdBreederRider2","rdbryes","rdbrno"):commonRadiofn("true","rdBreederRider1","rdBreederRider2","rdbryes","rdbrno"))},300)}function setenrolcustomlabelval(n){var t,i;document.getElementById("hdnvalidationCustomS206mod")!=null&&(t=document.getElementById("hdnvalidationCustomS206mod").value,t=t.substring(0,t.length-1),n.selectedIndex!=-1&&(document.getElementById("lblvalidationCustomS206mod").innerHTML=t+" "+n.options[n.selectedIndex].text+"?",i=$("#validationCustom01").val(),$(".clspetname").html(i)))}function loadData(){var i=document.getElementById("validationCustomS205"),r=document.getElementById("hdnvalidationCustomS206mod").value,t,n;if(r=r.substring(0,r.length-1),i.selectedIndex!=-1&&i.options[i.selectedIndex].text!="Select Veterinary clinics"&&(document.getElementById("lblvalidationCustomS206mod").innerHTML=r+" "+i.options[i.selectedIndex].text+"?"),i=document.getElementById("validationCustomS208"),document.getElementById("validationCustomS206").checked?(jQuery(".otherVeterinariansVisitedDiv").show(),$("#validationCustomS208-m").length&&$("#validationCustomS208-m").addClass("enrollModelFields")):(jQuery(".otherVeterinariansVisitedDiv").hide(),$("#validationCustomS208-m").length&&$("#validationCustomS208-m").removeClass("enrollModelFields")),$("#hdnothervatarry").val()!="")for(t=$("#hdnothervatarry").val().split(","),n=0;n<t.length;n++){let i=`
              <div class="clinics-names form-control-lg `+t[n]+`">
                  <label for="validationCustomS909" class="veterinaryclinicsname" tabindex="0">`+t[n+1]+`</label>
                  <img src="/ResourcePackages/Ecomm/assets/dist/images/icon/delete-icon.png" tabindex="0" class="delete-icon" aria-label="Delete veterinarian `+t[n+1]+`" alt="delete-icon" onclick="removeClinicValueDiv('`+t[n+1].replace("'","^")+`','`+t[n]+`' )">
                </div>`;jQuery("#addingNewClinics").append(i);othervatglobid.push([t[n],t[n+1]]);filteredUniqueClinicsAllNames.push(t[n+1]);tempArray.push(t[n]);pastvet=t[n+1];n=n+1}}function ResetControl(){SetRadioButtonEvent();jQuery(".ctimg").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/cat.png");jQuery(".dgimg").attr("src","/ResourcePackages/Ecomm/assets/dist/images/img/dog.png");$(".dvmdpop").find(".enrollModelFields").each(function(){$(this).prop("type")=="text"?$(this).val(""):$(this).prop("type")=="radio"?($(this)[0].checked=!1,$(this).val("")):$(this).prop("type")=="select-one"&&($(this).val(""),$(this).val("").trigger("change"));jQuery(".enrollModelFields").css("border-color","#3A5DAE");jQuery(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE");jQuery(".enrollFields-err").hide();jQuery("#addingNewClinics").html("");jQuery("#hdnothervatarry").val("");jQuery(".otherVeterinariansVisitedDiv").hide();jQuery("#validationCustomS208-m").val("")});jQuery("#dvbreedsizeselectpopup").hide();$(".dvmdpop").find("label").each(function(){$(this).css("color","#222725")});$(".dvmdpop").find(".enrollModelFields").each(function(){jQuery(".enrollModelFields").css("border-color","#3A5DAE");$(this).parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#3A5DAE");jQuery(".enrollFieldsMainDiv").find(".select2-selection--single").css("border-color","#3A5DAE")});othervatglobid=[]}function zuoraSubmitHandler(n){n.preventDefault();Z.submit()}function showCreditCardForm(n){function r(n){var t=typeof n;return null!==n&&("object"===t||"function"===t)}function u(){var n={},t=$(".dueAmount").val(),i=$("#hdnCountryCode").val()==undefined?"":$("#hdnCountryCode").val(),r=$("#hdnStateOrProvinceCode").val()==undefined?"":$("#hdnStateOrProvinceCode").val(),u=$("#validationCustom4406").val()==undefined?"":$("#validationCustom4406").val();return new Promise(function(f,e){$.ajax({url:document.location.pathname+"/GetEcommWidgetValues",dataType:"json","async":!0,data:{finalAmount:t,countrycode:i,statecode:r,postcode:u},headers:{"Accept-Language":currentLang},success:function(t){n=t;f(t)},fail:function(n){e(Error("AJAX call failed"));console.log(n)},error:function(){top.location.href.includes("en-ca")?top.location.replace("/en-ca/enrollments/enrollment-path-error"):top.location.replace("/enrollments/enrollment-path-error")}})})}function f(n){function u(n){var i=$("#zuora_payment"),r,u=i.find("iframe").prop("id");if(console.log("ZCallback: response:"),console.log("  errorCode",n.errorCode),console.log("  errorMessage",n.errorMessage),n.success)i.find(">.error").remove(),t.submit();else return i.prepend('<div class="error">'),r=i.find(">.error"),r.css({color:"red"}).html(n.errorMessage),u&&$("#"+u).remove(),!1}function f(n){return n.includes("[Submit_Too_Quick]")}function e(n,t,i){console.log("ZErrorMessage:");console.log("  key: ",n);console.log("  code: ",t);console.log("  message: ",i);var r=i,u={creditCardNumber:currentLang!="fr-ca"?"Card Number Required":"Numéro de carte requis",cardSecurityCode:currentLang!="fr-ca"?"CVV Required":"CVV requis",creditCardExpirationYear:currentLang!="fr-ca"?"Expiration Year Required":"Année d'expiration requise",creditCardExpirationMonth:currentLang!="fr-ca"?"Expiration Month Required":"Mois d'expiration requis",creditCardType:currentLang!="fr-ca"?"Invalid Card Type":"Type de carte invalide",creditCardHolderName:currentLang!="fr-ca"?"CardHolder Name Required":"Nom du titulaire de la carte requis",error:currentLang!="fr-ca"?"Server Validation Failed":"Échec de la validation du serveur"};switch(t){case"001":r=u[n]||"Server Validation Failed";setFocusPaymentIframe();break;case"002":n==="creditCardNumber"&&(r=currentLang!="fr-ca"?"Card Number Mismatch":"Numéro de carte",setFocusPaymentIframe());break;case"004":n==="creditCardNumber"&&(r=currentLang!="fr-ca"?"Invalid CVV":"CVV non valide",setFocusPaymentIframe());break;default:f(i)?(r=currentLang!="fr-ca"?"Sorry, Captcha verification failed. Please call if this issue persists.":"Désolé, la vérification du CAPTCHA a échoué. Veuillez appeler si ce problème persiste.",setFocusPaymentIframe()):(r=currentLang!="fr-ca"?"Sorry there is an issue using your credit card number":"Désolé, il y a un problème en utilisant votre numéro de carte de crédit",setFocusPaymentIframe())}return Z.sendErrorMessageToHpm(n,r),$("#mySpinner").removeClass("spinner"),$("#mySpinner").width(0).height(0),!1}var i=$.extend({},n,{});r(Z)?($("#zuora_payment").css("visibility","hidden"),$("#mySpinner").width(434).height(375),$("#mySpinner").addClass("spinner"),Z.renderWithErrorHandler(i,{},u,e),Z.runAfterRender(function(n){$("#zuora_payment").css("visibility","visible");$("#mySpinner").removeClass("spinner");$("#mySpinner").width(0).height(0);console.log("Z.serverAfterRenderCallback: ",n);t.off("submit",zuoraSubmitHandler).on("submit",zuoraSubmitHandler)})):console.error("Z is undefined")}var i=$("#zuora_payment"),t=$(n.form);u().then(function(n){if(!validateZuoraAuthData(n)){console.error("Cannot retrieve required auth tokens for z iframe");throw"Credit card payment currently not available";}f(n)}).catch(function(n){$(CC_ERROR_MESSAGE_SELECTOR).remove();var t=$("<div>",{"class":"validation-summary-errors text-danger"}),r=n;t.text(r||n);i.prepend(t)})}function validateZuoraAuthData(n){return!n.id||!n.id.length?!1:!n.key||!n.key.length?!1:!n.tenantId||!n.tenantId.length?!1:!n.token||!n.token.length?!1:!n.url||!n.url.length?!1:!0}function zCallback(n){n.success?jQuery(".step-1-btn").attr("disabled",!1):(console.log(JSON.stringify(n)),console.log("Payment refId: "+n.refId),jQuery(".step-1-btn").attr("disabled",!0));jQuery("#mySpinner").removeClass("spinner");jQuery("#mySpinner").width(0).height(0);jQuery(".step-1-btn").html($("#hdnbtntextval").val())}function zErrorMessageCallback(n,t,i){console.log("ZErrorMessage:");console.log("  key: ",n);console.log("  code: ",t);console.log("  message: ",i);var r=i,u={creditCardNumber:currentLang!="fr-ca"?"Card Number Required":"Numéro de carte requis",cardSecurityCode:currentLang!="fr-ca"?"CVV Required":"CVV requis",creditCardExpirationYear:currentLang!="fr-ca"?"Expiration Year Required":"Année d'expiration requise",creditCardExpirationMonth:currentLang!="fr-ca"?"Expiration Month Required":"Mois d'expiration requis",creditCardType:currentLang!="fr-ca"?"Invalid Card Type":"Type de carte invalide",creditCardHolderName:currentLang!="fr-ca"?"CardHolder Name Required":"Nom du titulaire de la carte requis",error:currentLang!="fr-ca"?"Server Validation Failed":"Échec de la validation du serveur"};switch(t){case"001":r=u[n]||"Server Validation Failed";setFocusPaymentIframe();break;case"002":n==="creditCardNumber"&&(r=currentLang!="fr-ca"?"Card Number Mismatch":"Numéro de carte",setFocusPaymentIframe());break;case"004":n==="creditCardNumber"&&(r=currentLang!="fr-ca"?"Invalid CVV":"CVV non valide",setFocusPaymentIframe());break;default:IsReCaptchaError(i)?(r=currentLang!="fr-ca"?"Sorry, Captcha verification failed. Please call if this issue persists.":"Désolé, la vérification du CAPTCHA a échoué. Veuillez appeler si ce problème persiste.",setFocusPaymentIframe()):(r=currentLang!="fr-ca"?"Sorry there is an issue using your credit card number":"Désolé, il y a un problème en utilisant votre numéro de carte de crédit",setFocusPaymentIframe())}Z.sendErrorMessageToHpm(n,r);jQuery("#mySpinner").removeClass("spinner");jQuery("#mySpinner").width(0).height(0);jQuery(".step-1-btn").html($("#hdnbtntextval").val());return}function IsReCaptchaError(n){return n.includes("[Submit_Too_Quick]")}function loadHostedPage(){jQuery("#mySpinner").width(322).height(375);jQuery("#mySpinner").addClass("spinner");Z.setEventHandler("onloadCallback",function(){console.warn("HPM page is loaded.");jQuery("#z_hppm_iframe").height(570);jQuery("#mySpinner").removeClass("spinner");jQuery("#mySpinner").width(0).height(0)});Z.renderWithErrorHandler(params,prepopulateFields,zCallback,zErrorMessageCallback)}function submitPage(){document.getElementById("errorMessage").innerHTML="";Z.submit()}function PetInfo(n){var t="",i;if(GetCookie("ver_conf")!=""&&(i=JSON.parse(GetCookie("ver_conf")),t=i.path),$(".petName").bind("click",function(){$(".petName").removeClass("active");$(this).addClass("active")}),localStorage.getItem("ls_pts")){let i=JSON.parse(localStorage.getItem("ls_pts"));i.forEach(i=>{var f,u,e,r;if(i.id==n){f="";SetBreedImage(i.detailBreed,i.quotePetType.toLowerCase());currentLang=="fr-ca"?(jQuery(".pet").html("À propos "+i.quotePetName),f=i.quotePetGender=="F"?"Femelle":"Mâle",jQuery(".Unfort").html("Malheureusement, vous ne pouvez pas inscrire "+i.quotePetName+" aujourd'hui"),jQuery(".txtRemove").html("Êtes-vous sûr de vouloir supprimer "+i.quotePetName+"?")):(jQuery(".pet").html("About "+i.quotePetName),f=i.quotePetGender=="F"?"Female":"Male",jQuery(".Unfort").html("Unfortunately you can't enroll "+i.quotePetName+" today"),jQuery(".txtRemove").html("Are you sure you want to remove "+i.quotePetName+"?"));$(".sppetname").length&&$(".sppetname").html(i.quotePetName);$(".sppetbreed").length&&$(".sppetbreed").text(GetBreedShortName(i.detailBreed));$(".sppettype").length&&$(".sppettype").html(i.quotePetType.toLowerCase());jQuery(".petId").html(n);jQuery(".petEditFormId").attr("value",n);jQuery(".petGenderAge").html(f+", "+i.quotePetAge);jQuery(".petBreed").text(i.detailBreed);jQuery(".petEdit").attr("id",n);jQuery(".pet1-s3-view").attr("id",n);jQuery("div.petPrice#"+n).show();jQuery(".petRemove").show();jQuery(".petRemove").attr("id",n);n==1?jQuery(".petRemove").hide():jQuery(".petRemove").show();try{Jobj=JSON.parse(i.petPremium)}catch(l){Jobj=i.petPremium}if(i.planMax=="0"?$("#date1").attr({max:Jobj.MaxRange,min:Jobj.MinRange,value:Jobj.DeductiblesVal}):$("#date1").attr({max:i.planMax,min:i.planMin,value:t=="1.0"||t=="1.1"?i.planDeductibleVal:i.planPayoutVal}),t=="1.0"||t=="1.1"){if(r=null,r=Jobj.PremiumDataList?getObjects(Jobj.PremiumDataList,"Deductible",i.planDeductibleVal):getObjects(Jobj,"Deductible",i.planDeductibleVal),r.length>0){deductglob=r[0].Deductible;let n=jQuery(".slider");setSliderValue(n);u=Number(r[0].Premium).toFixed(2);currentLang=="fr-ca"?(document.getElementById("lbldeductibles").innerHTML=r[0].Deductible+"$",jQuery(".price-selected-text").html(u+"$"),jQuery(".header-val-label").html(u+"$")):(document.getElementById("lbldeductibles")!=null&&(document.getElementById("lbldeductibles").innerHTML="$"+r[0].Deductible),jQuery(".price-selected-text").html("$"+u),jQuery(".header-val-label").html("$"+u));r[0].PolicyOptionCalculations!=undefined&&(currentLang=="fr-ca"?(jQuery(".lblrecoverycost-1").html(Number(r[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider.Cost).toFixed(2)+"$/mois"),Number(r[0].PolicyOptionCalculations.PetOwnerAssistanceRider)&&jQuery(".lblrecoverycost-2").html(Number(r[0].PolicyOptionCalculations.PetOwnerAssistanceRider.Cost).toFixed(2)+"$/mois")):(jQuery(".lblrecoverycost-1").html("$"+Number(r[0].PolicyOptionCalculations.RecoveryAndComplementaryCareRider.Cost).toFixed(2)+"/month"),Number(r[0].PolicyOptionCalculations.PetOwnerAssistanceRider)&&jQuery(".lblrecoverycost-2").html("$"+Number(r[0].PolicyOptionCalculations.PetOwnerAssistanceRider.Cost).toFixed(2)+"/month")));e=3e3;$("#petTabsScroller").length>0&&(e=5e3);var o=e/10,s=parseFloat(r[0].Deductible)+o,c=90*e/100,h=parseFloat(c)-parseFloat(r[0].Deductible);currentLang=="fr-ca"?(jQuery(".changevaltwo").html(s.toLocaleString()+"$"),jQuery(".changevalone").html(h.toLocaleString()+"$")):(jQuery(".changevaltwo").html("$"+s.toLocaleString()),jQuery(".changevalone").html("$"+h.toLocaleString()));$(".changevalthree").html(r[0].CoinsurancePercent+"%");SetGreenButton(r[0].Deductible)}}else if(r=null,r=Jobj.PremiumDataList?getObjects(Jobj.PremiumDataList,"CoinsurancePercent",i.planPayoutVal):getObjects(Jobj,"CoinsurancePercent",i.planPayoutVal),r.length>0){jQuery("#lblpayoutperc").html(r[0].CoinsurancePercent+"%");deductglob=r[0].CoinsurancePercent;let n=jQuery(".slider");setSliderValue(n);var u=Number(r[0].Premium).toFixed(2),o=r[0].CoinsurancePercent*30,s=3e3-o;currentLang=="fr-ca"?(jQuery(".changevalone").html(o.toLocaleString()+"$"),jQuery(".changevaltwo").html(s.toLocaleString()+"$"),jQuery(".price-selected-text").html(u+"$"),jQuery(".header-val-label").html(u+"$")):(jQuery(".changevalone").html("$"+o.toLocaleString()),jQuery(".changevaltwo").html("$"+s.toLocaleString()),jQuery(".price-selected-text").html("$"+u),jQuery(".header-val-label").html("$"+u));$(".changevalthree").html(r[0].CoinsurancePercent+"%")}i.planRecoveryCheckVal==!0?($("#flexCheckDefault-1").prop("checked",!0),SetRiderSelection($("#flexCheckDefault-1")),jQuery("#hdnRecoveryAndComplementaryCareRider").val("true")):($("#flexCheckDefault-1").prop("checked",!1),DeSelectRiderSelection($("#flexCheckDefault-1")),jQuery("#hdnRecoveryAndComplementaryCareRider").val("false"));i.planPetOwnerCheckVal==!0?($("#flexCheckDefault-2").prop("checked",!0),SetRiderSelection($("#flexCheckDefault-2")),jQuery("#hdnIncludePetOwnerAssistanceRider").val("true")):($("#flexCheckDefault-2").prop("checked",!1),DeSelectRiderSelection($("#flexCheckDefault-2")),jQuery("#hdnIncludePetOwnerAssistanceRider").val("false"))}});i.length>4?jQuery(".petAdd").hide():jQuery(".petAdd").show()}setMonthlyAmount()}function SetGreenButton(n){if($("#petTabsScroller").length>0){$(".de1").removeClass("activegreen");$(".de2").removeClass("activegreen");$(".de3").removeClass("activegreen");var t=$(".de2").text().replace("$","").replace("%",""),i="cls-"+n;$("."+i).addClass("activegreen");n=="70"?$(".de1").addClass("activegreen"):n=="80"&&t=="80"?$(".de2").addClass("activegreen"):n=="85"&&t=="85"?$(".de2").addClass("activegreen"):n=="90"&&$(".de3").addClass("activegreen")}}function SetRiderSelection(n){$("#petTabsScroller").length>0&&($(n).parents(".enhance-coverage-sub-details").addClass("active"),$(n).siblings("label.enhanced-plan-name").html(selectedTextVal))}function DeSelectRiderSelection(n){$("#petTabsScroller").length>0&&($(n).parents(".enhance-coverage-sub-details").removeClass("active"),$(n).siblings("label.enhanced-plan-name").html(selectThisRidertext))}function setSliderValueInStorage(){var r=$(".petId").html(),t="",i="";jQuery(".lblrecoverycost-1").html()!=undefined&&(t=jQuery(".lblrecoverycost-1").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""));jQuery(".lblrecoverycost-2").html()!=undefined&&(i=jQuery(".lblrecoverycost-2").html().replace("$","").replace(",","").replace("/month","").replace("/mois",""));let n=JSON.parse(localStorage.getItem("ls_pts"));n!=null&&n.forEach(u=>{u.id==r&&(u.planMax=$("#date1").attr("max"),u.planMin=$("#date1").attr("min"),u.planMonth=jQuery(".sl-pet-mon").html().replace("%","").replace("$",""),u.planRecoveryCare=t,u.planPetOwner=i,u.planDeductibleVal=jQuery("#hdnDeductiblesVal").val(),u.planPayoutVal=jQuery("#hdnPayoutVal").val(),u.planRecoveryCheckVal=$("#flexCheckDefault-1").is(":checked"),u.planPetOwnerCheckVal=$("#flexCheckDefault-2").is(":checked"),localStorage.setItem("ls_pts",JSON.stringify(n)))});setMonthlyAmount()}function setMonthlyAmount(){let t=JSON.parse(localStorage.getItem("ls_pts"));var n=0;t!=null&&(t.forEach(t=>{n=n+parseFloat(t.planMonth),t.planPetOwnerCheckVal&&(n=n+parseFloat(t.planPetOwner)),t.planRecoveryCheckVal&&(n=n+parseFloat(t.planRecoveryCare))}),currentLang=="fr-ca"?$(".tp-1").html(parseFloat(n).toFixed(2)+"$"):$(".tp-1").html("$"+parseFloat(n).toFixed(2)))}function SetCookie(n,t,i){var r=CryptoJS.enc.Utf8.parse("8080808080808080"),u=CryptoJS.enc.Utf8.parse("8080808080808080"),f=t,e=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(f),r,{keySize:16,iv:u,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});document.cookie=n+"="+e+";"+i+";path=/"}function GetCookie(n){for(var i,u=CryptoJS.enc.Utf8.parse("8080808080808080"),f=CryptoJS.enc.Utf8.parse("8080808080808080"),r=document.cookie.split(";"),t=0;t<r.length;t++)if(i=r[t].trim(),i.indexOf(n)==0){var e=i.substring(n.length+1),o=CryptoJS.AES.decrypt(e,u,{keySize:16,iv:f,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return CryptoJS.enc.Utf8.stringify(o)}return""}function setSliderValue(n){$.fn.WBslider=function(){return n.each(function(){var t=jQuery(this),n=jQuery("input",t),i=jQuery(".setyear",t),r=60,u=maxr;n.attr("max",u);jQuery(".endyear",t).text(u);n.val(deductglob);n.on("input change keyup",function(){var o=jQuery(this),u;val=sin=="%"?parseInt(n.val())+sin:currentLang=="fr-ca"?parseInt(n.val())+sin:sin+parseInt(n.val());valWithoutSign=parseInt(n.val());i.text(val,sin);var t=(valWithoutSign-n.attr("min"))/(n.attr("max")-n.attr("min")),f=r*(t-.5)*-1,e=Math.round(t*n.width()-r/4+f);i.css({left:e});t=Math.round(t*99);u="linear-gradient(90deg, #2F65B6 "+t+"%,#D5E0F0 "+(t+1)+"%)";n.css({background:u})}).on("focus",function(){isNaN(jQuery(this).val())&&jQuery(this).val(0)}).trigger("change");jQuery(window).on("resize",function(){n.trigger("change")})})};jQuery(function(){jQuery(".slider").WBslider()})}function SearchDataByValue(){var n=encodeURIComponent($("#globalSerachBoxInput").val());n!=""&&n.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/search-results?indexCatalogue=global&searchQuery="+n:"/search-results?indexCatalogue=global&searchQuery="+n)}function SearchDataByValueMob(){var n=encodeURIComponent($("#globalSerachBoxInputMob").val());n!=""&&n.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/search-results?indexCatalogue=global&searchQuery="+n:"/search-results?indexCatalogue=global&searchQuery="+n)}function SearchDatafromSearchPage(){var n=encodeURIComponent($("#globalSerachBoxInputResult").val());n!=""&&n.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/search-results?indexCatalogue=global&searchQuery="+n:"/search-results?indexCatalogue=global&searchQuery="+n)}function InitializeAutoSuggest(n){var u=document.getElementById("dvsug"),t=[],r;if(n.value!=""&&n.value.length>2){const f=new XMLHttpRequest;f.onload=function(){var r,h,o,f,e,c,a,l,s;const n=JSON.parse(this.responseText);for($(".sgn").html(""),n.length>0?$(".comm-searchNavBarModal2").show():$(".comm-searchNavBarModal2").hide(),i=0;i<n.length;i++)t.push(n[i].Type);for(t=t.filter(function(n,t,i){return t==i.indexOf(n)}),t.length>2&&(t.length=2),r="",i=0;i<t.length;i++)if(h=t[i],h!="Telerik.Sitefinity.GenericContent.Model.ContentItem"){for(o=document.createElement("div"),o.setAttribute("id","dsearchautocomplete-list"+i),o.setAttribute("class","autocomplete-items"),f=document.createElement("div"),f.setAttribute("id","dsearchautocomplete-listd"+(i+1)),f.setAttribute("class","col-md-12 pos-rel"),e=document.createElement("label"),e.setAttribute("id","lbl-listd"+(i+1)),e.setAttribute("class","header4 searchSuggBox"),h=="Telerik.Sitefinity.Blogs.Model.BlogPost"?(r="Blog",e.innerHTML='<img src="/ResourcePackages/Ecomm/assets/dist/images/icon/Books.png" alt="Circle-x-mark-mark" class="me-2">'+r):(r="Learn more",currentLang=="fr-ca"&&(r="Apprendre encore plus"),e.innerHTML='<img src="/ResourcePackages/Ecomm/assets/dist/images/icon/Info-circle.png" alt="Circle-x-mark-mark" class="me-2">'+r),f.appendChild(e),c=document.createElement("ul"),c.setAttribute("class","ps-0"),a=0,j=0;j<n.length;j++)if(h===n[j].Type){if(a++,a>3)break;l=document.createElement("li");l.setAttribute("class","searchSuggBox");s=document.createElement("a");s.setAttribute("class","call-text");s.setAttribute("href",n[j].Url);s.innerText=n[j].Title;l.appendChild(s);c.appendChild(l)}f.appendChild(c);o.appendChild(f);u.appendChild(o)}};r="/restapi/search/suggestions?IndexName=global&Language="+currentLang+"&SuggestionFields=Link%2CTitle%2CSummary%2CContent&Text="+n.value+"&Request%20Method:%20GET";f.open("GET",r);f.send()}else $(".sgn").html(""),$(".comm-searchNavBarModal2").hide()}function AutoSuggestonGlobalSearch(n){var u=document.getElementById("dvserchsug"),t=[],r;if(n.value!=""&&n.value.length>2){const f=new XMLHttpRequest;f.onload=function(){var r,h,o,f,e,c,a,l,s;const n=JSON.parse(this.responseText);for($(".gssgn").html(""),n.length>0?$(".globalSerachBoxInputResult-suggestions").show():$(".globalSerachBoxInputResult-suggestions").hide(),i=0;i<n.length;i++)t.push(n[i].Type);for(t=t.filter(function(n,t,i){return t==i.indexOf(n)}),t.length>2&&(t.length=2),r="",i=0;i<t.length;i++)if(h=t[i],h!="Telerik.Sitefinity.GenericContent.Model.ContentItem"){for(o=document.createElement("div"),o.setAttribute("id","dsearchautocomplete-list"+i),o.setAttribute("class","autocomplete-items"),f=document.createElement("div"),f.setAttribute("id","dsearchautocomplete-listd"+(i+1)),f.setAttribute("class","col-md-12 pos-rel"),e=document.createElement("label"),e.setAttribute("id","lbl-listd"+(i+1)),e.setAttribute("class","header4 searchSuggBox"),h=="Telerik.Sitefinity.Blogs.Model.BlogPost"?(r="Blog",e.innerHTML='<img src="/ResourcePackages/Ecomm/assets/dist/images/icon/Books.png" alt="Circle-x-mark-mark" class="me-2">'+r):(r="Learn more",currentLang=="fr-ca"&&(r="Apprendre encore plus"),e.innerHTML='<img src="/ResourcePackages/Ecomm/assets/dist/images/icon/Info-circle.png" alt="Circle-x-mark-mark" class="me-2">'+r),f.appendChild(e),c=document.createElement("ul"),c.setAttribute("class","ps-0"),a=0,j=0;j<n.length;j++)if(h===n[j].Type){if(a++,a>3)break;l=document.createElement("li");l.setAttribute("class","searchSuggBox");s=document.createElement("a");s.setAttribute("class","call-text");s.setAttribute("href",n[j].Url);s.innerText=n[j].Title;l.appendChild(s);c.appendChild(l)}f.appendChild(c);o.appendChild(f);u.appendChild(o)}};r="/restapi/search/suggestions?IndexName=global&Language="+currentLang+"&SuggestionFields=Link%2CTitle%2CSummary%2CContent&Text="+n.value+"&Request%20Method:%20GET";f.open("GET",r);f.send()}else $(".sgn").html(""),$(".globalSerachBoxInputResult-suggestions").hide()}function FindCookieValueByName(n){for(var r,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].trim(),r.indexOf(n)==0)return!0;return!1}function validateRoutingNumber(n,t){var u=document.querySelector("input[type=radio][name=PaymentMethod]:checked");if(u==null||u.value=="false")return!0;let r=n,i=!1;if(t==="en"||t==="en-us"){if(/^\d{9}$/.test(r)){let n=Number(r.slice(0,2));i=Number(r)!==0&&(n>=0&&n<=12||n>=21&&n<=32||n>=61&&n<=72||n===80)}else jQuery("#validationCustomS604").removeClass("validInputRight"),jQuery("#validationCustomS604").css("border-color","#dc3545"),i=!1,btnFlag=!1;if(i){let n=String(r).split("").map(n=>Number(n)),t=3*(n[0]+n[3]+n[6])+7*(n[1]+n[4]+n[7])+(n[2]+n[5]+n[8]);i=t%10==0}}else if(t==="fr-ca"||t==="en-ca"){if(r=jQuery("#validationCustomS606").val(),r==undefined)return!0;/^\d{5}$/.test(r)?(i=!0,document.querySelector(".validTransitNo-err")!=null&&(document.querySelector(".validTransitNo-err").style.display="none")):(i=!1,btnFlag=!1,jQuery("#validationCustomS606").removeClass("validInputRight"),jQuery("#validationCustomS606").css("border-color","#dc3545"),document.querySelector(".validTransitNo-err")!=null&&(document.querySelector(".validTransitNo-err").style.display="block"))}else t==="en-au"&&(i=!0);return i||(btnFlag=!1),i}function validateAccountNumber(n){let t=n,i=!0;return i=currentLang==="en-us"?t.length>=8&&t.length<=17:t.length>=7&&t.length<=12,i==!1?(jQuery("#validationCustomS605").removeClass("validInputRight"),jQuery("#validationCustomS605").css("border-color","#dc3545")):jQuery("#validationCustomS605").css("border-color","#3A5DAE"),i}function searchFAQs(n){var t=encodeURIComponent($("#"+n).val());t.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/pet-insurance-faq/search-results?indexCatalogue=faq-index-coverage&searchQuery="+t+"&orderBy=Relevance&language="+currentLang:"/pet-insurance-faq/search-results?indexCatalogue=faq-index-coverage&searchQuery="+t+"&orderBy=Relevance&language="+currentLang)}function searchFAQsByCategory(n,t,i){var r=encodeURIComponent($("#"+n).val());r.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/"+t+"?indexCatalogue="+i+"&searchQuery="+r+"&orderBy=Relevance&language="+currentLang:"/"+t+"?indexCatalogue="+i+"&searchQuery="+r+"&orderBy=Relevance&language="+currentLang)}function delete_cookie(n){document.cookie=n+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function LanguageSelectorChangeEvent(){try{$("#LanguageSelectorDropdownmain").length&&$("#LanguageSelectorDropdownmain").attr("onchange","openLink(value)")}catch(n){console.log(n.message)}}function useCurrentLocation(){var n=window.location.pathname;if(n!="/pet-insurance/veterinarians-map"&&n!="/pet-insurance/veterinarians-map/"&&n!="/en-ca/pet-insurance/veterinarians-map"&&n!="/en-ca/pet-insurance/veterinarians-map/"&&n!="/fr-ca/pet-insurance/veterinarians-map"&&n!="/fr-ca/pet-insurance/veterinarians-map/"){let n=document.createElement("script");n.setAttribute("src","https://maps.googleapis.com/maps/api/js?key=AIzaSyDNzHf9RAuLq7eCNo7Kbagbk5i1_xsB0VA&callback=initializeloc");document.body.appendChild(n);n.addEventListener("load",()=>{})}}function getCurrentLocationbyLet(n){var u=new google.maps.Geocoder,t="",i="",r={lat:parseFloat(n.coords.latitude),lng:parseFloat(n.coords.longitude)};console.log("Latitude and Longitude: "+r.lat+", "+r.lng);u.geocode({location:r},function(n,r){if(r==="OK"){let u="";if(r==="OK"&&n[0])for(let t of n[0].address_components)if(t.types.includes("country")){u=t.long_name;break}$.each(n,function(r){var e,f;"administrative_area_level_1,political"==n[r].types&&(f=n[r].formatted_address.split(","),t=f[0],i=u==""?f.length>1?f[1]:"":u,e=getEnglishProvinceName(t),t=e.name,GLB_CAN_LANG=e.language,setHeaderDropDown(t,i),SetLocationPopUpDropdowns(t,i),console.log("stateName and countryName: "+t+", "+i+", "+e.language));"postal_code"==n[r].types&&(f=n[r].address_components[0].short_name);"administrative_area_level_2,political"==n[r].types&&(f=n[r].address_components[1].short_name)})}else console.log("Geocoder failed due to: "+r)})}function error(n){(n.message.toLowerCase()=="user denied geolocation"||n.message.toLowerCase()=="user denied geolocation prompt")&&(SetHeaderPhoneNumber(),SetPhoneNumberForStateFarmPage(),SetUTMForPetinsurer(),(window.location.pathname==="/"||window.location.pathname==="/index.html")&&(jQuery(".locationNavBarModal").show(),PushDataToDataLayerForLocation("","")),$(".spn-location-data").show());console.log(n)}function initializeloc(){if(GetCookie("loc_info")=="")console.log("Location cookie is unavailable"),navigator.geolocation&&navigator.geolocation.getCurrentPosition(getCurrentLocationbyLet,error);else{var n=GetCookie("loc_info");n!=""&&(n=JSON.parse(n),SetLocationPopUpDropdowns(n.stateName,n.countryName),setHeaderDropDown(n.stateName,n.countryName),console.log("Location cookie is available"+n.stateName))}}function setHeaderDropDown(n){var t=!1;n!=null&&$("#geoLocationHeaderDropdown  option").each(function(){if($(this).val().toLowerCase()==n.toLowerCase()){$("#geoLocationHeaderDropdown").val(n).trigger("change");let i=setStateInitials(n);$("#header-curr-location").html(i);t=!0;SetURLsBasedOnState(n);$(".spn-location-data").show()}});SetHeaderPhoneNumber();SetPhoneNumberForStateFarmPage();SetUTMForPetinsurer();ShowHideRetrieveaQuote()}function CheckifEnrollmentPage(){var n=window.location.pathname.toLowerCase();return n.includes("enrollments")&&n.includes("confirmation")==!1&&n.includes("welcome")==!1&&n.includes("issuedcertificate")==!1&&n.includes("smsissued")==!1&&n.includes("smsissuedcertificate")==!1&&n.includes("issuedcertificate-details")==!1&&n.includes("enrollment-path-error")==!1&&n.includes("continue-coverage")==!1&&n.includes("vpl")==!1&&n.includes("retrieve-quote")==!1&&n.includes("maintenance")==!1?!0:!1}function setStateInitials(n){try{if($("#countries").val()=="AU"||$("#countries").val()=="DE"||$("#countries").val()=="DES")return;if(CheckifEnrollmentPage())return n;let t=n.split(" ");return n=="Alaska"?"AK":n=="Arizona"?"AZ":n=="Connecticut"?"CT":n=="Georgia"?"GA":n=="Hawaii"?"HI":n=="Iowa"?"IA":n=="Kansas"?"KS":n=="Kentucky"?"KY":n=="Louisiana"?"LA":n=="Maine"?"ME":n=="Maryland"?"MD":n=="Minnesota"?"MN":n=="Mississippi"?"MS":n=="Missouri"?"MO":n=="Montana"?"MT":n=="Nevada"?"NV":n=="Pennsylvania"?"PA":n=="Tennessee"?"TN":n=="Texas"?"TX":n=="Vermont"?"VT":n=="Virginia"?"VA":n=="Alberta"?"AB":n=="Manitoba"?"MB":n=="Newfoundland and Labrador"?"NL":n=="Quebec"?"QC":n=="Saskatchewan"?"SK":n=="Yukon"?"YT":t.length>=2?n.split(" ").map(n=>n.charAt(0)).join("").toUpperCase():n.substring(0,2).toUpperCase()}catch(t){console.log(t.message)}}function SetURLsBasedOnState(n){$.inArray(n.toLowerCase(),twoplusarray)!==-1?($("#petinsurancehome").length&&$("#petinsurancehome").attr("href","/pet-insurance-plan"),$("#doginsurancehome").length&&$("#doginsurancehome").attr("href","/pet-insurance/dog-insurance-plan"),$("#catinsurancehome").length&&$("#catinsurancehome").attr("href","/pet-insurance/cat-insurance-plan"),SetFAQsUrl(!0)):currentLang=="en-us"&&($("#petinsurancehome").length&&$("#petinsurancehome").attr("href","/pet-insurance"),$("#doginsurancehome").length&&$("#doginsurancehome").attr("href","/pet-insurance/dog-insurance"),$("#catinsurancehome").length&&$("#catinsurancehome").attr("href","/pet-insurance/cat-insurance"),SetFAQsUrl(!1));RedirectUserToProperLocation(n)}function SetCookieAndUrlOnLocationChange(){var n=$("#geoLocationHeaderDropdown").val(),t=$("#countries").val();if(n!=null){let i={stateName:n,countryName:t};SetCookie("loc_info",JSON.stringify(i),30);SetHeaderPhoneNumber();SetURLsBasedOnState(n);ShowHideRetrieveaQuote()}}function RedirectToAlreadyPurchasedPage(n){currentLang!="en"&&currentLang!="en-us"?window.location.replace("/"+currentLang+n):window.location.replace(n)}function RedirectUserToProperLocation(n){CheckAndRedirectToAustraliaSite(n);CheckAndRedirectToGermanSite(n);CheckAndRedirectToSwitzerlandSite(n);CheckAndRedirectToCanadaSite(n);var t=!1,i=window.location.pathname;i.substring(i.length-1)=="/"&&(i=i.substring(0,i.length-1));$.inArray(n.toLowerCase(),twoplusarray)!==-1?($.each(urlMapper,function(n){i==urlMapper[n].twoplus&&(t=!0)}),t==!1&&$.each(urlMapper,function(n){i==urlMapper[n].onepointzero&&(window.location.href=urlMapper[n].twoplus)})):$.each(urlMapper,function(n){i==urlMapper[n].onepointzero&&(t=!0);t==!1&&$.each(urlMapper,function(n){i==urlMapper[n].twoplus&&(window.location.href=urlMapper[n].onepointzero)})});t==!1&&(t=CheckUrlWithState(statemapper,i,n,t),t=CheckUrlWithState(enrollpathmapper,i,n,t),t==!1&&(t=CheckUrlWithState(nypathmapper,i,n,t)));CheckAndRedirectToUSASite(n)}function CheckUrlWithState(n,t,i,r){var e=!1,u,f;return $.each(n,function(i){var r=n[i].url;t==r&&(e=!0)}),e==!0&&(u="",f="",$.each(n,function(t){var r=n[t].states,e=n[t].url;$.each(r,function(n){if(i.toLowerCase()==r[n].toLowerCase())return u=i.toLowerCase(),f=e,!1})}),u==i.toLowerCase()&&f==t?r==!0:$.each(n,function(t){var u=n[t].states,f=n[t].url;$.each(u,function(n){i.toLowerCase()==u[n].toLowerCase()&&(r=!0,window.location.href=f)})})),r}function CheckAndRedirectToAustraliaSite(n){try{if(jQuery.inArray(n,["New South Wales","Queensland","South Australia","Tasmania","Victoria","Western Australia","Australian Capital Territory","Northern Territory","Cocos (Keeling) Islands","Christmas Island","Jervis Bay Territory","Norfolk Island"])!==-1){delete_cookie("loc_info");var i=window.location.host,t=i.split(".")[0];window.location.href=t.includes("devsf")||t.includes("testsf")||t.includes("localhost")?"https://truausdev.wpengine.com/":"https://trupanion.com.au/"}}catch(r){console.log(r.message)}}function CheckAndRedirectToGermanSite(n){try{jQuery.inArray(n,["Bavaria"])!==-1&&(delete_cookie("loc_info"),window.location.href="https://trupanion.eu/de-de/")}catch(t){console.log(t.message)}}function CheckAndRedirectToSwitzerlandSite(n){try{jQuery.inArray(n,["Bern"])!==-1&&(delete_cookie("loc_info"),window.location.href="https://trupanion.eu/de-ch/")}catch(t){console.log(t.message)}}function CheckAndRedirectToCanadaSite(n){try{jQuery.inArray(n,["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"])!==-1&&(console.log("CheckAndRedirectToCanadaSite "+n),CheckQuebecStateAndRedirectToFR(n))}catch(t){console.log(t.message)}}function CheckAndRedirectToUSASite(n){try{jQuery.inArray(n,["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"])!==-1&&(console.log("CheckAndRedirectToUSASite "+n),openLinkClient("en-US"))}catch(t){console.log(t.message)}}function AddSearchEvents(){$("#globalSerachBoxInput").length&&$("#globalSerachBoxInput").attr("onkeyup","InitializeAutoSuggest(this);");$("#globalSerachBoxInputMob").length&&$("#globalSerachBoxInputMob").attr("onkeyup","InitializeAutoSuggest(this);");$("#btnglobalsearch").length&&$("#btnglobalsearch").attr("onclick","SearchDataByValue();");$("#btnglobalsearchMob").length&&$("#btnglobalsearchMob").attr("onclick","SearchDataByValueMob();")}function searchinAllFAQs(n){var t=encodeURIComponent($("#"+n).val());t.length>2&&(window.location.href=currentLang!="en-us"?"/"+currentLang+"/pet-insurance-faq/search-results?indexCatalogue=all-faqs&searchQuery="+t+"&orderBy=Relevance&language="+currentLang:"/pet-insurance-faq/search-results?indexCatalogue=all-faqs&searchQuery="+t+"&orderBy=Relevance&language="+currentLang)}function triggerSelectDropD(){jQuery("#validationCustom04-m").select2();jQuery("#validationCustom04-m").select2({minimumResultsForSearch:-1});jQuery("#validationCustom04-m").select2();jQuery("#validationCustom04-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomS201-m").select2();jQuery("#validationCustomS201-m").select2({minimumResultsForSearch:-1});jQuery("#validationCustomS201-m").select2();jQuery("#validationCustomS201-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomS205-m").select2();jQuery("#validationCustomS205-m").select2({minimumResultsForSearch:-1});jQuery("#validationCustomS205-m").select2();jQuery("#validationCustomS205-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomS208-m").select2();jQuery("#validationCustomS208-m").select2({minimumResultsForSearch:-1});jQuery("#validationCustomS208-m").select2();jQuery("#validationCustomS208-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomCCs505").select2();jQuery("#validationCustomCCs505").select2({minimumResultsForSearch:-1})}function GetCookieValue(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function ShowHideRetrieveaQuote(){var i,u,f,e,n,r,o,t;try{i="/enrollments/retrieve-quote";currentLang!="en-us"&&(i="/"+currentLang+i);let s=FindCookieValueByName("refNo");u=JSON.parse(localStorage.getItem("ls_pts"));u!=null&&s===!0&&(f=JSON.parse(localStorage.getItem("ls_pts"))[0].quoteState,$("#geoLocationHeaderDropdown").val()!=f&&(s=!1));s===!1?(e=window.matchMedia("(max-width: 576px)"),e.matches&&jQuery("#tapToCallQuoteBtn").show(),jQuery("#paymentbuttonwithrefnumid").length?jQuery("#paymentbuttonwithrefnumid").attr("href",i):jQuery("#retrieveQuoteBtn").length&&jQuery("#retrieveQuoteBtn").attr("href",i)):jQuery("#paymentbuttonwithrefnumid").length?(n=GetCookieValue("refNo"),n!=""&&(n=n.split("|")[0]),t="/enrollments/plan-detail?refnum="+n,currentLang!="en-us"&&(t="/"+currentLang+t),jQuery("#paymentbuttonwithrefnumid").attr("href",t)):jQuery("#retrieveQuoteBtn").length&&(t=jQuery("#retrieveQuoteBtn").attr("href"),n=GetCookieValue("refNo"),n!=""&&(n=n.split("|")[0]),r="",GetCookie("petI_C")!=""&&(o=JSON.parse(GetCookie("petI_C")),r=o.quotePetZipCode),t="/enrollments/plan-detail?refnum="+n,currentLang!="en-us"&&(t="/"+currentLang+t),jQuery("#retrieveQuoteBtn").attr("href",t+"&action=retrieve&postalcode="+r))}catch(s){console.log(s.message)}}function SetPhoneNumberForStateFarmPage(){var i;try{var u=window.location.pathname,t="",n="";if(document.referrer!=""&&(t=new URL(document.referrer),n=t.pathname),(n=="/enrollments/state-farm"||n=="/enrollments/state-farm-default")&&setCookie("IsUserfromStateFarm","true",.5),i=getCookie("affiliate"),i=="statefarm"||getCookie("IsUserfromStateFarm")){let n,t;n="+8555181410";t="855.518.1410";changePhoneNumber(n,t)}}catch(r){console.log(r.message)}}function SetHeaderPhoneNumber(){try{if(GetCookie("loc_info")){var n=GetCookie("loc_info");n!=""&&(n=JSON.parse(n),n.stateName.toLowerCase()=="quebec"?($(".cacontact").addClass("d-none"),$(".qubeccontact").removeClass("d-none"),changePhoneNumber("+18337703393","833.770.3393")):currentLang=="en-au"?changePhoneNumber("1300328042","1300 328 042"):($(".cacontact").removeClass("d-none"),$(".qubeccontact").addClass("d-none")))}}catch(t){console.log(t.message)}}function SetPhoneNumberbasedonLocation(){$("#geoLocationHeaderDropdown").length&&showPhoneNumber($("#geoLocationHeaderDropdown").val())}function showPhoneNumber(n){var u=n.toLowerCase(),r;let t,i;r=getCookie("affiliate");r=="statefarm"&&(t="+8555181410",i="855.518.1410",changePhoneNumber(t,i))}function changePhoneNumber(n,t){try{$(".desk-text.header9 > a.call-text").attr("href","tel:"+n);$(".desk-text.header9 > a.call-text").text(t);$(".desk-view > a.call-text").attr("href","tel:"+n);$(".desk-view > a.call-text span.green-txt").text(t);$(".mob-text > a.call-text").attr("href","tel:"+n);$(".mob-view > a.call-text").attr("href","tel:"+n);$(".header6.cc-btn.mb-3>a").first().attr("href","tel:"+n);$(".geo-base-number").each(function(){$(this).is("A")?$(this).attr("href","tel:"+n):$(this).text(t)});$(".txt-dec-no.media-art-links").attr("href","tel:"+n);$(".txt-dec-no.media-art-links").text(t);$(".ahelpcellnum").length&&$(".ahelpcellnum").each(function(){$(this).text().indexOf("Tap")==-1&&$(this).text(t);$(this).attr("href")!=undefined&&$(this).attr("href")!=""&&$(this).attr("href","tel:"+n)});try{$(".learn-policy-call>p>span>a").length&&$(".learn-policy-call>p>span>a")[0].id=="ahelpcellnum"&&($(".learn-policy-call>p>span>a.ahelpcellnum").text(t),$(".learn-policy-call>p>span>a.ahelpcellnum").attr("href","tel:"+n));$(".header6.cc-btn>a.ahelpcellnum").length&&$(".header6.cc-btn>a.ahelpcellnum").attr("href","tel:"+n);$(".path1-fields-modal .ahelpcellnum").length&&($(".path1-fields-modal .ahelpcellnum").attr("href","tel:"+n),$(".path1-fields-modal .ahelpcellnum").text(t))}catch(i){console.log(i.message)}}catch(r){console.log(r.message)}}function handleLocationError(n){let t;switch(n.code){case n.PERMISSION_DENIED:t="User denied the request for Geolocation. Please enter your location manually.";break;case n.POSITION_UNAVAILABLE:t="Location information is unavailable.";break;case n.TIMEOUT:t="The request to get user location timed out.";break;case n.UNKNOWN_ERROR:t="An unknown error occurred."}console.log(t)}function SetUrlWithRefNum(){try{getCookie("refNo")!=""&&($("#mainEnroll").length&&$("#mainEnroll:visible").length>0&&$("#mainEnroll").find("a").each(function(){var n,t,i;$(this).attr("href")!=undefined&&(n=$(this).attr("href"),n!="#"&&n!="/#"&&n!=""&&$(this).text()!=undefined&&(t=$(this).text(),t.toLowerCase()!="pet info"&&(i=getCookie("refNo").split("|")[0],$(this).attr("href",n+"?refnum="+i))))}),$("#ccEnroll").length&&$("#ccEnroll:visible").length>0&&$("#ccEnroll").find("a").each(function(){var n,t,i;$(this).attr("href")!=undefined&&(n=$(this).attr("href"),n!="#"&&n!="/#"&&n!=""&&$(this).text()!=undefined&&(t=$(this).text(),t.toLowerCase()!="pet info"&&(i=getCookie("refNo").split("|")[0],$(this).attr("href",n+"?type=contcov"))))}))}catch(n){console.log(n.message)}}function SetCookieBasedOnSiteLanguage(){try{var t=window.location.href;currentLang=="en-ca"||currentLang=="fr-ca"?GetCookie("loc_info")==""&&$("#geoLocationHeaderDropdown").length&&(jQuery("#geoLocationHeaderDropdown").val("British Columbia"),SetCookieAndUrlOnLocationChange()):GetCookie("loc_info")==""&&$("#geoLocationHeaderDropdown").length&&(jQuery("#geoLocationHeaderDropdown").val("Washington"),SetCookieAndUrlOnLocationChange())}catch(n){console.log(n.message)}}function getCountryName(n){return n.toUpperCase()=="USA"?"United States":n.toUpperCase()=="CA"?"Canada":n.toUpperCase()=="AU"?"Australia":void 0}function retrieveClickIDCookie(){var i=decodeURIComponent(document.cookie),t=i.split(";"),n;for(let i=0;i<t.length;i++){for(n=t[i];n.charAt(0)==" ";)n=n.substring(1);if(n.indexOf("ImpactClickID")==0)return n.substring(14,n.length)}}function getPetItemArray(){var t=[],n,i;try{n=0;localStorage.getItem("ls_pts")&&(i=JSON.parse(localStorage.getItem("ls_pts")),i.forEach(i=>{let r={};r.subTotal=0;r.category=i.quotePetType;r.sku=i.quotePetGender;r.quantity=1;r.name=n==0?i.quotePetName+" - "+i.detailBreed+" - "+i.quotePetAge:" - "+i.detailBreed+" - "+i.quotePetAge;t.push(r);n++}))}catch(r){console.log(r.message)}return t}function GetEncryptedValue(n,t,i){try{if(t!=""){let u=JSON.parse(t);var r="";return n=="em"&&(r=u.quotePetEmailAddress),n=="zp"&&(r=u.quotePetZipCode),n=="ct"&&(r=u.quoteCity),n=="st"&&(r=u.quoteStateCode),i?(n=="fn"&&(r=u.FirstName),n=="ph"&&(r=u.quotePetPhoneNumber)):(n=="fn"&&(r=u.FirstName),n=="ph"&&(r=u.Phone)),GetSingleEncryptValue(r)}}catch(u){return console.log(u.message),""}}function GetSingleEncryptValue(n){var t=CryptoJS.enc.Utf8.parse("8080808080808080"),i=CryptoJS.enc.Utf8.parse("8080808080808080"),r=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(n),t,{keySize:16,iv:i,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return""+r+""}function GetEncryptEmail(){try{if(GetCookie("petI_C")!=""){let u=JSON.parse(GetCookie("petI_C"));var n=CryptoJS.enc.Utf8.parse("8080808080808080"),t=CryptoJS.enc.Utf8.parse("8080808080808080"),i=u.quotePetEmailAddress,r=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(i),n,{keySize:16,iv:t,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return""+r+""}}catch(u){return console.log(u.message),""}}function retrievePetInfo(n){var t=getPetItemArray();if(t!=undefined&&t.length>0){for(let i=0;i<t.length;i++)t[i].subcategory=n;return t}return null}function firePixel(n){var u,i,t,r;try{if(u=retrieveClickIDCookie(),u&&n!=null){i="";getCookie("refNo")!=null&&(i=getCookie("refNo").split("|")[0]);t="";GetCookie("petI_C")!=""&&(t=JSON.parse(GetCookie("petI_C")));r=GetEncryptEmail();for(let u=0;u<n.length;u++)ire("trackConversion",15649,{orderId:i+"-"+u,clickId:retrieveClickIDCookie(),customerId:r,customerEmail:r,customerPostCode:t!=""?t.quotePetZipCode:"",customerCountry:getCountryName(t.quoteCountryCode),customerRegion:t!=""?t.quoteStateCode:"",items:n[u]},{verifySiteDefinitionMatch:!0}),console.log(n[u])}}catch(f){console.log(f.message)}}function FireImactPixelForReview(){var t,i,n,r;try{if(t=retrieveClickIDCookie(),t&&getCookie("refNo")!=null&&GetCookie("petI_C")!=""){i=getCookie("refNo").split("|")[0];let t=JSON.parse(GetCookie("petI_C"));n=GetEncryptEmail();r=retrieveClickIDCookie()||"";ire("trackConversion",15648,{orderId:i,clickId:r,customerId:n,customerEmail:n,customerPostCode:t.quotePetZipCode,customerCountry:getCountryName(t.quoteCountryCode),customerRegion:t.quoteStateCode,items:getPetItemArray()},{verifySiteDefinitionMatch:!0})}}catch(u){console.log(u.message)}}function ExecuteImpactCall(){var t,i,n;try{if(t=retrieveClickIDCookie(),t&&getCookie("refNo")!=null&&GetCookie("petI_C")!=""){i=getCookie("refNo").split("|")[0];let t=JSON.parse(GetCookie("petI_C"));n=GetEncryptEmail();ire("trackConversion",21478,{orderId:i,clickId:retrieveClickIDCookie(),customerId:n,customerEmail:n,customerCountry:getCountryName(t.quoteCountryCode),customerRegion:t.quoteStateCode,locationName:"",locationType:"",locationId:"",items:[{subTotal:0,category:t.quotePetType,sku:t.quotePetGender,quantity:1,name:t.quotePetName+" - "+t.detailBreed+" - "+t.quotePetAge}]})}}catch(r){console.log(r.message)}}function pad(n){return n<10?"0"+n:n}function SetHeaderDefaultEnrollmentPageLogo(){if(GetCookie("brandedinfo")!=""){var n=JSON.parse(GetCookie("brandedinfo"));$("#imglogoset").length&&(n.imageURL!=null&&$("#imglogoset").attr("src",n.imageURL),$("#imglogoset").show(),n.brandName.toLowerCase()=="impact"&&$("#atagReviewOrder").removeClass("d-none"))}else $("#imglogoset").length&&$("#imglogoset").show()}async function firePurchaseAllEvent(n,t,i,r){try{await ExecuteDataDetailsEvent();SetAndSubmitDataLayer(n,t,i,r);var u=!1,f="",e="";if(GetCookie("petI_C")!=""&&(JSON.parse(GetCookie("petI_C")).UsedForText&&JSON.parse(GetCookie("petI_C")).UsedForText=="Add_A_Pet"&&(u=!0),JSON.parse(GetCookie("petI_C")).quotePetEmailAddress&&(f=JSON.parse(GetCookie("petI_C")).quotePetEmailAddress)),localStorage.getItem("ls_pts")){let n=JSON.parse(localStorage.getItem("ls_pts"));n.forEach(n=>{n.id==1&&(e=n.quotePetAge)})}window.dataLayer=window.dataLayer||[];window.dataLayer.push({ecommerce:null});window.dataLayer.push({event:"purchase_all",ecommerce:{transaction_id:r,value:t,email:f,petage:e,tax:n,shipping:"",currency:"USD",coupon:"",is_add_to_pet:u,items:[{item_id:r,item_name:"Trupanion Policy for pet",affiliation:"",coupon:"",discount:0,index:0,item_brand:"",item_category:"Policies",price:i,quantity:1}]}})}catch(o){console.log(o.message)}}async function ExecuteDataDetailsEvent(){try{var o=await GetClientIpAddress(),t="",i="",r="",u="",f="",e="";if(GetCookie("personal_details")!="")try{let n=GetCookie("personal_details");e=GetEncryptedValue("fn",n,!1);i=GetEncryptedValue("ph",n,!1)}catch(n){console.log(n.message)}if(GetCookie("petI_C")!="")try{let n=GetCookie("petI_C");t=GetEncryptedValue("em",n,!1);r=GetEncryptedValue("zp",n,!1);u=GetEncryptedValue("ct",n,!1);f=GetEncryptedValue("st",n,!1)}catch(n){console.log(n.message)}window.dataLayer=window.dataLayer||[];window.dataLayer.push({ecommerce:null});window.dataLayer.push({em:t,fn:e,ph:i,zp:r,ct:u,st:f,client_ip_address:o,client_user_agent:navigator.userAgent,fbp:GetFbClientId(),event:"data_details"})}catch(n){console.log(n.message)}}function SetAndSubmitDataLayer(n,t,i,r){try{var u=0,f="USD";currentLang=="en-ca"||currentLang=="fr-ca"?u=1:currentLang=="en-us"?u=0:currentLang=="en-au"?(u=3,f="AUD"):u=2;isNaN(n)&&(n=0);isNaN(t)&&(t=0);isNaN(i)&&(i=0);window.dataLayer=window.dataLayer||[];window.dataLayer.push({ecommerce:null});window.dataLayer.push({event:"purchase",ecommerce:{transaction_id:r,value:t,tax:n,shipping:"",currency:f,coupon:"",items:[{item_id:r,item_name:"Trupanion Policy for pet",affiliation:"",coupon:"",discount:0,index:u,item_brand:"",item_category:"Policies",price:i,quantity:1}]}})}catch(e){console.log("SetAndSubmitDataLayer - error");console.log(e.message)}}function SetFAQsUrl(n){try{var t=$(".faqlocationurl");t&&(n?t.each(function(n,t){$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/recovery-complementary-care")!=-1?$(t)[0].href="/pet-insurance-plan":$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/deductibles")!=-1?$(t)[0].href="/pet-insurance-faq/coverage/article/unlimited-payouts-plan":$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/pre-existing-conditions")!=-1?$(t)[0].href="/pet-insurance-plan":$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/recovery-complementary-care")!=-1?$(t)[0].href="/pet-insurance-plan":$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/breeding-costs")!=-1?$(t)[0].href="/pet-insurance-plan":$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/what-a-trupanion-policy-covers")!=-1&&($(t)[0].href="/pet-insurance-plan")}):t.each(function(n,t){$(t)[0].href.indexOf("/pet-insurance-plan")!=-1?$(t).attr("data-url")&&($(t)[0].href=$(t).attr("data-url")):$(t)[0].href.indexOf("/pet-insurance-faq/coverage/article/unlimited-payouts-plan")!=-1&&($(t)[0].href="/pet-insurance-faq/coverage/article/deductibles")}))}catch(i){console.log(i.message)}}function UploadBuyapowaTracking(){try{if(getCookie("bp_e"))return new Promise(function(n,t){$.ajax({type:"GET",data:{monthlyTotal:$(".tp-F").text().replace("%","").replace("$","")},url:"/getbuyapowadata",dataType:"JSON",headers:{"Accept-Language":currentLang},success:function(n){var i,r,u;n.length>5?(i=JSON.parse(n),i=JSON.parse(i),r="https://"+i.market_domain,u=new Buyapowa({url:r,market:i.market}),u.track({customer_name:i.payload.customer_name,customer_email:i.payload.customer_email,marketing_opt_in:i.payload.marketing_opt_in,order_number:i.payload.order_number,order_value:i.payload.order_value,signed_keys:i.payload.signed_keys,signature:i.payload.signature,locale:i.payload.locale}),delete_cookie("bp_e")):t(Error("AJAX call failed"))},error:function(){t(Error("AJAX call failed"))}})})}catch(n){console.log(n.message)}}function IsPetVatInspectionRequired(n,t){if(t=="ME")return!0;if(n!=null&&n!=""){dob=new Date(n);var i=new Date,r=Math.floor((i-dob)/(365.25*864e5));return r==0?!1:!0}return!0}function GetQueryStringValueByName(n){var t=RegExp("[?&]"+n+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function RemoveLocalData(){try{localStorage.removeItem("ls_pt_inf1");localStorage.removeItem("ls_pt_dtl1");localStorage.removeItem("ls_pt1");localStorage.removeItem("ls_pts");delete_cookie("refNo");delete_cookie("petI_C");delete_cookie("ver_conf");delete_cookie("EffecDate");delete_cookie("personal_details");delete_cookie("brandedinfo");delete_cookie("admincharge");delete_cookie("polR_C");delete_cookie("pref_id");delete_cookie("IsUserfromStateFarm");delete_cookie("ImpactClickID");delete_cookie("campaign")}catch(n){console.log(n.message)}}function ClearLocalData(){localStorage.removeItem("ls_pt_inf1");localStorage.removeItem("ls_pt_dtl1");localStorage.removeItem("ls_pt1");localStorage.removeItem("ls_pts");delete_cookie("refNo");delete_cookie("polR_C");delete_cookie("petI_C");delete_cookie("EffecDate")}function SetLanguageSelectEvent(){try{$(".county-name-rights").attr("onchange","ChangeLanguage(this);")}catch(n){console.log(n.message)}}function ChangeLanguage(n){try{CreateLanguagePrefrenceCookie($(n).val());$(n).val()=="fr-CA"?(sessionStorage.removeItem("isEnglishSet"),openLinkClient("fr-CA")):(GetStateName()=="Quebec"&&sessionStorage.setItem("isEnglishSet",!0),openLinkClient("en-CA"))}catch(t){console.log(t.message)}}function hideChatForQuebec(){try{if(GetCookie("loc_info")!=""){var n=JSON.parse(GetCookie("loc_info"));n.stateName.toLowerCase()=="quebec"&&($(".chat-btn-survey-wrap").hide(),$(".footer-help-chat").hide(),$(".custom-chat-online-link").hide(),$(".social-icons-div").hide())}}catch(t){console.log(t.message)}}function GetPathVersion(){if(GetCookie("ver_conf")!=""){var n=JSON.parse(GetCookie("ver_conf"));return n.path}return""}function GetStateName(){try{if(GetCookie("loc_info")!=""){var n=JSON.parse(GetCookie("loc_info"));return n.stateName}}catch(t){console.log(t.message)}return""}function openLinkClient(n){const t=window.location.search;var i=document.querySelector('[data-sf-role="'+n+'"]').value;window.location=i+t}function CheckQuebecStateAndRedirectToFR(n){var t,i;try{n.toLowerCase()=="quebec"?GetCookie("lang_info")==""?(console.log("CheckQuebecStateAndRedirectToFR  redirect to fr-ca"),openLinkClient("fr-CA")):(t=GetCookie("lang_info"),t!=""&&(t=JSON.parse(t),console.log("CheckQuebecStateAndRedirectToFR  redirect to"+t.preferredLanguage),openLinkClient(t.preferredLanguage))):GetCookie("lang_info")==""?GLB_CAN_LANG=="fr"?(openLinkClient("fr-CA"),console.log("CheckQuebecStateAndRedirectToFR  redirect to fr-ca")):(openLinkClient("en-CA"),console.log("CheckQuebecStateAndRedirectToFR  redirect to en-ca")):(i=GetPreferredLanguageFromCookie(),console.log("CheckQuebecStateAndRedirectToFR  redirect to"+i),i==""?openLinkClient("en-CA"):openLinkClient(GetPreferredLanguageFromCookie()))}catch(r){console.log(r.message)}}function GetPreferredLanguageFromCookie(){try{var n=GetCookie("lang_info");if(n!="")return n=JSON.parse(n),n.preferredLanguage}catch(t){console.log(t.message)}return""}function SendDataLayerInfo(n){try{n==null&&(n="");var t="US";t=currentLang=="en-ca"||currentLang=="fr-ca"?"CA":currentLang=="en-us"?"US":currentLang=="en-au"?"AUS":"Other";window.dataLayer=window.dataLayer||[];window.dataLayer.push({ecommerce:null});window.dataLayer.push({country:t,dl_type:n,event:"activation"})}catch(i){console.log(i.message)}}function SendDataLayerInfoForQuote(n){var t;try{t="US";t=currentLang=="en-ca"||currentLang=="fr-ca"?"CA":currentLang=="en-us"?"US":currentLang=="en-au"?"AUS":"Other";var i="",r="",u="",f="",e="";if(t=GetSingleEncryptValue(t),GetCookie("petI_C")!="")try{let n=GetCookie("petI_C");i=GetEncryptedValue("em",n,!0);r=GetEncryptedValue("ph",n,!0);u=GetEncryptedValue("zp",n,!0);f=GetEncryptedValue("ct",n,!0);e=GetEncryptedValue("st",n,!0)}catch(o){console.log(o.message)}window.dataLayer=window.dataLayer||[];window.dataLayer.push({ecommerce:null});window.dataLayer.push({country:t,dl_petage:n,em:i,fn:"",ph:r,zp:u,ct:f,st:e,event:"quote"})}catch(o){console.log(o.message)}}function chatOnlineLink(){$(".enrollchatonlinelink").click(function(){return MyWindow=window.open("https://home-c28.incontact.com/incontact/chatclient/chatclient.aspx?poc=6f8cdd6c-2b33-414d-a279-e0139eab4e1b&bu=4598009","MyWindow","width=600,height=600"),!1})}function SetQuebecLanguage(n){try{if(n=="Quebec")if(GetCookie("lang_info")=="")n="Quebec French",CreateLanguagePrefrenceCookie("fr-CA");else{var t=GetCookie("lang_info");t!=""&&(t=JSON.parse(t),t.preferredLanguage.toLowerCase()=="en-ca"?n="Quebec English":t.preferredLanguage.toLowerCase()=="fr-ca"&&(n="Quebec French"))}}catch(i){console.log(i.message)}return n}function CreateLanguagePrefrenceCookie(n){try{let t={preferredLanguage:n};SetCookie("lang_info",JSON.stringify(t),30)}catch(t){console.log(t.message)}}function htmlEscape(n){return n.replace(/&/g,"&amp").replace(/'/g,"&apos").replace(/"/g,"&quot").replace(/>/g,"&gt").replace(/</g,"&lt")}function GetDateByUTC(){var u;try{var f=GetEffectiveDate(),n=f.split("/"),t="",i="",r="";GetCookie("petI_C")!=""&&(r=JSON.parse(GetCookie("petI_C")).quotePetZipCode);u=new google.maps.Geocoder;u.geocode({address:r},function(r,u){u==google.maps.GeocoderStatus.OK?(t=r[0].geometry.location.lat(),i=r[0].geometry.location.lng(),i!=""&&t!=""&&$.ajax({type:"GET",data:{monthlyTotal:$(".tp-F").text().replace("%","").replace("$","")},url:"https://maps.googleapis.com/maps/api/timezone/json?location="+t+","+i+"&timestamp=1331161200&key=AIzaSyDNzHf9RAuLq7eCNo7Kbagbk5i1_xsB0VA&callback=initializeloc",dataType:"JSON",success:function(t){if(t!=""){var r=t,u=parseFloat(r.dstOffset+r.rawOffset)/3600,i=new Date,f=new Date(n[2],n[1]-1,n[0],i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()),e=addHours(f,u);$(".utctime").text(e.toShortFormat())}},error:function(){reject(Error("AJAX call failed"))}})):console.log("GetDateByUTC Geocoder failed due to: "+u)})}catch(e){console.log(e.message)}}function addHours(n,t){return n.setHours(n.getHours()+t),n}function addYears(n,t){return n.setFullYear(n.getFullYear()+t),n}function validateYourAge(){if(currentLang!="en-au")return!0;if(currentLang=="en-au"&&$("#validationCustom09").length>0){let t=$("#validationCustom09").val();t==""&&(isValid=!1,btnFlag=!1);var n=new Date(t);const i=new Date,r=addYears(i,-18);if(n>r)isValid=!1,btnFlag=!1;else return btnFlag=!0,isValid=!0;if(isValid==!1)return jQuery("#validationCustom09").parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").css("border-color","#dc3545"),jQuery("#validationCustom09").parents(".enrollFieldsMainDiv").find(".select2-selection.select2-selection--single").css({"border-color":"#dc3545","border-width":"1px","border-style":"solid"}),jQuery("#validationCustom09").parents(".enrollFieldsMainDiv").children(".enrollFieldsDiv").removeClass("validInputRight"),jQuery("#validationCustom09").parents(".enrollFieldsMainDiv").children(".enrollFields-err").show(),isValid}}function updateDateRangeForInput(n,t,i){i!=null&&n.attr({max:formatToStandardDate(i)});t!=null&&n.attr({min:formatToStandardDate(t)})}function formatToStandardDate(n){const t=("0"+n.getDate()).slice(-2),i=("0"+(n.getMonth()+1)).slice(-2),r=n.getFullYear();return`${r}-${i}-${t}`}function CheckDateAndRange(n){var i=null,t;if(n.hasClass("hasDatepicker")){t=!1;try{jQuery.datepicker.parseDate("mm/dd/yy",n.val());var r=n.attr("min")!=undefined?parseDate(n.attr("min")):null,u=n.attr("max")!=undefined?parseDate(n.attr("max")):null,f=parseDate(n.val());t=!0;u!=null&&f>u&&(t=!1);r!=null&&f<r&&(t=!1)}catch(e){t=!1}return t==!1&&($(n.siblings(".enrollFields-err")[0]).html(currentLang=="fr-ca"?"Date invalides saisis.":"Invalid date entered."),isvalid=!1,i=!1,commonSpInputValidation(n)),i}return null}function parseDate(n){var e=arguments.length==2?arguments[1]:!1,u,t,i,f,r;for(generalFormats=["y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d"],monthFirst=["M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d"],dateFirst=["d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M"],u=["generalFormats",e?"dateFirst":"monthFirst",e?"monthFirst":"dateFirst"],t=null,i=0;i<u.length;i++)for(f=window[u[i]],r=0;r<f.length;r++)if(t=getDateFromFormat(n,f[r]),t!=0)return new Date(t);return null}function _isInteger(n){for(var t=0;t<n.length;t++)if("1234567890".indexOf(n.charAt(t))==-1)return!1;return!0}function _getInt(n,t,i,r){for(var f,u=r;u>=i;u--){if(f=n.substring(t,t+u),f.length<i)return null;if(_isInteger(f))return f}return null}function getDateFromFormat(n,t){var w,o,b,d;n=n+"";t=t+"";for(var r=0,h=0,k="",i="",v,y,c=new Date,e=c.getYear(),f=c.getMonth()+1,s=1,u=c.getHours(),l=c.getMinutes(),a=c.getSeconds(),p="";h<t.length;){for(k=t.charAt(h),i="";t.charAt(h)==k&&h<t.length;)i+=t.charAt(h++);if(i=="yyyy"||i=="yy"||i=="y"){if(i=="yyyy"&&(v=4,y=4),i=="yy"&&(v=2,y=2),i=="y"&&(v=2,y=4),e=_getInt(n,r,v,y),e==null)return 0;r+=e.length;e.length==2&&(e=e>70?1900+ +e:2e3+ +e)}else if(i=="MMM"||i=="NNN"){for(f=0,o=0;o<MONTH_NAMES.length;o++)if(w=MONTH_NAMES[o],n.substring(r,r+w.length).toLowerCase()==w.toLowerCase()&&(i=="MMM"||i=="NNN"&&o>11)){f=o+1;f>12&&(f-=12);r+=w.length;break}if(f<1||f>12)return 0}else if(i=="EE"||i=="E"){for(o=0;o<DAY_NAMES.length;o++)if(b=DAY_NAMES[o],n.substring(r,r+b.length).toLowerCase()==b.toLowerCase()){r+=b.length;break}}else if(i=="MM"||i=="M"){if(f=_getInt(n,r,i.length,2),f==null||f<1||f>12)return 0;r+=f.length}else if(i=="dd"||i=="d"){if(s=_getInt(n,r,i.length,2),s==null||s<1||s>31)return 0;r+=s.length}else if(i=="hh"||i=="h"){if(u=_getInt(n,r,i.length,2),u==null||u<1||u>12)return 0;r+=u.length}else if(i=="HH"||i=="H"){if(u=_getInt(n,r,i.length,2),u==null||u<0||u>23)return 0;r+=u.length}else if(i=="KK"||i=="K"){if(u=_getInt(n,r,i.length,2),u==null||u<0||u>11)return 0;r+=u.length}else if(i=="kk"||i=="k"){if(u=_getInt(n,r,i.length,2),u==null||u<1||u>24)return 0;r+=u.length;u--}else if(i=="mm"||i=="m"){if(l=_getInt(n,r,i.length,2),l==null||l<0||l>59)return 0;r+=l.length}else if(i=="ss"||i=="s"){if(a=_getInt(n,r,i.length,2),a==null||a<0||a>59)return 0;r+=a.length}else if(i=="a"){if(n.substring(r,r+2).toLowerCase()=="am")p="AM";else if(n.substring(r,r+2).toLowerCase()=="pm")p="PM";else return 0;r+=2}else{if(n.substring(r,r+i.length)!=i)return 0;r+=i.length}}if(r!=n.length)return 0;if(f==2)if(e%4==0&&e%100!=0||e%400==0){if(s>29)return 0}else if(s>28)return 0;return(f==4||f==6||f==9||f==11)&&s>30?0:(u<12&&p=="PM"?u=+u+12:u>11&&p=="AM"&&(u-=12),d=new Date(e,f-1,s,"00","00","00"),d.getTime())}function ShowVetDirectPayAccepted(n){if(document.getElementById("hdnListVet")!=null){$("#spnshowVetPay").addClass("d-none");var t=JSON.parse($("#hdnListVet").val());$.each(t,function(t,i){if(i.Value==$(n).val()&&i.VetDirectPayAccepted==!0){$("#spnshowVetPay").removeClass("d-none");return}})}}function setFocusPaymentIframe(){try{$("html, body").animate({scrollTop:$($("#zuora_payment")).offset().top-140},1e3)}catch(n){console.log(n.message)}}function ShowFloridaModel(n){try{var t=GetCookie("loc_info");t!=""&&(t=JSON.parse(t),$.inArray(t.stateName.toLowerCase(),twoplusarray)!==-1&&(n=Number(n),n<70&&document.getElementById("flplandetailmodel")!=null&&$("#flplandetailmodel").modal("show")))}catch(i){console.log(i.message)}}function ClearLocalQuoteData(){localStorage.removeItem("ls_pt_inf1");localStorage.removeItem("ls_pt_dtl1");localStorage.removeItem("ls_pt1");localStorage.removeItem("ls_pts");sessionStorage.removeItem("myEnrollmentData");delete_cookie("refNo");delete_cookie("petI_C");delete_cookie("ver_conf");delete_cookie("EffecDate");delete_cookie("personal_details");delete_cookie("admincharge");delete_cookie("polR_C");delete_cookie("pref_id");delete_cookie("ImpactClickID");delete_cookie("bill_prew")}function initPetTabs(){var t=$(".pet-tab-wrapper").outerWidth(),n=0;jQuery(".pet-tab-wrapper ul li").each(function(){n+=jQuery(this).outerWidth()});n>t?$(".scroller-btn").removeClass("inactive"):$(".scroller-btn").addClass("inactive");$("#petTabsScroller").scrollLeft()==0?$(".scroller-btn.left").addClass("inactive"):$(".scroller-btn.left").removeClass("inactive")}function petTabScrollerHide(){var n=0;$("#petTabsScroller").scroll(function(){var t=$("#petTabsScroller"),i=t.scrollLeft(),r=t.outerWidth(),u=t.get(0).scrollWidth;u-i==r?$(".right.scroller-btn").addClass("inactive"):$(".right.scroller-btn").removeClass("inactive");i===0?$(".left.scroller-btn").addClass("inactive"):$(".left.scroller-btn").removeClass("inactive");n=i})}function SetValueForDeductible(n){getSliderValue(n);$("#date1").attr({value:n});deductglob=n;let t=jQuery(".slider");setSliderValue(t)}function SetBreedImage(n,t){try{var i=!1;n!=""&&breedJSON!=undefined&&$(".breedimage").length>0&&($.each(breedJSON,function(t,r){t==n&&r!=null&&r!=""&&($(".breedimage").attr("src",r),i=!0)}),i==!1&&(t=="dog"?$(".breedimage").attr("src",defaultDogImage):t=="cat"&&$(".breedimage").attr("src",defaultCatImage)))}catch(r){console.log(r.message)}}function SetPastDeductible(){try{var n=localStorage.getItem("pastdeduct");n!=null&&n!=""&&(SetValueForDeductible(n),localStorage.removeItem("pastdeduct"))}catch(t){console.log(t.message)}}function RemovePastDedctibleVal(){try{localStorage.removeItem("pastdeduct")}catch(n){console.log(n.message)}}function GetBreedShortName(n){try{return n!=""?n.toLowerCase().indexOf("mixed breed")!=-1?"Mixed Breed":n:n}catch(t){return console.log(t.message),n}}function RemoveModelShadow(){$(".modal-backdrop").remove()}function GetFirstName(){try{if(GetCookie("polN_C")!=""){var n=JSON.parse(GetCookie("polN_C"));return n.firstName}if(GetCookie("petI_C")!="")return JSON.parse(GetCookie("petI_C")).quoteFirstName;if(localStorage.getItem("ls_pt_inf1")){let n=JSON.parse(localStorage.getItem("ls_pt_inf1"));return n.quoteFirstName}return""}catch(t){console.log(t.message)}}function postMobileCarousel(){var n,t,i;(removeBlankCarouselItems(),n=$(".mobile-carousel"),n.addClass("owl-carousel"),t="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/angle-left-green.png' alt='Left arrow' />",i="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/angle-right-green.png' alt='Right arrow' />",typeof $.fn.owlCarousel=="function")&&(n.hasClass("breed-health-testimonial-carousel")&&(t="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/Blue-Arrow-Left.png' alt='Left arrow' />",i="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/Blue-Arrow-Right.png' alt='Right arrow' />"),n.length>0&&(n.owlCarousel({items:1,loop:!0,margin:30,nav:!0,arrows:!0,navText:[t,i],dots:!0}),$(".mobile-carousel").trigger("to.owl.carousel",[0,0])))}function destroyMobileCarousel(){var n=$(".mobile-carousel");typeof n.data("owl.carousel")!="undefined"&&n.owlCarousel("destroy");n.removeClass("owl-carousel")}function removeBlankCarouselItems(){$(".mobile-carousel").find(".mobile-carousel-item").each(function(n,t){$(this).children().length==0&&$(t).remove()})}function postsCarousel(){var t=$(window).width(),n=$(".mobile-carousel"),i="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/angle-left-green.png' alt='Left arrow' />",r="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/angle-right-green.png' alt='Right arrow' />";typeof $.fn.owlCarousel=="function"&&(n.hasClass("breed-health-testimonial-carousel")&&(i="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/Blue-Arrow-Left.png' alt='Left arrow' />",r="<img src='/ResourcePackages/Ecomm/assets/dist/images/icon/Blue-Arrow-Right.png' alt='Right arrow' />"),t>991?(typeof n.data("owl.carousel")!="undefined"&&n.data("owl.carousel").destroy(),n.removeClass("owl-carousel")):t<991&&(n.addClass("owl-carousel"),n.length>0&&n.owlCarousel({items:1,loop:!0,margin:30,nav:!0,arrows:!0,navText:[i,r],dots:!0})))}function BreedHealthJS(){try{var n=$(window).width();n>=991?destroyMobileCarousel():postMobileCarousel();$(".custom-btn").each(function(){originalStr=$(this).text();strLen=$(this).text().length;strLen>15&&($(this).text(originalStr.substr(0,15)+"..."),$(this).attr("title",originalStr))});setTimeout(function(){$(".bar").length>0&&($(".bar").each(function(n){var t=$(this);setTimeout(function(){t.css("width",t.attr("data-percent"))},n*100)}),$(".count").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).parent(".bar").attr("data-percent")},{duration:2e3,easing:"swing"})}))},500);setTimeout(function(){$(".form-bar").length>0&&$(".form-bar").each(function(n){var t=$(this),i=$(this).parent().index(),r=$(this).children(".label");$(this).parent().addClass("bar-chart-"+i);setTimeout(function(){t.css("height",t.attr("data-percent"))},n*100);setTimeout(function(){r.css("display","block")},n*100)})},500);jQuery(".breed-parent-container").length>0&&jQuery(".breed-parent-container").slick({dots:!0,centerPadding:"80px",infinite:!0,slidesToShow:1.66,initialSlide:2,slidesToScroll:1,appendDots:$(".slider-dots"),prevArrow:$(".prev"),nextArrow:$(".next"),responsive:[{breakpoint:1200,settings:{arrows:!0,centerPadding:"40px",slidesToShow:1.66,initialSlide:1}},{breakpoint:991,settings:{arrows:!0,centerPadding:"30px",slidesToShow:1}}]})}catch(t){console.log(t.message)}}function GetFbClientId(){let n=/_fbp=(fb\.1\.\d+\.\d+)/.exec(window.document.cookie);return(n&&n[1])?n[1]:null}async function GetClientIpAddress(){var n="";return await fetch("https://api64.ipify.org?format=json").then(n=>n.json()).then(t=>{n=t.ip}).catch(n=>console.error("Error fetching IP address:",n)),n}function SetUTMForPetinsurer(){try{if(getCookie("campaign")=="petinsurer"||GetQueryStringValueByName("campaign")=="petinsurer"){let n,t;n="+18337572488";t="833.757.2488";changePhoneNumber(n,t)}}catch(n){console.log(n.message)}}function decryptText(n){var t=CryptoJS.enc.Utf8.parse("8080808080808080"),i=CryptoJS.enc.Utf8.parse("8080808080808080"),r=CryptoJS.AES.decrypt(n,t,{keySize:16,iv:i,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return r.toString(CryptoJS.enc.Utf8)}function SetLocationPopUpDropdowns(n,t){try{var f=toUpperCaseSafe(n),r=toUpperCaseSafe(t),i=t;if(r=="CANADA"&&f=="QUEBEC"?i="CAF":r=="CANADA"?i="CA":r=="UNITED STATES"?i="US":currentLang=="en-au"&&(i="AU"),console.log("cName"+i),$("#countries").val(i).trigger("change"),currentLang!="fr-ca"?$("#countries").select2({placeholder:"Select a country"}):$("#countries").select2({placeholder:"Choisissez un pays"}),$("#countries").val()!=null&&jQuery("#countries").select2(),$("#geoLocationHeaderDropdown").length){$("#geoLocationHeaderDropdown").val(n);jQuery("#geoLocationHeaderDropdown").select2();CheckAndRedirectToCanadaSite(n);CheckAndRedirectToUSASite(n);try{jQuery.inArray(n,["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"])!==-1?currentLang=="en-ca"&&n!="Quebec"&&CheckifEnrollmentPage()==!1?(PushDataToDataLayerForLocation(n,t),$(".spn-location-data").show()):currentLang=="fr-ca"&&n=="Quebec"&&CheckifEnrollmentPage()==!1&&(PushDataToDataLayerForLocation(n,t),$(".spn-location-data").show()):jQuery.inArray(n,["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"])!==-1?currentLang=="en-us"&&CheckifEnrollmentPage()==!1&&(PushDataToDataLayerForLocation(n,t),$(".spn-location-data").show()):CheckifEnrollmentPage()==!1&&(PushDataToDataLayerForLocation(n,t),$(".spn-location-data").show())}catch(u){console.log(u.message)}}else CheckifEnrollmentPage()==!1&&(jQuery(".locationNavBarModal").show(),PushDataToDataLayerForLocation(n,t),$(".spn-location-data").show())}catch(u){console.log(u.message)}}function toUpperCaseSafe(n){return n&&typeof n=="string"?n.toUpperCase():""}function PushDataToDataLayerForLocation(n,t){try{window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"geolocation",country:t,state:n})}catch(i){console.log(i.message)}}function getEnglishProvinceName(n){const t={"Colombie-Britannique":"British Columbia","Nouveau-Brunswick":"New Brunswick","Terre-Neuve-et-Labrador":"Newfoundland and Labrador","Nouvelle-Écosse":"Nova Scotia","Île-du-Prince-Édouard":"Prince Edward Island","Québec":"Quebec","Territoires du Nord-Ouest":"Northwest Territories"};return t.hasOwnProperty(n)?{name:t[n],language:"fr"}:{name:n,language:"en"}}function Getls_pts_Data(){let t=localStorage.getItem("ls_pts"),n=[];try{t&&(n=JSON.parse(t),Array.isArray(n)||(n=[]))}catch(i){n=[]}return n}var btnFlag,MONTH_NAMES,DAY_NAMES,deductModel;const MILLISECONDS_IN_A_DAY=864e5,MILLISECONDS_IN_A_WEEK=7*MILLISECONDS_IN_A_DAY,MILLISECONDS_IN_A_MONTH=30.44*MILLISECONDS_IN_A_DAY,key="myEnrollmentData";var tempArray=[],clinicsAllnames=[],filteredUniqueClinicsAllNames=[],value={landingData:{},petDetails:{},yourDetails:{}},GLB_CAN_LANG="";Storage.prototype.setObject=function(n,t){this.setItem(n,JSON.stringify(t))};Storage.prototype.getObject=function(n){var t=this.getItem(n);return t&&JSON.parse(t)};const phrase="PxY&K1bPZmlY17f6$sf%",Encrypt=(n,t)=>{const i=n=>n.split("").map(n=>n.charCodeAt(0)),r=n=>("0"+Number(n).toString(16)).substr(-2),u=t=>i(n).reduce((n,t)=>n^t,t);return t.split("").map(i).map(u).map(r).join("")},Decrypt=(n,t)=>{try{const i=n=>n.split("").map(n=>n.charCodeAt(0)),r=t=>i(n).reduce((n,t)=>n^t,t);return t.match(/.{1,2}/g).map(n=>parseInt(n,16)).map(r).map(n=>String.fromCharCode(n)).join("")}catch(i){console.log(i.message)}};btnFlag=!0;jQuery(window).on("load",function(){value.landingData.UsedForText!="Super_Cert"&&jQuery(".tp-pd-tiremove iframe").attr("tabindex","-1")});jQuery(document).ready(function(){chatOnlineLink();SetLanguageSelectEvent();jQuery(".dropdown-toggle").on("click",function(){$(this).toggleClass("active")});jQuery("#1.petName").hasClass("active")||$("#1.petName").addClass("active");jQuery(".partner-policy-nwid").click(function(){jQuery(".partner-policy-nwid").length>0&&(currentLang!="en-us"?window.open("/"+currentLang+"/about/privacy-policy","_blank","resizable=yes, scrollbars=yes, titlebar=yes, width=800, height=600"):window.open("/about/privacy-policy","_blank","resizable=yes, scrollbars=yes, titlebar=yes, width=800, height=600"))});jQuery("#divZuoraPayment").click(function(){var n=$("#hdnCountryCode").val()==undefined?"":$("#hdnCountryCode").val(),t=$("#hdnStateOrProvinceCode").val()==undefined?"":$("#hdnStateOrProvinceCode").val(),i=$("#validationCustom4406").val()==undefined?"":$("#validationCustom4406").val();$.ajax({url:window.location.pathname+"/GetEcommWidgetValues",dataType:"json","async":!0,data:{finalAmount:$(".dueAmount").val(),countrycode:n,statecode:t,postcode:i},headers:{"Accept-Language":currentLang},success:function(n){$.each(n,function(n,t){params[n]=t});loadHostedPage()},fail:function(n){console.log(n)},error:function(){top.location.href.includes("en-ca")?top.location.replace("/en-ca/enrollments/enrollment-path-error"):top.location.replace("/enrollments/enrollment-path-error")}})});jQuery(".enrollFields").change(function(){let n=jQuery(this);customValidationFields(n);btnFlag});jQuery(".enrollModelFields").change(function(){let n=jQuery(this);customValidationFields(n);btnFlag});jQuery(".path1-fields-modal .enrollFields").change(function(){let n=jQuery(this);customValidationFields(n);btnFlag});jQuery(".path2-fields-modal .enrollFields").change(function(){bootstrap.Tooltip.getOrCreateInstance(".fa-info-circle");let n=jQuery(this);(customValidationFields(n),btnFlag)||validateM2()==!0&&(jQuery(".step-2-btn-modal").attr("disabled",!1),jQuery(".step-2-editbtn-modal").attr("disabled",!1))});jQuery(".path1-fields-modal #validationCustom01").change(function(){jQuery(".step-2-editbtn-modal").attr("style")&&checkDuplicateNames()});jQuery(".step-1-btn").click(function(){if(btnFlag&&(btnFlag=!1,validate()),validate()==!0)currentLang=="fr-ca"?jQuery(".step-1-btn").html(`<span class="spinner-grow spinner-grow-sm" aria-hidden="true" role="status"></span> Chargement...`):jQuery(".step-1-btn").html(`<span class="spinner-grow spinner-grow-sm" aria-hidden="true" role="status"></span> Loading...`);else return!1});jQuery(".step-1-btn-modal").click(function(){var r,n,i,u,f,t;if(btnFlag&&(btnFlag=!1,validateM()),validateM()==!0){if(r=checkDuplicateNames(),r==!1)return!1;n="";i=$("#validationCustom01").val();n=$("label[for='validationCustomS201']").html();u=$("#sppetnameholder").html();$("#sppetnameholder").html(i);f=n.lastIndexOf(u);$(".clspetname").html(i);$(".ptgenc").val()=="M"?(n=$(".validationCustomS203").html(),$(".validationCustomS203").html(n.replace("spayed","neutered"))):(n=$(".validationCustomS203").html(),$(".validationCustomS203").html(n.replace("neutered","spayed")));jQuery(".step-1-btn-modal").attr("disabled",!1);jQuery(".path1-fields-modal").hide();jQuery("#aap-modal-content").scrollTop(0);jQuery(".path2-fields-modal").show();$("[data-toggle=tooltip]").tooltip();bootstrap.Tooltip.getOrCreateInstance(".fa-info-circle");setTimeout(triggerSelectDropD,500);t=document.querySelector('input[type=radio][name="enrollPetInfoWidgetViewModel.QuotePetType"]:checked');t!=null&&t!=undefined&&(t.value.toUpperCase()=="CAT"?($("#dvbreedsizeselectpopup").removeClass("petsizeDiv"),$("#dvbreedsizeselectpopup").hide()):$("#dvbreedsizeselectpopup").addClass("petsizeDiv"))}});jQuery(".findVeterinarianGetSearch").click(function(){jQuery(".comm-searchNavBarModal").show()});jQuery(".searchBoxCancelResult").click(function(){jQuery("#globalSerachBoxInputResult").val("");jQuery(".globalSerachBoxInputResult-suggestions").hide()});var n=window.location.href;if(n.indexOf("/ca-en/")!==-1||n.indexOf("/en-ca/")!==-1)jQuery(".ca-p4-zip").html("Postal code"),jQuery(".ca-p4-state").html("Province"),jQuery(".ca-zip-name").html("What's your postal code?"),jQuery("#validationCustom05").attr("placeholder","Enter your postal code");LanguageSelectorChangeEvent();useCurrentLocation();AddSearchEvents();mainSearchUiFunction();SetUrlWithRefNum();$("img").each(function(n){var t,i,u,r,f,e;$(this).hasClass("img-fluid")||$(this).addClass("img-fluid");t=$(this).attr("src");t!=null&&(i=t.split("/"),u=i[i.length-1],f=u.split(".")[0].replace("%20"," "),r=f+" image "+n,$(this).attr("alt")?(e=$(this).attr("alt"),$(this).attr("title",e)):($(this).attr("alt",r),$(this).attr("title",r)));$(this).removeAttr("title")});$("iframe").each(function(n){var t,i,u,r;t=$(this).attr("src");t!=null&&(i=t.split("/"),u=i[i.length-1],r=u.split(".")[0]+" iframe "+n,$(this).attr("title")||$(this).attr("title",r),$(this).attr("aria-label")||$(this).attr("aria-label",r));$(this).removeAttr("frameborder scrolling sandbox marginheight marginwidth")});$("#slick-slide02").attr("tabindex",-1);$("#globalSerachBoxInput").on("keypress",function(n){let t=n.keyCode?n.keyCode:n.which;t=="13"&&SearchDataByValue()});$("#globalSerachBoxInputMob").on("keypress",function(n){let t=n.keyCode?n.keyCode:n.which;t=="13"&&SearchDataByValueMob()});$("#mob-nav-search").on("keypress",function(n){let t=n.keyCode?n.keyCode:n.which;t=="13"&&$("#button-addon2").click()});$(".findVeterinarianHeader .navbar-toggler").on("click",function(){$("body").toggleClass("no-scroll")});setTimeout(function(){GetDateByUTC()},4e3);$(".deductbtn").bind("click",function(){$(".deductbtn").removeClass("activegreen");$(this).addClass("activegreen")})});jQuery(document).ready(function(){jQuery("#getQuoteBtn").on("click",function(){ClearLocalQuoteData()});jQuery(".findVeterinarianGetQuoteBtn").attr("onclick","ClearLocalQuoteData();");$("input[type=number]").on("keydown",function(n){["e","E","+","-"].includes(n.key)&&n.preventDefault()}).trigger("mouseup")});jQuery(document).ready(function(){jQuery(".closestZipModal").hide();jQuery(".locationNavBarModal").hide();jQuery(".path2-fields-modal").hide();jQuery(".bank-acc-selected-div").hide();jQuery(".cc-selected-div").hide();jQuery(".removePetModal").hide();jQuery(".pet1-s3-view").show();valpet=jQuery(".donthavePet").is(":checked");valpet==!1&&jQuery(".pickUpPetDate").hide();value.landingData.UsedForText!="Super_Cert"&&jQuery(".superC-offer-sec").hide();jQuery("#geoLocationHeaderDropdown").val(jQuery("#header-curr-location").html()).trigger("change");jQuery("#validationCustom04").select2();jQuery("#validationCustom04").select2({minimumResultsForSearch:-1});jQuery(".enrollFieldsDropD").select2();jQuery(".enrollFieldsDropD").select2({minimumResultsForSearch:-1});jQuery("#validationCustom04-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#geoLocationHeaderDropdown").select2();jQuery("#geoLocationHeaderDropdown").select2({minimumResultsForSearch:-1,allowClear:!0});jQuery("#geoLocationsamplepolicyDD").select2();jQuery("#geoLocationsamplepolicyDD").select2({allowClear:!0});jQuery("#validationCustomS201-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomS205").select2();jQuery("#validationCustomS205").select2({placeholder:currentLang=="fr-ca"?"Sélectionner un vétérinaire":"Select veterinarian",allowClear:!0});jQuery("#validationCustomS205-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("#validationCustomS208").select2();jQuery("#validationCustomS208").select2({minimumResultsForSearch:-1});jQuery("#validationCustomS401").select2();jQuery("#validationCustomS401").select2({placeholder:currentLang=="fr-ca"?"Sélectionner un vétérinaire":"Select veterinarian",allowClear:!0});jQuery("#validationCustomS407").select2();jQuery("#validationCustomS407").select2({placeholder:"Select",allowClear:!0});jQuery("#validationCustomS208-m").select2({dropdownParent:jQuery("#aap-modal-div")});jQuery("[data-toggle=tooltip]").tooltip();jQuery("#validationCustomFV01").select2();jQuery("#validationCustomFV01").select2({minimumResultsForSearch:-1});jQuery("#closestZipCode").click(function(){jQuery(".closestZipModal").show()});jQuery(".btn-more-abt-cov").click(function(){jQuery(".cov-icon6-row2").show();jQuery(".cov-icon6-row2").css("display","inherit")});jQuery(".removeSpecPet").click(function(){jQuery(".removePetModal").show()});jQuery(".black-X-mark").click(function(){jQuery(".closestZipModal").hide()});jQuery(".black-X-removePet-mark").click(function(){jQuery(".removePetModal").hide()});jQuery(".removePetCancelBtn").click(function(){jQuery(".removePetModal").hide()});jQuery(".removePetYesBtn").click(function(){jQuery(".removePetModal").hide()});jQuery(".location-name").click(function(){CheckifEnrollmentPage()||(jQuery(".locationNavBarModal").show(),jQuery("#geoLocationHeaderDropdown").select2(),jQuery("#geoLocationHeaderDropdown").select2({minimumResultsForSearch:-1,allowClear:!0}))});$(".location-name").keyup(function(n){n.keyCode==13&&jQuery(".locationNavBarModal").show()});jQuery(".black-X-nav-mark").click(function(){jQuery(".locationNavBarModal").hide()});$(".black-X-nav-mark").keyup(function(n){n.keyCode==13&&jQuery(".locationNavBarModal").hide()});jQuery(".donthavePet").click(function(){jQuery(".donthavePet").is(":checked")?(jQuery(".pickUpPetDate").show(),jQuery("#validationCustom08").addClass("enrollFields enrollFieldsDiv")):(jQuery(".pickUpPetDate").hide(),jQuery("#validationCustom08").removeClass("enrollFields enrollFieldsDiv"),validate(),validate()==!0)});jQuery("#validationCustom08").change(function(){let n=jQuery("#validationCustom08");checkValidation(n);customValidationFields(n);validate();let t=jQuery("#validationCustom08").val();t!=""&&jQuery("#validationCustom08").val(t);validate()==!0});jQuery(".locationNavBarApplyBtn").click(function(){jQuery("#location-name-header").val()&&(jQuery("#header-curr-location").html(jQuery("#location-name-header").val()),jQuery(".locationNavBarModal").hide(),jQuery("#location-name-header").val(""))});jQuery(".locationNavBarApplyBtn").click(function(){jQuery("#geoLocationHeaderDropdown").val()&&(jQuery("#header-curr-location").html(setStateInitials(jQuery("#geoLocationHeaderDropdown").val())),jQuery(".locationNavBarModal").hide(),jQuery("#location-name-header").val(""),SetCookieAndUrlOnLocationChange())});jQuery(".closestZipApplyBtn").click(function(){var r=jQuery(this),i="validationCustomS208",n,t;r.hasClass("btnpop")&&(i="validationCustomS208-m");jQuery("#closestZip").val()&&(n="",t="",t=document.getElementById("closestZip"),n=document.getElementById("cnumber"),t.value.length>5||t.value.length<3?(jQuery("#closestZip").css("border-color","#dc3545"),n.innerHTML="Invalid zip code entered.\r\n",jQuery("#cnumber").show()):(n.innerHTML="",jQuery("#closestZipCode").html(jQuery("#closestZip").val()),jQuery("#closestZip").css("border-color","#3A5DAE"),jQuery(".closestZipModal").hide(),jQuery(".closestZipModal").hide(),GetHospitalByZip(jQuery("#closestZip").val(),i),jQuery("#closestZip").val(""),jQuery("#cnumber").hide()))});jQuery("#learn-more-covered-link").click(function(){jQuery("#Whats-not-covered-modal-btn").removeClass("active");jQuery("#Whats-covered-modal-btn").addClass("active");jQuery("#Whats-not-covered-modal-tab").removeClass("active show");jQuery("#Whats-covered-modal-tab").addClass("active show")});jQuery("#learn-more-not-covered").click(function(){jQuery("#Whats-covered-modal-btn").removeClass("active");jQuery("#Whats-not-covered-modal-btn").addClass("active");jQuery("#Whats-covered-modal-tab").removeClass("active show");jQuery("#Whats-not-covered-modal-tab").addClass("active show")});jQuery("#validationCustomS408").click(function(){jQuery(".bank-acc-selected-div").show()});jQuery("#validationCustomS4088").click(function(){jQuery(".bank-acc-selected-div").hide()});jQuery(".bank-acc-selected").click(function(){jQuery(".step-1-btn").attr("disabled",!1);$("#validationCustomS601,#validationCustomS602,#validationCustomS603,#validationCustomS604,#validationCustomS605").val("");jQuery(".bank-acc-selected-div").show();document.getElementById("zuora_payment").innerHTML="";jQuery(".cc-selected-div").hide();jQuery(".enrollFieldsDiv").parents(".cc-selected-div").find(".enrollFields").addClass("tempTesting");jQuery(".enrollFieldsDiv").parents(".cc-selected-div").find(".tempTesting").removeClass("enrollFields");jQuery(".enrollFieldsDiv").parents(".bank-acc-selected-div").find(".tempTesting").addClass("enrollFields");jQuery(".cc-selected-div").find(".tempTesting").each(function(){let n=jQuery(this);checkValidation(n)});jQuery(".bank-acc-selected-div").find(".tempTesting").each(function(){let n=jQuery(this);customValidationFields(n)})});jQuery(".credit-card-selected").click(function(){jQuery(".cc-selected-div").show();setTimeout(triggerSelectDropD,500);$("#validationCustomS601,#validationCustomS602,#validationCustomS603").val("bank");$("#validationCustomS604,#validationCustomS605").val(0);var n=Array.from(document.getElementsByName("AccountType"));n[0].checked=!0;n[1].checked=!1;jQuery("#validationCustomS603").val("NotChecked");jQuery(".bank-acc-selected-div").hide();jQuery(".enrollFieldsDiv").parents(".bank-acc-selected-div").find(".enrollFields").addClass("tempTesting");jQuery(".enrollFieldsDiv").parents(".bank-acc-selected-div").find(".tempTesting").removeClass("enrollFields");jQuery(".enrollFieldsDiv").parents(".cc-selected-div").find(".tempTesting").addClass("enrollFields");jQuery(".bank-acc-selected-div").find(".tempTesting").each(function(){let n=jQuery(this);checkValidation(n)});jQuery(".cc-selected-div").find(".tempTesting").each(function(){let n=jQuery(this);customValidationFields(n)})});let n=jQuery(".slider");setSliderValue(n)});jQuery(document).ready(function(){jQuery(".findVeterinarianGetQuoteBtn").show();screen.width<1199?(jQuery(".map-div").hide(),jQuery(".coverageAccordionBtn").prop("disabled",!1),jQuery(".coverageAccordionBtn").addClass("accordion-button"),jQuery(".coverageAccordionBtn").removeClass("coverageAccordionBtn-d")):(jQuery(".map-div").show(),jQuery(".coverageAccordionBtn").prop("disabled",!0),jQuery(".coverageAccordionBtn").removeClass("accordion-button"),jQuery(".coverageAccordionBtn").addClass("coverageAccordionBtn-d"));jQuery("#map-view-btn").click(function(){jQuery(".map-div").show();jQuery(".sub-content").hide();jQuery("#list-view-btn").removeClass("active")});jQuery("#list-view-btn").click(function(){jQuery(".map-div").hide();jQuery(".sub-content").show()});jQuery(".step-2-btn-modal").click(function(){if(validateM2(),validateM2()==!0&&jQuery(".path2-fields-modal").is(":visible"))window.scroll(0,0);else return!1});jQuery(".addModal").click(function(){ResetControl();jQuery("#aap-modal-div").modal("toggle");jQuery(".path1-fields-modal").show();jQuery(".path2-fields-modal").hide();jQuery(".step-2-btn-modal").show();jQuery(".step-2-editbtn-modal").hide();$("#hdnmodelaction").val("add")});jQuery(".editModal").click(function(){jQuery("#aap-modal-div").modal("toggle");jQuery(".path1-fields-modal").show();jQuery(".path2-fields-modal").hide();jQuery(".step-2-btn-modal").hide();jQuery(".step-2-editbtn-modal").show();$("#hdnmodelaction").val("edit")});deductglob=jQuery("#date1").val();jQuery(".parent-container")[0]&&jQuery(".parent-container").slick({dots:!0,centerMode:!0,centerPadding:"60px",slidesToShow:3,prevArrow:jQuery(".prev"),nextArrow:jQuery(".next"),responsive:[{breakpoint:1024,settings:{arrows:!0,centerMode:!1,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!0,centerMode:!1,centerPadding:"40px",slidesToShow:1}}]});var n=window.matchMedia("(max-width: 576px)");n.matches&&slickify();jQuery(".home-slick-carousel .slick-carousel").slick({arrows:!0,centerPadding:"0px",dots:!0,slidesToShow:1,appendDots:$(".slide-m-dots"),infinite:!0,prevArrow:jQuery(".prev"),nextArrow:jQuery(".next")});jQuery(".why-trupanion--coverage-sec .carousel").slick({slidesToShow:3,dots:!0,centerMode:!1})});jQuery(window).on("load",function(){jQuery("#list-view-btn").prop("active",!0);screen.width<1199&&jQuery(".map-div").hide();jQuery(".sub-content").show()});jQuery(window).on("load",function(){jQuery("#list-view-btn").prop("active",!0);screen.width<1199&&jQuery(".map-div").hide();jQuery(".sub-content").show()});var prepopulateFields={},params={},Z=window.Z,CC_ERROR_MESSAGE_SELECTOR=".validation-summary-errors.text-danger";window.submitPaymentForm=function(n,t){var u,i,r;if(typeof n in{undefined:1,"null":1}||n==="")throw new Error("Missing or invalid Zuora account token:",n);if($(CC_ERROR_MESSAGE_SELECTOR).remove(),t){u=t;i=$("<div>",{"class":"validation-summary-errors text-danger"});i.text(u);setFocusPaymentIframe();r=document.querySelector(".cc-selected-div");$(r).prepend(i);showCreditCardForm(r);$("#mySpinner").removeClass("spinner");$("#mySpinner").width(0).height(0);$(".step-1-btn").html($("#hdnbtntextval").val());$(".step-1-btn").attr("disabled",!1);return}};jQuery("#getaQuickQuoteBtn").click(function(){});jQuery("#retrieveTheQuoteBtn").click(function(){});jQuery(".gSearchCancel").click(function(){jQuery(".comm-searchNavBarModal2").hide();jQuery(".comm-searchNavBarModal").hide();jQuery("#globalSerachBoxInput").val("");jQuery("#globalSerachBoxInputMob").val("")});jQuery(".searchBoxCancel").click(function(){jQuery("#globalSerachBoxInput").val("");jQuery("#globalSerachBoxInputMob").val("");jQuery(".comm-searchNavBarModal2").hide()});jQuery(document).ready(function(){$(".chat-popup").bind("click",function(){window.open("https://home-c28.incontact.com/incontact/chatclient/chatclient.aspx?poc=6f8cdd6c-2b33-414d-a279-e0139eab4e1b&bu=4598009","MyWindow","width=600,height=600")});var n=$(".claim-slider"),t={arrows:!1,dots:!1,centerMode:!1,centerPadding:"60px",slidesToShow:1,prevArrow:$(".prev"),nextArrow:$(".next"),responsive:[{breakpoint:767,settings:{arrows:!0,dots:!0,centerMode:!1,centerPadding:"40px",slidesToShow:1}}]};$(window).on("load resize",function(){return $(window).width()>767?n.slick("unslick"):n.slick(t)});jQuery(".payout-slider").slick({dots:!0,centerMode:!0,centerPadding:"60px",slidesToShow:3,prevArrow:jQuery(".prev"),nextArrow:jQuery(".next"),responsive:[{breakpoint:1024,settings:{arrows:!0,centerMode:!1,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!0,centerMode:!1,centerPadding:"40px",slidesToShow:1}}]})});$(document).ready(function(){$(".survey-wrap .chat-btn").click(function(){$(this).siblings(".wrapper").toggleClass("show")});$("#closeSurveyChat").click(function(){$(".survey-wrap").children(".wrapper").removeClass("show")});hideChatForQuebec();$(".locationNavBarApplyBtn").on("click",function(){hideChatForQuebec()});currentLang=="fr-ca"?$("body").addClass("frenchbodywrap"):$("body").removeClass("frenchbodywrap");$(".navbar-toggler").on("click",function(){$(this).find(".hamburger").toggleClass("is-active")});$(".form-select").attr("tabindex","0");$(document).keydown(function(n){n.keyCode===9&&$("input, button, a, select").focus(function(){var n=300,t=$(this);t.offset().top-$(window).scrollTop()>$(window).height()-n&&$("html, body").animate({scrollTop:t.offset().top-($(window).height()-n)},20)});n.shiftKey&&n.keyCode===9&&$("input, button, a, select").focus(function(){var n=$(this);$("html, body").animate({scrollTop:n.offset().top-200},20)})});$("button").removeAttr("aria-invalid")});$(document).click(function(){var n=$(".survey-wrap");n.children(".wrapper").is(":visible")&&(n.is(event.target)||n.has(event.target).length||n.children(".wrapper").removeClass("show"))});$(document).click(function(n){var t=$(n.target);t.closest(".mainnavbar-header").length||t.closest(".navbar-toggler").length||!$(".mainnavbar-header").is(":visible")||($(".mainnavbar-header").removeClass("show"),$(".navbar-toggler .hamburger").removeClass("is-active"))});Date.prototype.toShortFormat=function(){const n=this.getDate(),r=this.getMonth(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][r],i=this.getFullYear();return currentLang=="fr-ca"?`${n} ${t}, ${i}`:`${t} ${n}, ${i}`};MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];$(document).ready(function(){var n=$("#petTabsScroller li").outerWidth(),t=$("#petTabsScroller li").length,i=n*t;$(".scroller-btn.right").on("click",function(){$(".pet-tab-list").animate({scrollLeft:"+=142px"},300);console.log($("#petTabsScroller").scrollLeft()+" px")});$(".scroller-btn.left").on("click",function(){$(".pet-tab-list").animate({scrollLeft:"-=142px"},300)});petTabScrollerHide();initPetTabs();BreedHealthJS()});$(window).on("load resize",function(){initPetTabs();$(window).width()<1199?(jQuery(".coverageAccordionBtn").prop("disabled",!1),jQuery(".coverageAccordionBtn").addClass("accordion-button"),jQuery(".coverageAccordionBtn").removeClass("coverageAccordionBtn-d")):(jQuery(".coverageAccordionBtn").prop("disabled",!0),jQuery(".coverageAccordionBtn").removeClass("accordion-button"),jQuery(".coverageAccordionBtn").addClass("coverageAccordionBtn-d"));$(window).width()<992?(jQuery(".enhance-coverage-accordion-button.rideraccbtn").prop("disabled",!1),jQuery(".enhance-coverage-accordion-button.rideraccbtn").addClass("accordion-button"),jQuery(".enhance-coverage-sub-details.rideraccbox .accordion-button").addClass("collapsed"),jQuery(".enhance-coverage-sub-details.rideraccbox .accordion-collapse").addClass("collapse")):(jQuery(".enhance-coverage-accordion-button.rideraccbtn").prop("disabled",!0),jQuery(".enhance-coverage-accordion-button.rideraccbtn").removeClass("accordion-button"),jQuery(".enhance-coverage-sub-details.rideraccbox .accordion-button").removeClass("collapsed"),jQuery(".enhance-coverage-sub-details.rideraccbox .accordion-collapse").removeClass("collapse"))});try{deductModel=document.getElementById("deductibleSliderModal");deductModel!=null&&deductModel.addEventListener("shown.bs.modal",function(){localStorage.setItem("pastdeduct",$("#lbldeductibles").text().replace("$","").replace("%",""));jQuery(".slider").WBslider()})}catch(err){console.log(err.message)}$("body").click(function(n){$(n.target).hasClass("locationNavBarModal")||$(n.target).parents().hasClass("locationNavBarModal")||$(n.target).hasClass("location-name")||$(n.target).parents().hasClass("location-name")||$(".locationNavBarModal").hide()});$(window).resize(function(){var n=$(window).width();n>=991?destroyMobileCarousel():postMobileCarousel()});postsCarousel();$(window).resize(postsCarousel);;

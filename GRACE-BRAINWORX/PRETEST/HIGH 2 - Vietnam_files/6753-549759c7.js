(self.webpackChunknatgeo=self.webpackChunknatgeo||[]).push([[6753],{89277:(e,t,a)=>{var l,n=a(85893),i=(a(67294),a(45697)),s=a(50239),r=a(84967),o=a(21800),c=a(3896),d=a(94184),u=a(36910),m=a(83978),p=a(29643),y=a(5075),_=a(14461),g=a(90207),h=a(26278),v=(new(a(59896))).MOBILE[1],w=h.getCountry,x=a(27361),k=a(64721),b=s.empty,f=s.emptyObj,S=[],j=s.isFunc,N=s.passThru,E=s.TRUE,I=s.FALSE,P=s.NULL,T=s.cbool,C=r.evtCancel,M=r.qsa,F=a(17779),O=a(24071),L=a(74055),A="paywall.family.subscribers",B="paywall click",D="roadblock",R={event_name:"paywall impressions",paywall_type:D},G=["us"],H=h.getLoginValueCookie;a(625),(l=c({componentDidMount:function(){var e=(this.props||f).autoplayVideo;j(e)&&e()},displayName:"PaywallModal",launchSignIn:function(e){var t=x(this,"context.guest.disneyInstance",f).launchIdentityFlow;C(e),j(t)&&t()},setFocusOnInputButton:function(){var e=M(".PaywallModal__Button--input-button",E);e&&e.focus()},render:function(){var e,t=this,a=t.props||f,l="6247ae7c-403a-4aef-9a26-f73b6e9d81ed"===a.contentPackageId,i=a.heading,s=a.description,r=a.campaignName,c=a.cta||f,y=c.text,_=c.url,h=x(t,"context.guest.entitlements")||a.entitlements||S,j=!b(h),C=a.isActive,M=a.windowWidth<=v,U=M?g.paywallMobileImage:g.paywallImage,W=M?a.mobileImage:a.image,z=null!=W&&W.src?null==W||null===(e=W.src)||void 0===e||null===(e=e.split("/"))||void 0===e?void 0:e.pop():"No Image",Y=null==W?void 0:W.dsc,V=a.optimizeImage(W,U,!0)||P,q=T(H())||a.isLoggedIn||!1,K=x(t,"context.translate",N),J=R,Q=d("PaywallModal__Body",{"PaywallModal__Body--family":l}),X=w(),Z=a.disableModal,$=C,ee=k(G,X)||I;return r&&(J=o({},R,{campaign_name:r,paywall_title:i,paywall_subtitle:s,cta_text:y,paywall_cta_url:_,paywall_image:z})),Z&&($=!1),n.jsx(m,{trackValues:J,disableViewTracking:!0,children:n.jsx(F,{className:"PaywallModal",setFocus:t.setFocusOnInputButton,shouldHavePointerEvents:I,open:$,ariaLabel:i,children:n.jsxs(O,{children:[n.jsxs("div",{className:"PaywallModal__Container",children:[n.jsxs("div",{className:Q,children:[i&&n.jsx("h3",{className:"PaywallModal__Heading",children:i}),s&&n.jsx("p",{className:"PaywallModal__Description",children:s}),y&&_&&n.jsx("div",{className:"PaywallModal__Button",children:n.jsx(p,{"data-track-event_name":B,"data-track-paywall_type":D,"data-track-campaign_name":r,"data-track-paywall_title":i,"data-track-paywall_subtitle":s,"data-track-cta_text":y,"data-track-paywall_cta_url":_,"data-track-paywall_image":z,children:n.jsxs(u,{className:"PaywallModal__Button--input-button",href:_,size:"lg",children:[" ",n.jsx(p,{className:"PaywallModal__Button--input-button-track","data-track-event_name":B,"data-track-paywall_type":D,"data-track-campaign_name":r,"data-track-event_detail":"CTA_button_click","data-track-paywall_title":i,"data-track-paywall_subtitle":s,"data-track-cta_text":y,"data-track-paywall_cta_url":_,"data-track-paywall_image":z,children:y})]})})})]}),l&&ee||!l?n.jsxs("div",{className:"PaywallModal__Footer",children:[!q&&n.jsxs("div",{className:"PaywallModal__SignIn",children:[n.jsx("p",{className:"PaywallModal__SignIn--text",children:K(l?A:"paywall.already.subscriber")}),n.jsx(p,{"data-track-event_name":"oneid action","data-track-event_detail":"oneid modal displayed",children:n.jsx(u,{className:"PaywallModal__SignIn--link",onClick:t.launchSignIn,unStyled:E,children:K("paywall.signin")})})]}),q&&!j&&n.jsxs("div",{className:"PaywallModal__TextNote",children:[n.jsx("p",{className:"PaywallModal__TextNote--text",children:K(l?A:"paywall.magazine.subscribers")}),n.jsx(L,{className:"PaywallModal__TextNote--link",to:"/subscribe/link-subscription",children:K(l?"paywall.family.link.subscription":"paywall.link.subscription")})]})]}):P]}),V&&n.jsx("div",{className:"PaywallModal__Image",children:n.jsx("img",{src:V,alt:Y})})]})})})}})).displayName="PaywallModal",l.defaultProps={isActive:E},l.contextTypes={guest:i.object,translate:i.func},l.propTypes={heading:i.string,description:i.string,cta:i.object,textNote:i.string,isActive:i.bool},e.exports=y(_(l))},43170:(e,t,a)=>{e.exports=a(89277)},15580:(e,t,a)=>{var l=a(38416),n=a(85893);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r,o=a(67294),c=a(45697),d=a(3896),u=a(94184),m=a(84967),p=a(50239),y=a(5902),_=a(14732),g=a(77648),h=a(33363),v=a(46544),w=a(14718),x=a(94042).isEmail,k=a(64535),b=a(36910),f=a(74055),S=a(21800),j=a(27361),N=a(38169),E=a(63105),I=a(41609),P=a(35161),T=a(84486),C=a(26278),M=C.getLoginValueCookie,F=C.getCountry,O=C.getFreemiumCookie,L=C.setFreemiumCookie,A=a(359),B=a(19495),D=A.COMMON_ANALYTICS.CUSTOM_EVENT,R=a(24660).getOneIDMetadataMap,G=a(29426),H=G.NEWSLETTER_EMITTERS.POLICY_BUILT,U=G.NEWSLETTER_NAME,W=U.NATGEO_ALL_NEWSLETTERS,z=U.DEFAULT_CAMPAIGN,Y="",V=p.emptyObj,q=p.emptyAry,K=p.TRUE,J=p.FALSE,Q=p.noop,X=p.strlc,Z=p.cbool,$=p.empty,ee=p.getGlobal,te=B.loc,ae=ee(),le=p.first,ne=m.css,ie=m.qsa,se=(new(a(59896))).MOBILE[1],re="freemium",oe="context.analytics",ce="context.guest.disneyInstance",de="freemium account creation",ue="premium roadblock",me="".concat("paywall"," click"),pe=w.PROP_NAMES.PAGE_TYPE,ye="props.".concat(pe),_e="close",ge="privacyCopy",he="li",ve="100%",we="fixed",xe="natgeo",ke="0",be="#mask",fe="Thank you for signing up. Look for National Geographic in your inbox soon!";a(73917);var Se=a(43881);function je(e,t,a,l){var n=this;n.campaignId=e,n.email=t,n.marketing=a,n.legal=l}(r=d({displayName:"Slider",render:function(){var e,t,a,l,i,r,o=this,c=o.props||V,d=o.state||V,m=d.scrolled,p=d.emailAddress,y=d.policy,_=d.formSuccess,h=d.viewFreemium,w=d.inputError,S=o.setFreemiumCookie,E="us"!==F(),I="uk"===F()||"gb"===F(),P=j(o,ce)||c.testInstance,T=m,C=c.windowWidth<=se,O=c.heading||Y,L=c.description||Y,A=c.cta||V,B=c.mbleHdr,D=c.ftrTxt,R=E?fe:c.scsMsg||fe,G=c.sldrTyp,H=c.marketingCampaign,U=c.ftrCta||V,W=U.useOneID,z=U.text||Y,q=U.url||"#",ee=A.text||Y,te=Z(M()),ae=u("Slider",{"Slider--scrolled":T}),le=u("Slider__InnerContainer",{"Slider__InnerContainer--scrolled":T}),ne=o.trackLink||Q,ie={className:"Slider__ExpandedButton",label:ee,inverse:K},oe={className:"Slider__FooterLink"},pe={event_name:me,paywall_type:G===re?de:ue,campaign_name:H},ye=o.createLinkTracking(ee,pe),ge=o.createLinkTracking(z,pe);return m&&!h&&o.lockPage(),i=function(e){o.setState({emailAddress:e.target.value})},r=function(e){var t=x(X(p));e.preventDefault(),!E&&t?(o.newsletterSignup(),o.trackLink(ye,J,null)):E?(P.on("opt-in",o.setSuccess),o.trackLink(ye,K,null,J,K)):o.setState({inputError:!t})},oe.onClick=W?N(ne,null,ge,K,K):N(ne,null,ge,J,q),te||(a=n.jsxs("div",{className:"Slider__UnAuthenticatedContainer",children:[n.jsx("div",{className:"Slider__FooterText",children:D}),n.jsx(f,s(s({"aria-label":z},oe),{},{children:z}))]})),C&&B&&(e=n.jsx("div",{className:"Slider__MobileHeader",children:B})),t=E?n.jsx("form",{onSubmit:r,children:n.jsx("div",{className:"Slider__InputGroup",children:n.jsx(k,s({},ie))})}):n.jsx("form",{onSubmit:r,children:n.jsxs("div",{className:"Slider__InputGroup",children:[n.jsxs("div",{className:"Slider__InputRow",children:[w&&n.jsx("div",{className:"Slider__ErrorText",children:"Please enter a valid email address"}),n.jsx("label",{htmlFor:"emailAddressField",children:"Email Address"}),n.jsx(v,{className:"Slider__EmailAddressField",id:"emailAddressField",placeholder:"Enter your email",type:"text",value:p,onChange:i})]}),n.jsx(k,s({},ie)),n.jsx("div",{className:"Slider__Policy",children:y})]})}),l=n.jsxs("div",{className:le,children:[I?n.jsx(b,{className:"Slider__Close",icon:_e,onClick:S,"aria-label":_e,unStyled:!0}):null,_?n.jsx("div",{children:n.jsx(Se,{className:"Slider__Success",text:R,element:"h2"})}):n.jsxs(n.Fragment,{children:[e,n.jsx("h1",{className:"Slider__ExpandedHeader",children:O}),n.jsx("div",{className:"Slider__ExpandedSubHeader",children:L}),n.jsxs("div",{className:"Form__Container",children:[t,a]})]})]}),h||$(P)?null:n.jsx(g,{children:n.jsx("div",{className:"Slider__Container",children:n.jsx("div",{className:ae,ref:o.sliderElementRef,children:l})})})},componentDidMount:function(){var e=this,t=e.props||V,a=null==e?void 0:e.state,l=(null==a?void 0:a.policy)||Y,i=t.disableSlider,s=Z(O())||i,r=e.resizeForSlider,o="us"!==F(),c=j(e,ce,V);s&&e.setState({viewFreemium:!0}),y.on(H,(function(t,a,l,n){e.setState({policy:a,legal:l,marketing:n}),r()})),I(c)||o||!I(l)||c.getInlineNewsletters(z).then((function(t){var a=t.data||V,l=a.legal,i=(le(l)||V).content||Y,s=a.marketing,r=P(s,(function(e){var t=e||V;return{code:t.code,content:t.content}})),o=function(e,t){var a=e||q,l=(le(a)||V).content||Y,i=[];return a.length>1?(T(a,(function(e,t){var a=(e||V).content;a&&i.push(n.jsx(Se,{text:a,element:he},t))})),t&&i.push(n.jsx(Se,{text:t,element:he},ge))):i.push(n.jsx(Se,{text:"".concat(l," ").concat(t),element:he},ge)),i}(r,i);e.setState({legal:l,marketing:r,policy:o})})),r()},getInitialState:function(){return{scrolled:!1,isActive:!1,formSuccess:!1,viewFreemium:!1,inputError:!1,emailAddress:"",policy:Y}},resizeForSlider:function(){var e=j(this,ye),t=j(this,"sliderElementRef.current.clientHeight",0),a=(ae.document||V).getElementsByClassName("GlobalFooter"),l=le(a),n=l&&l.style,i=ie("body",K);"interactive"===e?n&&(n.position="relative",n.bottom=ke,n.paddingBottom="".concat(t,"px")):ne(i,"margin-bottom:".concat(t,"px"))},componentDidUpdate:function(e){var t=this,a=t.state||V,l=j(t,oe,V).track||Q,n=a.scrolled,i=a.viewFreemium,s=t.props||V,r=s.marketingCampaign,o=s.sldrTyp===re?de:ue,c=t.resizeForSlider,d=s.windowWidth||0,u=e.windowWidth||0,m=d<=se,p=u<=se,y=j(t,"props.windowScrollY"),_=e.windowScrollY,g=j(t,ce);$(g)||y===_||!_||n||i||(t.setState({scrolled:!0}),l(D,{event_name:"paywall impressions",campaign_name:r,paywall_type:o})),m!==p&&c()},createLinkTracking:function(e,t){var a={};return $(t)||(a=S({},t,{event_detail:X(e)})),a},trackLink:function(e,t,a,l,n){var i=this,s=j(i,"context.guest.disneyInstance.launchIdentityFlow",Q),r=j(i,"context.guest.disneyInstance.launchNewsletters",Q),o=j(i,oe,V).track||Q;$(e)||o(D,e),t?(o(D,{event_name:"oneid action",event_detail:"oneid modal displayed"}),l&&s(),n&&r(z)):a&&m.loc(a)},setSuccess:function(){var e=this,t=(e.props||V).marketingCampaign,a=j(e,oe,V),l="uk"===F()||"gb"===F();(a.track||Q)(D,{event_name:me,campaign_name:t,paywall_type:de,event_detail:"sign up:success"}),e.setState({formSuccess:K}),l?e.setFreemiumCookie(6e3):e.setFreemiumCookie(3e3)},newsletterSignup:function(){var e,t,a=this,l=a.props||V,n=a.state||V,i=n.emailAddress,s=j(a,"props.mrktngMeta",V),r=n.legal,o=n.marketing,c=l.analytics,d=l.meta,u=(te()||V).params,m=E(o,{subscribed:K}),p=j(a,ce);$(p)||(e=new je(W,i,m,r),t=R(s,c,d,u),p.setInlineNewsletters(e,t).then((function(e){a.setSuccess()})).catch((function(e){var t=e||V;console.error(t)})))},lockPage:function(){var e=ae.document||V,t=e.getElementById(xe),a=e.createElement("div"),l=e.getElementsByClassName("Slider--scrolled"),n=le(l),i=t.querySelector(be),s=e.documentElement;s&&(s.scrollTop=0),e&&e.body&&e.body.style&&(e.body.style.width=ve),a&&a.style&&(a.style.position=we,a.style.top=ke,a.style.left=ke,a.style.width=ve,a.style.height=ve,a.style.background="linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 20%, rgba(0, 0, 0, 0.8))",a.style.zIndex="500",a.setAttribute("id","mask")),t&&t.style&&(t.style.position=we,t.style.overflow="hidden",t.style.height=ve,t.style.width=ve,i||t.appendChild(a)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&n&&(n.style.overscrollBehaviorY="contain")},unLockPage:function(){var e=ae.document||V,t=e.getElementById(xe),a=t.querySelector(be);t&&t.style&&(t.style.position=null,t.style.overflow=null,t.style.height=null,t.style.width=null,t.removeChild(a)),e&&e.body&&e.body.style&&(e.body.style.marginBottom=ke)},setFreemiumCookie:function(e){var t=this,a=ae.location||V;L(K),setTimeout((function(){t.setState({viewFreemium:!0}),t.unLockPage(),a&&a.reload()}),e)},sliderElementRef:o.createRef()})).propTypes={windowWidth:c.number,heading:c.string,description:c.string,cta:c.object,mbleHdr:c.string,footerText:c.string,isAuthed:c.bool},r.contextTypes={analytics:c.object,guest:c.object,translate:c.func},e.exports=h(_(r,{breakpoint:["DESKTOP","MOBILE"]}),{windowScrollY:K})},98976:(e,t,a)=>{e.exports=a(15580)},625:(e,t,a)=>{"use strict";a.r(t)},73917:(e,t,a)=>{"use strict";a.r(t)}}]);
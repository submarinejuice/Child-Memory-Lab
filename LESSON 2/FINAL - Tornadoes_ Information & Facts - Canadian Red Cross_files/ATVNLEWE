
/*! For license information please see 03f58d39b53d.embed.js.LICENSE.txt */
(()=>{var e,t,n={"../../clickhouse/mapper/index.js":(e,t,n)=>{var i=n("../../clickhouse/mapper/clickhouseDictionary.json");e.exports={compressPayload:function(e){var t={};return Object.keys(i).forEach((function(n){var r=n,o=i[n];t[r]=e[o]})),t},expandPayload:function(e){var t={},n=["up"],r=Object.keys(e).filter((function(e){return-1===Object.keys(i).indexOf(e)&&!n.includes(e)}));return r.length&&(t.UNMATCHED={},r.forEach((function(n){t.UNMATCHED[n]=e[n]})),t.invalid=!0),Object.keys(i).forEach((function(r){if(!n.includes(r)){var o=r,s=i[r];e[o]&&(t[s]=e[o])}})),t}}},"./src/helpers/parseHref.ts":(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var i=n("./src/helpers/parseQueryParams.ts");const r=/#([^?&]+)/;function o(e){if(!e)return null;if(!r.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const n=t[0],o=r.exec(n);if(!o)return null;const s=o[1],a=(0,i.U)(n),c={key:s};return Object.assign(c,a),c}},"./src/helpers/parseQueryParams.ts":(e,t,n)=>{"use strict";function i(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const r=n.exec(e);if(!r)break;const[,o,s]=r;try{t?i[decodeURIComponent(o)]=decodeURIComponent(s):i[o]=s}catch(e){console.error(e)}}return i}n.d(t,{U:()=>i})},"./src/splitTesting/getTLD.ts":(e,t,n)=>{"use strict";function i(e,t,n){t||(t=window.location.hostname);const i=t.split("."),r=e.getField("topLevelDomain");if(r)return r;let o="";if(1===i.length&&(o=i[0]),2===i.length&&(o="."+i.join(".")),3===i.length&&"www"===i[0]&&(o="."+i.slice(-2).join(".")),o)return e.setData({topLevelDomain:o},{domain:o}),o;o=i.splice(-1).join();for(let t=i.length;t>0;t--)if(o=i.splice(-1).join()+"."+o,e.setData({topLevelDomain:"."+o},{domain:"."+o}),!e.available||e.getField("topLevelDomain")||n&&!(null==n?void 0:n.get()))return"."+o}n.d(t,{f:()=>i})},"../fun-storage/src/funCookiesKeys.ts":(e,t,n)=>{"use strict";var i;n.d(t,{e:()=>i}),function(e){e.SESSION="fundraiseup_session",e.FUNC="fundraiseup_func",e.PERFORMANCE="fundraiseup_stat",e.CONSENT="fundraiseup_consent",e.MARKETING="fundraiseup_mark",e.CID="fundraiseup_cid",e.DEBUG="fundraiseup_debug",e.EXPERIMENTS="fundraiseup_experiments",e.FUN_AB_STORAGE="fundraiseup_ab_test",e.DEV_MODE="developmentMode"}(i||(i={}))},"../murmur/src/murmur.ts":(e,t,n)=>{"use strict";function i(e){let t,n,i,r,o,s,a,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=3&e.length,n=e.length-t,i=l,o=3432918353,s=461845907,c=0;c<n;)a=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,a=(65535&a)*o+(((a>>>16)*o&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*s+(((a>>>16)*s&65535)<<16)&4294967295,i^=a,i=i<<13|i>>>19,r=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&r)+((58964+(r>>>16)&65535)<<16);switch(a=0,t){case 3:a^=(255&e.charCodeAt(c+2))<<16;break;case 2:a^=(255&e.charCodeAt(c+1))<<8;break;case 1:a^=255&e.charCodeAt(c),a=(65535&a)*o+(((a>>>16)*o&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*s+(((a>>>16)*s&65535)<<16)&4294967295,i^=a}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0}n.d(t,{A:()=>i})},"../../shared/src/common/debug/Debug.ts":(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var i=n("../murmur/src/murmur.ts"),r=n("../fun-storage/src/funCookiesKeys.ts"),o=n("../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs");class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.codes=t,this.expose=void 0!==o.A.get(r.e.DEBUG),this.prefix=e}createInstance(e){return new s(e,this.codes)}stringToColor(e){const t=(0,i.A)(e);let n="#";for(let e=0;e<3;e++)n+=("00"+(t>>8*e&255).toString(16)).substr(-2);return n}log(e){if(this.expose){e=this.prefix?`${this.prefix}:${e}`:e,console.groupCollapsed("%c"+(new Date).toISOString().slice(11,-1)+" %c"+e,"color:grey;","font-weight:700;color:white;border-radius: 2px;padding:2px 5px;background-color:"+this.stringToColor(e));for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.log(...n),console.groupEnd(),this.push(e,...n)}}logCode(e){const t=this.codes?this.codes[e]:String(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=i.map((e=>"number"!=typeof e?e:this.codes&&this.codes[e]||e));this.log(t,...o)}isExpose(){return this.expose}push(e){const t=window;if(Array.isArray(t.FUN_DEBUG_LOGS)){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.FUN_DEBUG_LOGS.push({name:e,content:i})}}}},"../../shared/src/common/embed/getSharedContainer.ts":(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n("../../shared/src/common/embed/serviceContainer.ts");function r(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new i.T),window.FUN_SERVICE_CONTAINER}},"../../shared/src/common/embed/helpers.ts":(e,t,n)=>{"use strict";var i,r,o;n.d(t,{Ru:()=>c,cH:()=>l,dy:()=>d,UA:()=>a,i:()=>u}),(o=i||(i={})).POSITIVE="positive",o.NEGATIVE="negative",o.NEUTRAL="neutral",function(e){e.HAPPY="happy",e.SAD="sad",e.NEUTRAL="neutral"}(r||(r={}));const s=/#(.+?)(&|$)/;function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const r=n.exec(e);if(!r)break;const[,o,s]=r;try{t?i[decodeURIComponent(o)]=decodeURIComponent(s):i[o]=s}catch(e){console.error(e)}}return i}function c(e,t){let n=e;for(;;){if(t(n))return n;if(!n.parentNode)return;n=n.parentNode}}function l(e,t){if(e.getAttribute)return e.getAttribute("data-"+t)||void 0}function d(e){if(!e)return null;if(!s.test(e))return null;const t=/(#.+?)$/.exec(e);if(!t)return null;const n=t[0],i=s.exec(n);if(!i)return null;const r=i[1],o=a(n),c={key:r};return Object.assign(c,o),c}function u(e){const t=[];for(const[n,i]of e)t.push(`${encodeURIComponent(n)}=${encodeURIComponent(i)}`);return t.join("&")}},"../../shared/src/common/embed/serviceContainer.ts":(e,t,n)=>{"use strict";n.d(t,{T:()=>i});class i{constructor(){this.providers=new Map,this.cache=new Map}get(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.providers.get(e);if(!n)throw new Error(`${String(e)} is not provided`);if(t&&this.cache.has(e))return this.cache.get(e);const i=n();return t?(this.cache.has(e)||this.cache.set(e,i),i):i}provide(e,t){return this.providers.has(e)?(console.warn(`14 ${String(e)}`),this):(this.providers.set(e,t),this)}}},"../../shared/src/common/embed/splitTesting/constants.ts":(e,t,n)=>{"use strict";n.d(t,{$m:()=>r,AC:()=>i,_Q:()=>o});const i="fun_test",r="fun_variant",o=2},"../../shared/src/common/embed/tracking/constants.ts":(e,t,n)=>{"use strict";n.d(t,{v:()=>i});const i="clientId"},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/resolve-url-loader@5.0.0/node_modules/resolve-url-loader/index.js!./src/preloader/backdrop.css":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/sourceMaps.js"),r=n.n(i),o=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/api.js"),s=n.n(o)()(r());s.push([e.id,".fun-widget-backdrop-holder {\n  left: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  display: block !important;\n  position: fixed !important;\n  z-index: 2147483646 !important;\n  transition: opacity 0.2s ease-in-out !important;\n  transform: translateZ(99px) !important;\n  animation: fun-widget-backdrop 0.2s ease-in-out !important;\n}\n\n.fun-widget-backdrop {\n  position: absolute !important;\n  left: 50% !important;\n  top: 50% !important;\n  animation:\n    fun-widget-backdrop-rotate 1.5s infinite linear,\n    fun-widget-backdrop-fadein 0.6s ease-in-out !important;\n  padding: 0 !important;\n  margin: -30px 0 0 -30px !important;\n  width: 60px !important;\n  min-width: 60px !important;\n  max-width: 60px !important;\n  height: 60px !important;\n  min-height: 60px !important;\n  max-height: 60px !important;\n  border-radius: 50% !important;\n  border: 4px solid !important;\n  border-color: #e3e3e3 #e3e3e3 #666666 #666666 !important;\n}\n\n@keyframes fun-widget-backdrop {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-fadein {\n  0% {\n    opacity: 0;\n  }\n  33% {\n    opacity: 0;\n  }\n  66% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-rotate {\n  0% {\n    rotate: 0deg;\n  }\n  100% {\n    rotate: 359deg;\n  }\n}\n","",{version:3,sources:["webpack://./src/preloader/backdrop.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,oBAAoB;EACpB,mBAAmB;EACnB,sBAAsB;EACtB,uBAAuB;EACvB,yBAAyB;EACzB,0BAA0B;EAC1B,8BAA8B;EAC9B,+CAA+C;EAC/C,sCAAsC;EACtC,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,oBAAoB;EACpB,mBAAmB;EACnB;;0DAEwD;EACxD,qBAAqB;EACrB,kCAAkC;EAClC,sBAAsB;EACtB,0BAA0B;EAC1B,0BAA0B;EAC1B,uBAAuB;EACvB,2BAA2B;EAC3B,2BAA2B;EAC3B,6BAA6B;EAC7B,4BAA4B;EAC5B,wDAAwD;AAC1D;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;EACE;IACE,YAAY;EACd;EACA;IACE,cAAc;EAChB;AACF",sourcesContent:[".fun-widget-backdrop-holder {\n  left: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  right: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  display: block !important;\n  position: fixed !important;\n  z-index: 2147483646 !important;\n  transition: opacity 0.2s ease-in-out !important;\n  transform: translateZ(99px) !important;\n  animation: fun-widget-backdrop 0.2s ease-in-out !important;\n}\n\n.fun-widget-backdrop {\n  position: absolute !important;\n  left: 50% !important;\n  top: 50% !important;\n  animation:\n    fun-widget-backdrop-rotate 1.5s infinite linear,\n    fun-widget-backdrop-fadein 0.6s ease-in-out !important;\n  padding: 0 !important;\n  margin: -30px 0 0 -30px !important;\n  width: 60px !important;\n  min-width: 60px !important;\n  max-width: 60px !important;\n  height: 60px !important;\n  min-height: 60px !important;\n  max-height: 60px !important;\n  border-radius: 50% !important;\n  border: 4px solid !important;\n  border-color: #e3e3e3 #e3e3e3 #666666 #666666 !important;\n}\n\n@keyframes fun-widget-backdrop {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-fadein {\n  0% {\n    opacity: 0;\n  }\n  33% {\n    opacity: 0;\n  }\n  66% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fun-widget-backdrop-rotate {\n  0% {\n    rotate: 0deg;\n  }\n  100% {\n    rotate: 359deg;\n  }\n}\n"],sourceRoot:""}]);const a=s},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},"../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/runtime/sourceMaps.js":e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},"./src/preloader/backdrop.css":(e,t,n)=>{var i=n("../../node_modules/.pnpm/css-loader@6.10.0_webpack@5.90.3/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/resolve-url-loader@5.0.0/node_modules/resolve-url-loader/index.js!./src/preloader/backdrop.css");i&&i.__esModule&&(i=i.default),e.exports="string"==typeof i?i:i.toString()},"../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs":(e,t,n)=>{"use strict";function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}n.d(t,{A:()=>r});var r=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},"../../clickhouse/mapper/clickhouseDictionary.json":e=>{"use strict";e.exports=JSON.parse('{"u":"URL","ck":"companyKey","cm":"checkoutCompanyKey","cd":"clientId","ct":"clientTime","cz":"clientTimeZone","lo":"clientLocale","ek":"elementKey","el":"elementLocale","er":"elementReminderKey","ey":"elementType","ep":"elementParams","et":"eventType","te":"customEventType","ev":"customEventData","ed":"elementData","eg":"eventTags","pv":"pageViewId","pl":"pageViewLifetime","r":"referer","rh":"resolutionHeight","rw":"resolutionWidth","t":"title","hl":"uaHistoryLength","wk":"widgetKey","wh":"windowHeight","wx":"windowScrollX","wy":"windowScrollY","ww":"windowWidth","cv":"checkoutViewId","ce":"checkoutError","co":"checkoutOpenTime","cl":"checkoutLifetime","cs":"checkoutScreen","sd":"checkoutScreenData","cc":"checkoutClickElement","cf":"checkoutFrequency","fp":"clickDOMPath","fh":"clickAHref","ft":"clickText","dk":"chargeCampaignKey","dd":"chargeKey","du":"chargeInUSDAmount","di":"chargeInDefaultCurrencyAmount","da":"chargeAmount","dc":"chargeCurrency","df":"chargeFeeCovered","dm":"chargePaymentMethod","dr":"chargeIsRecurring","dn":"chargeHasComment","dh":"chargeHasTribute","dg":"chargeGoal","st":"splitTestName","sv":"splitTestVariant","pm":"paymentMethod","ws":"widgetSession","lm":"livemode","fv":"funSnippetVersion","fe":"funEmbedRelease","vf":"isFundraiseupVisitor","lc":"checkoutLocale","cr":"checkoutIsRecurring","cy":"checkoutCurrency","ca":"checkoutAmount","cu":"checkoutInUSDAmount","yr":"checkoutCurrencyRate","fa":"checkoutDefaultAmount","cp":"checkoutPresets","ps":"pageScripts","ol":"clientOnLine","dt":"clientDoNotTrack","pr":"clientDevicePixelRatio","rm":"clientDeviceMemory","hc":"clientHardwareConcurrency","nt":"clientConnectionType","nd":"clientConnectionDownlink","nr":"clientConnectionRTT","ne":"clientConnectionEffectiveType","bc":"clientBatteryCharging","bt":"clientBatteryChargingTime","bd":"clientBatteryDischargingTime","bl":"clientBatteryLevel","de":"dataLayerEventName","dp":"dataLayerParams","fn":"pixelEventName","fs":"pixelEventData","gk":"fundraisingGroupKey","pk":"fundraisingPageKey","pc":"fundraisingPageCustomerKey","ec":"eventComment","ba":"uaIsInApp","uw":"uaWebdriver","rd":"duration","se":"source","sk":"supporterKey","ak":"agentKey","pu":"pointingDeviceIsUsed","fo":"donationType","cn":"clientCookieConsent","tt":"checkoutType"}')}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+"."+{31:"bf6411e5e3cd",443:"717ead4a1a31",707:"7a03ca58c7be"}[e]+"."+(707===e?"SplitTesting":e)+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@fundraiseup/embed:",r.l=(n,i,o,s)=>{if(e[n])e[n].push(i);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var p=(t,i)=>{a.onerror=a.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.fundraiseup.com/",(()=>{if(void 0!==r){var e=r.u,t=r.e,n={},i={};r.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},r.e=function(o){return t(o).catch((function(t){var s=i.hasOwnProperty(o)?i[o]:3;if(s<1){var a=e(o);throw t.message="Loading chunk "+o+" failed after 3 retries.\n("+a+")",t.request=a,t}return new Promise((function(e){var t=3-s+1;setTimeout((function(){var a="cache-bust=true&retry-attempt="+t;n[o]=a,i[o]=s-1,e(r.e(o))}),0)}))}))}}})(),(()=>{var e={722:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=o);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[s,a,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);c&&c(r)}for(t&&t(n);l<s.length;l++)o=s[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.funEmbed=self.funEmbed||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=r("../../shared/src/common/debug/Debug.ts");const t={};function n(e){return function(e){const i=t[e];if(i)return i;const r=new Promise((function(t,i){setTimeout((()=>{const r=window.document.createElement("script");r.type="text/javascript",r.charset="UTF-8",r.async=!0,r.onerror=function(e){i(e)},r.onload=function(){t(!0)},r.src=e,window.document.documentElement.appendChild(r),n._immedeatly&&t(!0)}),0)}));return t[e]=r,r}(e)}var i,o,s,a,c;n._immedeatly=!1,function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting",e.JS_API="jsApi"}(i||(i={})),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(o||(o={})),function(e){e.type="type",e.recurring="recurring",e.amount="amount",e.modifyAmount="modifyAmount",e.designationId="designationId",e.fundraiser="fundraiser",e.modifyDesignation="modifyDesignation",e.firstName="firstName",e.lastName="lastName",e.email="email",e.fundraiseupLivemode="fundraiseupLivemode"}(s||(s={})),function(e){e.POPUP="POPUP",e.CHECKOUT="CHECKOUT",e.P2P_FORM="P2P_FORM"}(a||(a={})),function(e){e.DUMMY_EXPERIMENT="DummyExperiment",e.CHECKOUT_BUNDLE_EXPERIMENT="CheckoutBundleExperiment",e.DONOR_PORTAL_TEST_EXPERIMENT="DonorPortalTestExperiment",e.CAMPAIGN_PAGE_TEST_EXPERIMENT="CampaignPageTestExperiment",e.EMBED_TEST_EXPERIMENT="EmbedTestExperiment",e.UPGRADE_LINKS_IN_INSTALLMENT_EMAILS_AI_V2_EXPERIMENT="UpgradeLinksInInstallmentEmailsAIv2Experiment",e.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT="MlPostDonationUpsellCheckoutExperiment",e.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT="MlPostDonationUpsellCampaignPagesExperiment",e.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CheckoutWithoutPreDonationUpsellExperiment",e.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT="CampaignPagesWithoutPreDonationUpsellExperiment",e.SMART_COVERING_FEE_CHECKOUT_V_2_EXPERIMENT="SmartCoveringFeeSuggestionCheckoutExperimentV2",e.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_2_EXPERIMENT="SmartCoveringFeeSuggestionCampaignPagesExperimentV2",e.AA_CHECKOUT_EXPERIMENT="AACheckoutExperiment",e.SMART_POST_DONATION_UPSELL_CHECKOUT_V_2_EXPERIMENT="SmartPostDonationUpsellCheckoutV2Experiment",e.SMART_POST_DONATION_UPSELL_CAMPAIGN_PAGES_V_2_EXPERIMENT="SmartPostDonationUpsellCampaignPagesV2Experiment",e.UPSELL_AMOUNTS_DATASET_MODAL_EXPERIMENT="UpsellAmountsDatasetModalExperiment",e.UPSELL_AMOUNTS_DATASET_PAGES_EXPERIMENT="UpsellAmountsDatasetPagesExperiment",e.UPGRADE_LINKS_PAGE_AI_V_2_EXPERIMENT="UpgradeLinksPageAIv2Experiment",e.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT="SteplessMobileCheckoutExperiment",e.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CHECKOUT_V_3_EXPERIMENT="CollectDatasetPostDonationUpsellAmountCheckoutV3Experiment",e.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CAMPAIGN_PAGES_V_3_EXPERIMENT="CollectDatasetPostDonationUpsellAmountCampaignPagesV3Experiment",e.UPSELL_AMOUNTS_SUGGESTION_MODAL_EXPERIMENT="UpsellAmountsSuggestionModalExperiment",e.UPSELL_AMOUNTS_SUGGESTION_PAGES_EXPERIMENT="UpsellAmountsSuggestionPagesExperiment",e.SMART_PDU_CHECKOUT_V_3_EXPERIMENT="SmartPDUCheckoutV3Experiment",e.SMART_PDU_CAMPAIGN_PAGES_V_3_EXPERIMENT="SmartPDUCampaignPagesV3Experiment",e.RECURRING_FREQUENCY_HINT_CAMPAIGN_PAGES_EXPERIMENT="RecurringFrequencyHintCampaignPagesExperiment",e.RECURRING_FREQUENCY_HINT_CHECKOUT_DESKTOP_EXPERIMENT="RecurringFrequencyHintCheckoutDesktopExperiment",e.RECURRING_FREQUENCY_HINT_CHECKOUT_MOBILE_EXPERIMENT="RecurringFrequencyHintCheckoutMobileExperiment",e.CHECKOUT_STEPS_CAMPAIGN_PAGES_EXPERIMENT="CheckoutStepsCampaignPagesExperiment",e.CHECKOUT_STEPS_CHECKOUT_MODAL_EXPERIMENT="CheckoutStepsCheckoutModalExperiment",e.DONOR_RATING_CHECKOUT_EXPERIMENT="DonorRatingCheckoutExperiment",e.DONOR_RATING_CAMPAIGN_PAGES_EXPERIMENT="DonorRatingCampaignPagesExperiment",e.ML_DONATION_RETRY_V_3_EXPERIMENT="MlDonationRetryV3Experiment",e.UPSELL_SCREEN_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT="UpsellScreenDataCollectCampaignPagesExperiment",e.UPSELL_SCREEN_DATA_COLLECT_CHECKOUT_EXPERIMENT="UpsellScreenDataCollectCheckoutExperiment",e.AMOUNT_PRESETS_CHECKOUT_V_4_EXPERIMENT="AmountPresetsCheckoutV4Experiment",e.AMOUNT_PRESETS_PAGES_V_4_EXPERIMENT="AmountPresetsPagesV4Experiment",e.AMOUNT_PRESETS_DONATION_FORM_V_4_EXPERIMENT="AmountPresetsDonationFormV4Experiment",e.AMOUNTS_ON_UPSELL_V_2_CAMPAIGN_PAGES_EXPERIMENT="AmountsOnUpsellV2CampaignPagesExperiment",e.AMOUNTS_ON_UPSELL_V_2_CHECKOUT_EXPERIMENT="AmountsOnUpsellV2CheckoutExperiment",e.AVERAGE_DONATION_HINT_EXPERIMENT="AverageDonationHintExperiment",e.AVERAGE_DONATION_HINT_CAMPAIGN_PAGES_EXPERIMENT="AverageDonationHintCampaignPagesExperiment",e.FAST_TRACK_CAMPAIGN_PAGES_EXPERIMENT="FastTrackCampaignPagesExperiment",e.FAST_TRACK_CHECKOUT_EXPERIMENT="FastTrackCheckoutExperiment",e.ABANDONED_DONATION_EMAIL_CHAIN_TIMING_V_1_EXPERIMENT="AbandonedDonationEmailChainTimingV1Experiment",e.UPGRADE_LINKS_IN_DP_REVERSE_EXPERIMENT="UpgradeLinksInDPReverseExperiment",e.UPGRADE_LINKS_IN_EMAILS_REVERSE_EXPERIMENT="UpgradeLinksInEmailsReverseExperiment",e.SMART_COVERING_FEE_CHECKOUT_V_4_EXPERIMENT="SmartCoveringFeeCheckoutV4Experiment",e.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_4_EXPERIMENT="SmartCoveringFeeCampaignPagesV4Experiment",e.MULTIPLE_RECURRING_PLAN_CHECKOUT_EXPERIMENT="MultipleRecurringPlanCheckoutExperiment",e.MULTIPLE_RECURRING_PLAN_CAMPAIGN_PAGES_EXPERIMENT="MultipleRecurringPlanCampaignPagesExperiment"}(c||(c={}));const l={[c.DUMMY_EXPERIMENT]:"33802",[c.CHECKOUT_BUNDLE_EXPERIMENT]:"61172",[c.DONOR_PORTAL_TEST_EXPERIMENT]:"68092",[c.CAMPAIGN_PAGE_TEST_EXPERIMENT]:"68383",[c.EMBED_TEST_EXPERIMENT]:"65492",[c.ML_POST_DONATION_UPSELL_CHECKOUT_EXPERIMENT]:"70084",[c.ML_POST_DONATION_UPSELL_CAMPAIGN_PAGES_EXPERIMENT]:"71732",[c.CHECKOUT_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73814",[c.CAMPAIGN_PAGES_WITHOUT_PRE_DONATION_UPSELL_EXPERIMENT]:"73816",[c.SMART_COVERING_FEE_CHECKOUT_V_2_EXPERIMENT]:"82767-modal",[c.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_2_EXPERIMENT]:"82767-pages",[c.AA_CHECKOUT_EXPERIMENT]:"77715",[c.SMART_POST_DONATION_UPSELL_CHECKOUT_V_2_EXPERIMENT]:"79870-modal",[c.SMART_POST_DONATION_UPSELL_CAMPAIGN_PAGES_V_2_EXPERIMENT]:"79870-pages",[c.UPSELL_AMOUNTS_DATASET_MODAL_EXPERIMENT]:"87159-modal",[c.UPSELL_AMOUNTS_DATASET_PAGES_EXPERIMENT]:"87159-pages",[c.UPGRADE_LINKS_IN_INSTALLMENT_EMAILS_AI_V2_EXPERIMENT]:"87202",[c.UPGRADE_LINKS_PAGE_AI_V_2_EXPERIMENT]:"87190",[c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT]:"60395",[c.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CHECKOUT_V_3_EXPERIMENT]:"89924-modal",[c.COLLECT_DATASET_POST_DONATION_UPSELL_AMOUNT_CAMPAIGN_PAGES_V_3_EXPERIMENT]:"89924-pages",[c.UPSELL_AMOUNTS_SUGGESTION_MODAL_EXPERIMENT]:"89701-modal",[c.UPSELL_AMOUNTS_SUGGESTION_PAGES_EXPERIMENT]:"89701-pages",[c.SMART_PDU_CHECKOUT_V_3_EXPERIMENT]:"89260-modal",[c.SMART_PDU_CAMPAIGN_PAGES_V_3_EXPERIMENT]:"89260-pages",[c.RECURRING_FREQUENCY_HINT_CAMPAIGN_PAGES_EXPERIMENT]:"59392-pages",[c.RECURRING_FREQUENCY_HINT_CHECKOUT_DESKTOP_EXPERIMENT]:"59392-desktop",[c.RECURRING_FREQUENCY_HINT_CHECKOUT_MOBILE_EXPERIMENT]:"59392-mobile",[c.CHECKOUT_STEPS_CAMPAIGN_PAGES_EXPERIMENT]:"59119-pages",[c.CHECKOUT_STEPS_CHECKOUT_MODAL_EXPERIMENT]:"59119-modal",[c.DONOR_RATING_CHECKOUT_EXPERIMENT]:"99706-modal",[c.DONOR_RATING_CAMPAIGN_PAGES_EXPERIMENT]:"99706-pages",[c.ML_DONATION_RETRY_V_3_EXPERIMENT]:"99145",[c.UPSELL_SCREEN_DATA_COLLECT_CAMPAIGN_PAGES_EXPERIMENT]:"112996-pages",[c.UPSELL_SCREEN_DATA_COLLECT_CHECKOUT_EXPERIMENT]:"112996-modal",[c.AMOUNT_PRESETS_CHECKOUT_V_4_EXPERIMENT]:"126493-modal",[c.AMOUNT_PRESETS_PAGES_V_4_EXPERIMENT]:"126493-pages",[c.AMOUNT_PRESETS_DONATION_FORM_V_4_EXPERIMENT]:"126493-DF",[c.AMOUNTS_ON_UPSELL_V_2_CAMPAIGN_PAGES_EXPERIMENT]:"104387-pages",[c.AMOUNTS_ON_UPSELL_V_2_CHECKOUT_EXPERIMENT]:"104387-modal",[c.AVERAGE_DONATION_HINT_EXPERIMENT]:"101523-modal",[c.AVERAGE_DONATION_HINT_CAMPAIGN_PAGES_EXPERIMENT]:"101523-pages",[c.FAST_TRACK_CAMPAIGN_PAGES_EXPERIMENT]:"101284-pages",[c.FAST_TRACK_CHECKOUT_EXPERIMENT]:"101284-modal",[c.ABANDONED_DONATION_EMAIL_CHAIN_TIMING_V_1_EXPERIMENT]:"117635",[c.UPGRADE_LINKS_IN_DP_REVERSE_EXPERIMENT]:"116912-DP",[c.UPGRADE_LINKS_IN_EMAILS_REVERSE_EXPERIMENT]:"116912-Email",[c.SMART_COVERING_FEE_CAMPAIGN_PAGES_V_4_EXPERIMENT]:"113277-pages",[c.SMART_COVERING_FEE_CHECKOUT_V_4_EXPERIMENT]:"113277-modal",[c.MULTIPLE_RECURRING_PLAN_CHECKOUT_EXPERIMENT]:"114635-modal",[c.MULTIPLE_RECURRING_PLAN_CAMPAIGN_PAGES_EXPERIMENT]:"114635-pages"};var d,u,p,h,E,m,g,f,T,_,v,A,y,C,N,I,S,w,O,R,P,b,D,L,U,k,M,x,F,G,B,K,V,H,j,Y,X,W,z,$,q,Z,J,Q,ee,te,ne,ie,re,oe,se,ae,ce,le,de,ue,pe,he,Ee;Object.values(l),function(e){e.BILLING="billing",e.EMBED="embed",e.CAMPAIGN_PAGES="campaignPages",e.DONOR_PORTAL="donorPortal",e.EMAILS="emails"}(d||(d={})),function(e){e.CONTROL="control",e.TEST="test"}(u||(u={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(p||(p={})),function(e){e.CONTROL="control",e.TEST="test"}(h||(h={})),function(e){e.CONTROL="control",e.TEST="test"}(E||(E={})),function(e){e.CONTROL="control",e.TEST="test"}(m||(m={})),function(e){e.CONTROL="control",e.TEST="test"}(g||(g={})),function(e){e.CONTROL="control",e.TEST="test"}(f||(f={})),function(e){e.CONTROL="control",e.TEST="test"}(T||(T={})),function(e){e.CONTROL="control",e.TEST="test"}(_||(_={})),function(e){e.CONTROL="control",e.TEST="test"}(v||(v={})),function(e){e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(A||(A={})),function(e){e.CONTROL="control",e.TEST="test"}(y||(y={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(C||(C={})),function(e){e.CONTROL="control",e.TEST="test"}(N||(N={})),function(e){e.CONTROL="control",e.TEST="test"}(I||(I={})),function(e){e.CONTROL="control",e.TEST="test"}(S||(S={})),function(e){e.CONTROL="control",e.TEST="test"}(w||(w={})),function(e){e.CONTROL="control",e.TEST="test"}(O||(O={})),function(e){e.CONTROL="control",e.TEST="test"}(R||(R={})),function(e){e.CONTROL="control",e.TEST="test"}(P||(P={})),function(e){e.CONTROL="control",e.TEST="test"}(b||(b={})),function(e){e.CONTROL="control",e.TEST="test"}(D||(D={})),function(e){e.CONTROL="control",e.TEST="test"}(L||(L={})),function(e){e.CONTROL="control",e.TEST="test"}(U||(U={})),function(e){e.CONTROL="control",e.TEST="test"}(k||(k={})),function(e){e.CONTROL="control",e.TEST="test"}(M||(M={})),function(e){e.CONTROL="control",e.TEST="test"}(x||(x={})),function(e){e.CONTROL="control",e.TEST="test"}(F||(F={})),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(G||(G={})),function(e){e.CONTROL="control",e.TEST="test"}(B||(B={})),function(e){e.CONTROL="control",e.TEST="test"}(K||(K={})),function(e){e.CONTROL="control",e.TEST="test"}(V||(V={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(H||(H={})),function(e){e.CONTROL="control",e.TEST="test"}(j||(j={})),function(e){e.CONTROL="control",e.TEST="test"}(Y||(Y={})),function(e){e.CONTROL="control",e.TEST="test"}(X||(X={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(W||(W={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(z||(z={})),function(e){e.CONTROL="control",e.TEST="test"}($||($={})),function(e){e.CONTROL="control",e.TEST="test"}(q||(q={})),function(e){e.CONTROL="control",e.TEST="test"}(Z||(Z={})),function(e){e.CONTROL="control",e.TEST="test"}(J||(J={})),function(e){e.CONTROL="control",e.TEST="test"}(Q||(Q={})),function(e){e.CONTROL="control",e.TEST="test"}(ee||(ee={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(te||(te={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(ne||(ne={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2",e.TEST_3="test-3"}(ie||(ie={})),function(e){e.CONTROL="control",e.TEST="test"}(re||(re={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(oe||(oe={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(se||(se={})),function(e){e.CONTROL="control",e.TEST="test"}(ae||(ae={})),function(e){e.CONTROL="control",e.TEST="test"}(ce||(ce={})),function(e){e.CONTROL="control",e.TEST="test"}(le||(le={})),function(e){e.CONTROL="control",e.TEST="test"}(de||(de={})),function(e){e.CONTROL="control",e.TEST="test"}(ue||(ue={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(pe||(pe={})),function(e){e.CONTROL="control",e.TEST_1="test-1",e.TEST_2="test-2"}(he||(he={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CROATIA="HR",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.THAILAND="TH",e.UNITED_ARAB_EMIRATES="AE",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH",e.ISRAEL="IL"}(Ee||(Ee={}));const me=[Ee.UNITED_KINGDOM,Ee.CANADA,Ee.GERMANY],ge=e=>!me.includes(e),fe=(e,t)=>{const{disabledAccounts:n,enabledAccounts:i}=e;if(null==n?void 0:n.find((e=>e===t)))return!1;const r=null==i?void 0:i.find((e=>e===t));return!((null==i?void 0:i.length)&&!r)};class Te extends Error{constructor(e){super(`4 - ${e}`)}}class _e extends Error{constructor(e){super(`6 - ${e}`)}}class ve extends Error{constructor(e){super(`8 - ${e}`)}}class Ae extends Error{constructor(e){super(`5 - ${e}`)}}class ye extends Error{constructor(e){super(`9 - ${e}`)}}class Ce{constructor(e){this.excluded=!1,this.isInitialized=!1,this.isActive=!1;const{settings:t,companyKey:n,widgetKey:i,tracker:r,funStorage:o,user:s,parentCompanyKey:a,infrastructureParams:c,sentry:l,distribution:d,allowExperiments:u=!0}=e;this.sentry=l,this.companyKey=n,this.parentCompanyKey=a,this.widgetKey=i,this.tracker=r,this.funStorage=o,this.user=s,this.infrastructureParams=c;const{experimentId:p,name:h,disabledAccounts:E,enabledAccounts:m,enabled:g,enabledWidgets:f}=t;this.name=h,this.experimentId=p,this.disabledAccounts=E,this.enabledAccounts=m,this.enabledWidgets=f,this.disabledWidgets=t.disabledWidgets,this.settings=t,this.enabled=g,this.distribution=d;const T=Array.isArray(window.FUN_DISABLED_EXPERIMENTS)?window.FUN_DISABLED_EXPERIMENTS:[];this.globalDisabled=!u||window.FUN_DISABLE_EXPERIMENTS||-1!==T.indexOf(p)}get isExperimentEnabled(){return((e,t)=>{var n;if(!t)return!1;const{enabled:i,name:r}=t,o=e.get(),s=o&&(null===(n=o.settings[r])||void 0===n?void 0:n.enabled);return i||Boolean(s)})(this.funStorage,this.settings)}getDebugPanelEnabled(){var e,t;const n=null===(e=this.funStorage.get())||void 0===e?void 0:e.settings;return Boolean(n&&(null===(t=n[this.name])||void 0===t?void 0:t.enabled))}get active(){return this.isActive}get variantName(){return this.distribution.currentVariantName}get variantKey(){return this.distribution.currentVariantKey}start(e){if(!this.checkDisabled()&&(this.isInitialized=this.init(),this.isInitialized)){this.activate();const e=this.getTags();this.tracker.setEventTags(e)}}getTags(){const e=[this.experimentId,`${this.experimentId}-${this.variantName}`];return this.excluded&&e.push(`${this.experimentId}-exclusion`),e}isVariant(e){return this.variantKey===e}setVariant(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.distribution.setVariant(e),this.excluded=t;const n=[this.experimentId];this.tracker.removeEventTags(n);const i=this.getTags();this.tracker.setEventTags(i)}restoreVariant(){this.distribution.previousVariantName&&this.setVariant(this.distribution.previousVariantName,!1)}exposure(){this.isActive&&this.tracker.customTrack({type:"testGroupExposed",data:{exclusion:this.excluded,experimentId:this.experimentId,variantName:this.variantName}})}init(){var e,t,n,i;const r=this.getDebugPanelVariant();if(r.variant&&r.enabled)return this.setVariant(r.variant),!0;if(r.enabled&&!r.variant&&(this.excluded=!0),!fe(this.settings,this.companyKey))return!1;const o=null===(e=this.enabledWidgets)||void 0===e?void 0:e.find((e=>e===this.widgetKey));if((null===(t=this.enabledWidgets)||void 0===t?void 0:t.length)&&!o)return!1;const s=null===(n=this.disabledWidgets)||void 0===n?void 0:n.find((e=>e===this.widgetKey));return!((null===(i=this.disabledWidgets)||void 0===i?void 0:i.length)&&s||(this.distribution.initCurrentVariantName(),0))}activate(){this.isActive?this.sentry.captureException(new Te(this.name)):this.isActive=!0}checkDisabled(){const e=this.getDebugPanelExperimentsSettings();if(e){const t=e[this.name];if(t&&t.enabled)return!1}return!this.enabled||this.globalDisabled}getDebugPanelExperimentsSettings(){const e=this.funStorage.get();return"object"!=typeof e?(this.sentry.captureException(new _e(e)),null):(null==e?void 0:e.settings)||null}getDebugPanelVariant(){var e;const t=null===(e=this.funStorage.get())||void 0===e?void 0:e.settings;if(!t)return{enabled:!1};const n=t[this.name];return n&&(null==n?void 0:n.enabled)?{enabled:!0,variant:n.variant}:{enabled:!1}}}var Ne,Ie,Se,we,Oe,Re,Pe,be,De,Le,Ue,ke,Me,xe,Fe,Ge,Be,Ke,Ve,He,je,Ye,Xe,We,ze,$e,qe,Ze,Je,Qe,et,tt,nt,it,rt,ot,st,at,ct,lt,dt,ut,pt,ht,Et,mt,gt,ft,Tt,_t,vt,At,yt,Ct,Nt,It,St;!function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.INCOMPLETE="incomplete",e.RETRYING="retrying",e.WAITING_FOR_TRANSFER="waiting_for_transfer",e.PAYPAL_ACTION_REQUIRED="paypal_action_required",e.SCHEDULED="scheduled",e.DISPUTE_LOST="dispute_lost",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.CREDIT_CARD_ACTION_REQUIRED="credit_card_action_required",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PARAMETER_INVALID_INTEGER="parameter_invalid_integer",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.SUBSCRIPTION_CANCELLED_BY_COMPANY="subscription_cancelled_by_company",e.SUBSCRIPTION_CANCELLED_BY_CUSTOMER="subscription_cancelled_by_customer",e.SUBSCRIPTION_SKIPPED_BY_COMPANY="subscription_skipped_by_company",e.SUBSCRIPTION_SKIPPED_BY_CUSTOMER="subscription_skipped_by_customer",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_TERMINATION_FLOW="failed_by_termination_flow",e.NOT_ELIGIBLE="not_eligible",e.UNKNOWN_REASON="unknown_reason",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_COMPANY="cancelled_by_company"}(Ne||(Ne={})),(St=Ie||(Ie={})).CARD="creditCard",St.APPLE_PAY="applePay",St.GOOGLE_PAY="googlePay",St.CLICK_TO_PAY="clickToPay",St.ACH="ach",St.PLAID="plaid",St.PAYPAL="paypal",St.VENMO="venmo",St.AU_BECS="auBecsDebit",St.UK_BACS="ukBacs",St.ACSS="acss",St.SEPA="sepa",St.IDEAL="ideal",St.CRYPTO="crypto",St.STOCK="stock",St.US_BANK_ACCOUNT="usBankAccount",function(e){e.BITCOIN="bitcoin",e.ETHEREUM="ethereum",e.BITCOINCASH="bitcoincash",e.LITECOIN="litecoin",e.ZCASH="zcash",e.FILECOIN="filecoin",e.DOGECOIN="dogecoin",e.TEZOS="tezos",e.SOLANA="solana",e.POLKADOT="polkadot"}(Se||(Se={})),function(e){e.PENDING="pending",e.FAILED="failed",e.SUCCESS="success",e.REFUNDED="refunded"}(we||(we={})),function(e){e.FAIL="fail",e.FAIL_NOT_ELIGIBLE="fail_not_eligible",e.WAIT_FOR_TRANSFER="wait_for_transfer",e.SUCCEED="succeed"}(Oe||(Oe={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(Re||(Re={})),function(e){e.ACH="ach",e.GOOGLE_PAY="android_pay",e.APPLE_PAY="apple_pay",e.CLICK_TO_PAY="masterpass",e.PLAID="plaid"}(Pe||(Pe={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.PAYPAL="paypal",e.VENMO="venmo",e.SOURCE="source",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock",e.US_BANK_ACCOUNT="us_bank_account"}(be||(be={})),function(e){e.CHARGEABLE="chargeable",e.NEW="new",e.VERIFICATION_FAILED="verification_failed",e.VERIFIED="verified",e.VALIDATED="validated",e.ERRORED="errored"}(De||(De={})),function(e){e.STRIPE="stripe",e.PAYPAL="paypal",e.GEMINI="gemini",e.MANUAL_BROKERAGE="manualBrokerage",e.COINBASE_COMMERCE="coinbaseCommerce"}(Le||(Le={})),function(e){e.STRIPE_TOKEN="stripeToken",e.STRIPE_PAYMENT_METHOD="stripePaymentMethod"}(Ue||(Ue={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.FAILED="failed"}(ke||(ke={})),function(e){e.RETRYING="retrying",e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.SCHEDULED="scheduled",e.PAUSED="paused",e.CANCELLED_BY_COMPANY="cancelled_by_company",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_TERMINATION_FLOW="cancelled_by_termination_flow",e.CANCELLED_BY_DISPUTE_LOST="cancelled_by_dispute_lost",e.CANCELLED_BY_LIMIT="cancelled_by_limit",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_INSUFFICIENT="failed_by_insufficient_data"}(Me||(Me={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.US_BANK_ACCOUNT="us_bank_account",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal"}(xe||(xe={})),function(e){e.VISA="Visa",e.VISA_ELECTRON="Visa Electron",e.MASTER_CARD="MasterCard",e.AMERICAN_EXPRESS="American Express",e.DINERS_CLUB="Diners Club",e.DISCOVER="Discover",e.JCB="JCB",e.UNION_PAY="UnionPay"}(Fe||(Fe={})),function(e){e.VISA="visa",e.AMERICAN_EXPRESS="amex",e.MASTERCARD="mastercard",e.DISCOVER="discover"}(Ge||(Ge={})),function(e){e[e.STANDARD=290]="STANDARD",e[e.NON_PROFIT=220]="NON_PROFIT"}(Be||(Be={})),function(e){e[e.AUTO=-1]="AUTO",e[e.NEVER=0]="NEVER",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX"}(Ke||(Ke={})),function(e){e.NEW="new",e.VALIDATED="validated",e.VERIFIED="verified",e.FAILED="verification_failed",e.ERRORED="errored"}(Ve||(Ve={})),function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(He||(He={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISABLED="disabled"}(je||(je={})),function(e){e.REQUIRES_ACTION="requires_action",e.REQUIRES_CONFIRMATION="requires_confirmation",e.REQUIRES_PAYMENT_METHOD="requires_payment_method",e.REQUIRES_CAPTURE="requires_capture",e.PROCESSING="processing",e.SUCCEEDED="succeeded",e.CANCELLED="canceled"}(Ye||(Ye={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(Xe||(Xe={})),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_CANCELLED="ach_verification_cancelled",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.UNKNOWN_ERROR="unknown_error",e.DEACTIVATED_ON_PROVIDER_SIDE="deactivated_on_provider_side",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.FUN_WRONG_PAYMENT_METHOD="fun_wrong_payment_method",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.MANDATE_INACTIVE="mandate_inactive",e.STRIPE_CUSTOMER_REQUIRED="stripe_customer_required",e.STRIPE_CUSTOMER_NONE="stripe_customer_none"}(We||(We={})),function(e){e.PAYMENT_METHOD_INVALIDATED="fun_payment_method_invalidated",e.CHARGE_VERIFICATION_CANCELLED="fun_verification_cancel",e.PAYMENT_METHOD_VERIFICATION_EXPIRED="fun_verification_expired",e.PAYMENT_METHOD_VERIFICATION_FAILED="fun_verification_failed",e.CHARGE_VERIFICATION_CANCELLED_BY_COMPANY="fun_verification_cancel_by_company",e.CHARGE_VERIFICATION_CANCELLED_BY_SUPPORTER="fun_verification_cancel_by_supporter",e.PAYMENT_WAS_CANCELLED="fun_payment_was_cancelled",e.ACCOUNT_WAS_TERMINATED="fun_account_was_terminated"}(ze||(ze={})),function(e){e.DUPLICATE_DONATION="duplicate_donation",e.FRAUD="fraud",e.REQUESTED_BY_SUPPORTER="requested_by_supporter",e.EXPIRED_UNCAPTURED_CHARGE="expired_uncaptured_charge",e.OTHER="other"}($e||($e={})),function(e){e.UPDATE_SUBSCRIPTION_CUSTOMER_ADDRESS="update_subscription_customer_address",e.UPDATE_SUBSCRIPTION_QUESTIONS="update_subscription_questions",e.UPDATE_SUBSCRIPTION_AMOUNT="update_subscription_amount",e.UPDATE_SUBSCRIPTION_CUSTOM_FIELDS="update_subscription_custom_fields",e.UPDATE_SUBSCRIPTION_UTM="update_subscription_utm",e.UPDATE_SUBSCRIPTION_GOAL="update_subscription_goal",e.UPDATE_SUBSCRIPTION_LIMITS="update_subscription_limits",e.UPDATE_SUBSCRIPTION_WIDGET="update_subscription_widget",e.UPDATE_SUBSCRIPTION_PAYMENT_METHOD="update_subscription_payment_method",e.UPDATE_CHARGE_CUSTOMER_ADDRESS="update_charge_customer_address",e.UPDATE_CHARGE_RECEIPT="update_charge_receipt",e.UPDATE_CHARGE_CUSTOM_FIELDS="update_charge_custom_fields",e.UPDATE_CHARGE_GOAL="update_charge_goal",e.UPDATE_CHARGE_WIDGET="update_charge_widget",e.REFUND_APPLICATION_FEE="refund_application_fee",e.UPDATE_CUSTOMER_NAME="update_customer_name"}(qe||(qe={})),function(e){e.PAYPAL_ERROR="PAYPAL_ERROR",e.PAYPAL_REQUEST_ERROR="PAYPAL_REQUEST_ERROR",e.REFUND_FAILED_INSUFFICIENT_FUNDS="REFUND_FAILED_INSUFFICIENT_FUNDS",e.TRANSACTION_REFUSED="TRANSACTION_REFUSED",e.TRANSACTION_ALREADY_REFUNDED="TRANSACTION_ALREADY_REFUNDED",e.USER_ACCOUNT_RESTRICTED="USER_ACCOUNT_RESTRICTED",e.INTERNAL="INTERNAL",e.UNAVAILABLE="UNAVAILABLE",e.EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED="EXECUTE_AGREEMENT_BUYER_NOT_ACCEPTED",e.ORDER_EXPIRED="ORDER_EXPIRED",e.VALIDATION_ERROR="VALIDATION_ERROR"}(Ze||(Ze={})),function(e){e.PAYPAL_PAYER_BLACKLISTED="PAYPAL_PAYER_BLACKLISTED"}(Je||(Je={})),function(e){let t;!function(e){let t,n,i,r,o,s,a,c,l;!function(e){e.CREATED="charge.created",e.PENDING="charge.pending",e.REFUNDED="charge.refunded",e.FAILED="charge.failed",e.UPDATED="charge.updated",e.SUCCESS="charge.success",e.SUCCESS_EARLY_FRAUD_WARNING="charge.success_early_fraud_warning",e.PENDING_ACH_VERIFICATION_REQUIRED="charge.pending_ach_verification_required",e.PENDING_INCOMPLETE="charge.pending_incomplete",e.PENDING_SCHEDULED="charge.pending_scheduled",e.PENDING_WAITING_FOR_TRANSFER="charge.pending_waiting_for_transfer",e.PENDING_PAYPAL_ACTION_REQUIRED="charge.pending_paypal_action_required",e.PENDING_RETRYING="charge.pending_retrying",e.PERSONAL_DATA_DELETED="charge.personal_data_deleted",e.SUCCESS_DISPUTE_CREATED="charge.success_dispute_created",e.SUCCESS_DISPUTE_LOST="charge.success_dispute_lost",e.SUCCESS_DISPUTE_WON="charge.success_dispute_won",e.SUCCESS_DISPUTE_IN_REVIEW="charge.success_dispute_in_review"}(t=e.EChargeEvent||(e.EChargeEvent={})),function(e){e.ACTIVATED="subscription.activated",e.SCHEDULED="subscription.scheduled",e.FAILED="subscription.failed",e.COMPLETED="subscription.completed",e.CANCELLED="subscription.cancelled",e.TERMS_UPDATED="subscription.subscription_terms.updated",e.DETAILS_UPDATED="subscription.details.updated",e.PAUSED="subscription.paused",e.RETRYING="subscription.retrying",e.PERSONAL_DATA_DELETED="subscription.personal_data_deleted"}(n=e.ESubscriptionEvent||(e.ESubscriptionEvent={})),function(e){e.PENDING="charge_attempt.pending",e.SUCCESS="charge_attempt.success",e.FAILED="charge_attempt.failed"}(i=e.EChargeAttemptEvent||(e.EChargeAttemptEvent={})),function(e){e.ACTIVATE="payment_method.active",e.DEACTIVATE="payment_method.inactive",e.CREATED="payment_method.created",e.UPDATED="payment_method.updated",e.PERSONAL_DATA_DELETED="payment_method.personal_data_deleted"}(r=e.EPaymentMethodEvent||(e.EPaymentMethodEvent={})),function(e){e.CREATED="tribute.created",e.UPDATED="tribute.updated",e.SHARED="tribute.shared"}(o=e.ETributeEvent||(e.ETributeEvent={})),function(e){e.CREATED="abandoned_donation.created",e.OPEN="abandoned_donation.open",e.CANCELLED="abandoned_donation.cancelled",e.COMPLETED="abandoned_donation.completed",e.PERSONAL_DATA_DELETED="abandoned_donation.personal_data_deleted"}(s=e.EAbandonedDonationEvent||(e.EAbandonedDonationEvent={})),function(e){e.PERSONAL_DATA_DELETED="customer.personal_data_deleted",e.CREATED="customer.created",e.UPDATED="customer.updated"}(a=e.ECustomerEvent||(e.ECustomerEvent={})),function(e){e.PENDING="payment_attempt.pending",e.FAILED="payment_attempt.failed",e.SUCCEEDED="payment_attempt.succeeded"}(c=e.EPaymentAttemptEvent||(e.EPaymentAttemptEvent={})),function(e){e.CREATED="payment_intent.created",e.FAILED="payment_intent.failed",e.SUCCEEDED="payment_intent.succeeded",e.CANCELED="payment_intent.canceled",e.UPDATED="payment_intent.updated",e.REFUNDED="payment_intent.refunded"}(l=e.EPaymentIntentEvent||(e.EPaymentIntentEvent={}))}(t=e.DomainEvent||(e.DomainEvent={}))}(Qe||(Qe={})),function(e){e.REQUIRES_PAYMENT="requires_payment",e.REQUIRES_CAPTURE="requires_capture",e.REQUIRES_PAYMENT_METHOD_VERIFICATION="requires_payment_method_verification",e.FAILED="failed",e.SUCCEEDED="succeeded",e.CANCELED="canceled",e.PROCESSING="processing"}(et||(et={})),function(e){e.SUCCEEDED="succeeded",e.PENDING="pending",e.FAILED="failed"}(tt||(tt={})),function(e){e.DEFAULT_YES="defaultYes",e.DEFAULT_NO="defaultNo",e.ONLY_YES="onlyYes",e.ONLY_NO="onlyNo",e.SMART_COVERING="smartCovering"}(nt||(nt={})),function(e){e.IN_HONOR_MEMORY="inHonorMemory",e.DEDICATION="dedication"}(it||(it={})),function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(rt||(rt={})),function(e){e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.DASHBOARD_USER="dashboardUser"}(ot||(ot={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CROATIA="HR",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.THAILAND="TH",e.UNITED_ARAB_EMIRATES="AE",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH",e.ISRAEL="IL"}(st||(st={})),function(e){e.PAN_ONLY="PAN_ONLY",e.CRYPTOGRAM_3DS="CRYPTOGRAM_3DS"}(at||(at={})),function(e){e.AMEX="AMEX",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(ct||(ct={})),function(e){e.DEFAULT_MONTHLY="defaultMonthly",e.ONLY_MONTHLY="onlyMonthly",e.DEFAULT_ONETIME="defaultOnetime",e.ONLY_ONETIME="onlyOnetime"}(lt||(lt={})),function(e){e.FUNDRAISING_PAGE="fundraisingPage",e.REDIRECT="redirect",e.THANK_YOU_SCREEN="thankYouScreen"}(dt||(dt={})),function(e){e.NONE="none",e.GENERAL="general",e.CUSTOMIZED="customized"}(ut||(ut={})),function(e){e.ADAPTIVE_COST_COVERAGE="adaptiveCostCoverage",e.PRE_DONATION_UPSELL="preDonationUpsell",e.POST_DONATION_UPSELL="postDonationUpsell"}(pt||(pt={})),function(e){e.GENERAL="general",e.CUSTOMIZED="customized"}(ht||(ht={})),function(e){e.EMAIL="email",e.POSTAL_MAIL="postalMail",e.SMS="sms",e.PHONE_CALLS="phoneCalls",e.SOCIAL_MEDIA="socialMedia"}(Et||(Et={})),function(e){e.NOT_SUBMITTED="notSubmitted",e.OPTED_IN="optedIn",e.OPTED_OUT="optedOut"}(mt||(mt={})),function(e){e.EMAIL="email",e.SMS="sms",e.PHONE_CALLS="phoneCalls",e.POSTAL_MAIL="postalMail",e.SOCIAL_MEDIA="socialMedia"}(gt||(gt={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile"}(ft||(ft={})),function(e){e.DISABLED="disabled",e.DRY_RUN="dry-run",e.ENABLED="enabled"}(Tt||(Tt={})),function(e){e.LIVE="live",e.TEST="test"}(_t||(_t={})),function(e){e.TEXT="text",e.EMAIL="email"}(vt||(vt={})),function(e){e.WEBSITE="website",e.CAMPAIGN_PAGE="campaignPage",e.VIRTUAL_TERMINAL="virtualTerminal",e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.RECURRING_MIGRATION="recurringMigration",e.API="api"}(At||(At={})),function(e){e.DAY_7="7d",e.MONTH="1m",e.MONTH_3="3m",e.YEAR_TO_DAY="ytd",e.YEAR="1y",e.YEAR_5="5y"}(yt||(yt={})),function(e){e.FULL="full",e.CHUNK="chunk"}(Ct||(Ct={})),function(e){e.CHARGES="charges",e.COMPANIES="companies",e.CUSTOMERS="customers",e.ELEMENTS="elements",e.SUBSCRIPTIONS="subscriptions",e.WIDGETS="widgets",e.FUNDRAISING_PAGES="fundraisingpages",e.USERS="users"}(Nt||(Nt={})),function(e){e.FULL="full",e.FROM="from"}(It||(It={})),yt.DAY_7,yt.MONTH,yt.MONTH_3,yt.YEAR_TO_DAY,yt.YEAR,yt.YEAR_5;const wt=[Ie.CARD,Ie.APPLE_PAY,Ie.GOOGLE_PAY,Ie.PAYPAL,Ie.VENMO,Ie.US_BANK_ACCOUNT,Ie.CRYPTO];class Ot extends Ce{tryStart(e){this.isActive||this.canBeStarted(e)&&super.start()}canBeStarted(e){let{isMobile:t,company:n,resolveData:i}=e;const{campaign:r,company:o}=i;return!(!t||!ge(n.country)||r.config.showMailing||r.config.showDouble||r.config.donationTypes.crypto.enabled||!(e=>{const t=Object.keys(e).filter((t=>e[t]));return!!t.length&&t.every((e=>wt.includes(e)))})(o.paymentOptions)||i.fundraisingPage||r.config.consent.type===ut.CUSTOMIZED)}get isTestGroup(){return this.isActive&&this.isVariant(L.TEST)}tryTrackStart(){this.isActive&&this.tracker.customTrack({type:"steplessCheckoutExperimentStarted",data:{variantName:this.variantName,exclusion:this.excluded}})}}const Rt=e=>"string"==typeof e&&""!==e.trim()?e:void 0;var Pt=r("../../shared/src/common/embed/serviceContainer.ts");function bt(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new Pt.T),window.FUN_SERVICE_CONTAINER}let Dt=null;function Lt(){if(Dt)return Promise.resolve(Dt);const e=bt();return n(e.get(2).elementsApiScriptUrl).then((()=>(Dt=e.get(18),Dt)))}const Ut=/^E[A-Z\d]{7}$/,kt="/api/session",Mt=e=>"no"!==e.fundraiseupLivemode&&("boolean"!=typeof window.fundraiseup_livemode||window.fundraiseup_livemode);function xt(e,t){let n=t;return e.isWidgetCustomHash(t)&&(n=e.getWidgetKeyByCustomHash(t)||t),n.toUpperCase()}const Ft="pageView",Gt="pageLeave",Bt="customEvent",Kt="dataLayer";var Vt,Ht;!function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.TOP_LOCATIONS="topLocations",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.FUNDRAISING_PAGE_INVITE_LINK="fundraisingPageInviteLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting",e.JS_API="jsApi"}(Vt||(Vt={}));class jt{constructor(){this.payload={}}merge(e){const t={};for(const n in e)t[n]=e[n];for(const e in this.payload)t[e]=this.payload[e];var n;!e.elementType||(n=e.elementType)&&Object.values(Vt).includes(n)||delete t.elementType,this.payload=t,e.eventComment&&this.mergeEventComment(e.eventComment)}validate(){return!(!this.payload.companyKey||8!==this.payload.companyKey.length||!this.payload.clientId||!this.eventType)}toObject(){const e={};for(const t in this.payload)e[t]=this.payload[t];return this.payload.eventComment&&(e.eventComment=JSON.stringify(this.payload.eventComment)),e.eventType=this.eventType,e}mergeEventComment(e){this.payload.eventComment||(this.payload.eventComment={}),Object.assign(this.payload.eventComment,e)}}class Yt extends jt{constructor(e){if(super(),this.payload={widgetKey:e.widgetKey,elementKey:e.elementKey,elementType:e.elementType,elementLocale:e.elementLocale,elementReminderKey:e.elementReminderKey,splitTestName:e.splitTestName,splitTestVariant:e.splitTestVariant,fundraisingPageKey:e.fundraisingPageKey,fundraisingPageCustomerKey:e.fundraisingPageCustomerKey,eventComment:e.eventComment},e.getElementTrackingData){const t=e.getElementTrackingData();t&&(this.payload.elementData=JSON.stringify(t))}else e.elementData&&(this.payload.elementData=JSON.stringify(e.elementData))}}class Xt extends Yt{get eventType(){return"elementOpenCheckout"}}class Wt extends Yt{get eventType(){return"elementClick"}}class zt extends jt{constructor(e){super(),this.merge({customEventType:e.customEventType,customEventData:JSON.stringify(e.customEventData)})}get eventType(){return Bt}}function $t(e){let{tracker:t,keysKeeper:n,widgetKey:i,splitTestVariant:r,splitTestName:o,elementKey:s,elementType:a}=e;return t.track(new Xt({widgetKey:n?xt(n,i):i,splitTestName:o,elementKey:s,elementType:a,splitTestVariant:r}))}!function(e){e.EN_US="en-US",e.EN_GB="en-GB",e.EN_CA="en-CA",e.FR_CA="fr-CA",e.FR_FR="fr-FR",e.ES="es",e.NL="nl",e.NO="no",e.DE="de",e.FI_FI="fi-FI",e.AR_001="ar-001",e.SV="sv",e.IT="it",e.PT_PT="pt-PT",e.PT_BR="pt-BR",e.ZH_CN="zh-CN",e.ZH_TW="zh-TW",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU_RU="ru-RU",e.ES_US="es-US",e.PL_PL="pl-PL"}(Ht||(Ht={}));const qt=[Ht.EN_US,Ht.EN_GB,Ht.EN_CA,Ht.FR_CA,Ht.FR_FR,Ht.ES,Ht.NL,Ht.NO,Ht.DE,Ht.FI_FI,Ht.SV,Ht.IT,Ht.PT_PT,Ht.PT_BR,Ht.AR_001,Ht.ZH_CN,Ht.ZH_TW,Ht.JA,Ht.KO,Ht.HU,Ht.DA,Ht.ES_US,Ht.PL_PL,Ht.RU_RU];var Zt;Ht.AR_001,function(e){e.EN="en",e.ES="es",e.FR="fr",e.NL="nl",e.NO="no",e.DE="de",e.FI="fi",e.AR="ar",e.SV="sv",e.IT="it",e.PT="pt",e.ZH="zh",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU="ru",e.PL="pl"}(Zt||(Zt={})),Zt.AR;const Jt=[Ht.AR_001];function Qt(e){return e.split("-")[0]}const en={"&amp;":"&"};function tn(e){let t=e;for(const r in en)Object.prototype.hasOwnProperty.call(en,r)&&e.includes(r)&&(n=r,i=en[r],t=t.replace(new RegExp(n,"g"),i));var n,i;return t}function nn(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!function(e){return Jt.includes(e)}(e)?"ltr":"rtl"}var rn=r("../../shared/src/common/embed/helpers.ts");const on="_lang";var sn;!function(e){e.URL="URL",e.WINDOW="WINDOW",e.URL_MATCHING="URL_MATCHING",e.BROWSER="BROWSER"}(sn||(sn={}));var an,cn;class ln{constructor(e){this.checkoutTypes=e.checkoutTypes,this.donorPortalUrl=e.donorPortalUrl,this.window=e.window,this.campaignKey=e.campaignKey,this.customHash=e.customHash}shouldRedirect(){var e,t;return!!this.donorPortalUrl&&!!(null===(e=this.checkoutTypes)||void 0===e?void 0:e.campaignPage)&&!(null===(t=this.checkoutTypes)||void 0===t?void 0:t.checkoutModal)}getCampaignPageUrl(){return this.donorPortalUrl?function(e,t,n){const i=new URL(`${e}/page/${t}`);return i.toString()}(this.donorPortalUrl,this.customHash||this.campaignKey):""}openCampaignPage(e){return t=this,n=void 0,r=function*(){const{searchParams:t,elementType:n,element:i,checkoutData:r,checkoutIntent:o,elementTitle:s,elementName:a}=e||{},c=this.getCampaignPageUrl();if(!c)return;const l=new URL(c),d=null!=t?t:new URLSearchParams;d.set("embedClientId",e.clientId),d.set("eventTags",e.tags.join(",")),n&&d.set("elementType",n),s&&d.set("elementTitle",s),a&&d.set("elementName",a),i&&d.set("element",i),(null==r?void 0:r.fundraiser)&&d.set("fundraiser",r.fundraiser),r&&d.set("elementCheckoutData",this.encodeCheckoutData(r)),o&&d.set("checkoutIntent",this.encodeCheckoutData(o)),this.donorPortalUrl===this.window.location.origin&&d.set("fromDonorPortal","1"),e.locale.source&&[sn.URL,sn.WINDOW].includes(e.locale.source)&&d.set(on,e.locale.code);const u=l.toString(),p=(0,rn.i)(d),h=p?`?${p}`:"";(function(){const e=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);return Boolean(e)})()&&(yield new Promise((e=>setTimeout(e,200)))),this.window.location.href=`${u}${h}`},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}encodeCheckoutData(e){const t=JSON.stringify(e),n=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,((e,t)=>{const n=parseInt(t,16);return String.fromCharCode(n)}));return btoa(n)}}let dn;function un(){return void 0===dn&&(dn=!1),dn}!function(e){e.ONLY_CAMPAIGN_PAGES="onlyCampaignPages",e.ONLY_CHECKOUT_MODAL="onlyCheckoutModal",e.BOTH_TYPES="bothTypes"}(an||(an={})),function(e){e.NOWHERE="nowhere",e.WIDGET="widget",e.URL="url"}(cn||(cn={}));var pn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const hn=(e,t,r,s,d,u,p,h,E,m,g,f,T,_)=>{let v=null;g.register(c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT,Ot);const A=g.get(c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT);let y=!1,C=null;const N=e=>!!(r.inactiveWidgets||[]).find((t=>{let[n,i]=t;return n===e||i===e})),I=t=>pn(void 0,void 0,void 0,(function*(){return e.needResolve(t)?(600,new Promise((e=>{setTimeout(e,600)}))):Promise.resolve()})),S=(e,t,n,i,r)=>pn(void 0,void 0,void 0,(function*(){try{yield Promise.all([P(e,t,n,i,r),I(t)])}catch(e){y=!1,K(),console.error(e)}})),w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return pn(void 0,[e,...n],void 0,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function*(){var i,o,s;if(y)return;const a=Mt(r.queryParams||{}),c=Date.now();C=c;const l=null===(s=null===(o=null===(i=t.launcher)||void 0===i?void 0:i.checkoutInitialData)||void 0===o?void 0:o.campaign)||void 0===s?void 0:s.fundraiser,d=xt(u,e),p=[d,l].filter((e=>Boolean(e)));return j(p)?""===e&&l?((e,t,n,i)=>pn(void 0,void 0,void 0,(function*(){y=!0,B("",t),yield S("",e,t,n,i)})))([l],a,t,c):((e,t,n,i,r,o,s)=>pn(void 0,void 0,void 0,(function*(){N(e)?x(o,e):V(e)?yield b(e,i,s):(y=!0,B(e,n),yield S(e,t,n,i,r))})))(d,p,a,t,c,r.currentCompany,n):void 0}()}))},O=(t,n,i)=>pn(void 0,void 0,void 0,(function*(){var r;const o=yield e.resolveKeys({keys:t,livemode:n,externalQueryParams:i.queryParams});if(null===(r=null==o?void 0:o.campaign)||void 0===r?void 0:r.key){const e=o.campaign.key;if(o.forceCampaignPageOpen||V(e)){const t=new URLSearchParams(i.queryParams||{});return t.delete("form"),void(yield b(e,i,t))}}return o})),R=e=>un()?_().load({widgetKey:e,locale:r.locale.code}):null,P=(e,n,i,o,s)=>pn(void 0,void 0,void 0,(function*(){var a;const[c]=yield Promise.all([O(n,i,o)]),l=Y(c)||X();A.tryTrackStart();const d=l?L:D,g=l?T:f;yield d(),h.emit("checkoutBeforeOpen",void 0);const _=yield g()(p,t,u,h,m,{resolvedConfig:c,trackingUrls:r.server.trackingUrls,currencyRates:r.data.currencyRates,env:r.server.env,pendingRequests:{goals:R(e)},paymentMethods:r.paymentMethods,livemode:r.livemode,isMobile:r.isMobile,isMobileSafari16:r.deviceData.isMobileSafari16,showcase:!1,externalParams:o,integrations:r.integrations,localeCode:r.locale.code,userMeta:null===(a=r.meta)||void 0===a?void 0:a.user,infrastructureQueryParams:null==r?void 0:r.queryParams,checkoutOpenTimestamp:s,htmlElementStyleManager:E,embedVersion:r.version,mainDomain:r.server.mainDomain,experimentsConfig:r.experimentsConfig,browserData:r.browserData,isDebugMode:r.isDebugMode,isFundraiseupVisitor:r.isFundraiseupVisitor,isAbTestMode:r.abTestDemoMode,steplessCheckoutExperimentVariant:A.variantName,steplessCheckoutExperimentExcluded:A.excluded,fromDonorPortal:r.fromDonorPortal});_&&k({checkoutApi:_,key:e,options:o,isLivemode:i})})),b=(e,t,n)=>pn(void 0,void 0,void 0,(function*(){var i,o,s,a,c,l,d,u,h,E,m;const g=n||new URL(window.location.href).searchParams,f=new ln({donorPortalUrl:r.staticConfig.donorPortalUrl,window,campaignKey:e}),T=null===(s=null===(o=null===(i=t.launcher)||void 0===i?void 0:i.checkoutInitialData)||void 0===o?void 0:o.campaign)||void 0===s?void 0:s.fundraiser,_=T?{checkoutData:{fundraiser:T}}:void 0;yield f.openCampaignPage(Object.assign({elementType:null===(c=null===(a=null==t?void 0:t.launcher)||void 0===a?void 0:a.element)||void 0===c?void 0:c.type,elementTitle:null===(d=null===(l=null==t?void 0:t.launcher)||void 0===l?void 0:l.element)||void 0===d?void 0:d.title,elementName:null===(h=null===(u=null==t?void 0:t.launcher)||void 0===u?void 0:u.element)||void 0===h?void 0:h.name,element:null===(m=null===(E=null==t?void 0:t.launcher)||void 0===E?void 0:E.element)||void 0===m?void 0:m.key,checkoutIntent:null==t?void 0:t.intent,searchParams:g,clientId:p.clientId,tags:p.getTags(),locale:r.locale},_))})),D=()=>pn(void 0,void 0,void 0,(function*(){const e=r.server.checkoutAssets.scripts.filter((e=>!(e.includes("checkout-rtl-styles")&&"ltr"===U()||e.includes("checkout-styles")&&"rtl"===U())));yield Promise.all(e.map((e=>n(e))))})),L=()=>pn(void 0,void 0,void 0,(function*(){const e=r.server.checkoutSteplessAssets.scripts.filter((e=>!(e.includes("checkout-stepless-rtl-styles")&&"ltr"===U()||e.includes("checkout-stepless-styles")&&"rtl"===U())));yield Promise.all(e.map((e=>n(e))))})),U=()=>nn(r.locale.code),k=e=>{const{checkoutApi:t,key:n,options:i,isLivemode:r}=e;t.on("close",(e=>{const{shouldReopen:t,tributeSelected:r}=e,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["shouldReopen","tributeSelected"]);y=!1,F("checkoutClose",o),t?window.setTimeout((()=>{var e,t,o;const s=Object.assign(Object.assign({},i),{launcher:Object.assign(Object.assign({},i.launcher),{checkoutInitialData:Object.assign(Object.assign({},null===(e=i.launcher)||void 0===e?void 0:e.checkoutInitialData),{tribute:Object.assign(Object.assign({},null===(o=null===(t=i.launcher)||void 0===t?void 0:t.checkoutInitialData)||void 0===o?void 0:o.tribute),{isSelected:r})})})});w(n,s)}),300):s.remove()})),t.on("checkoutIntent",(e=>{F("checkoutIntent",e)})),t.on("donationComplete",(e=>{F("donationComplete",e),G()}));const o=t.getOpenParams();F("checkoutOpen",o),setTimeout((()=>{K()}),150),M(t,r)},M=(e,t)=>{Lt().then((n=>{var i;(null===(i=null==e?void 0:e.iframeNode)||void 0===i?void 0:i.contentWindow)&&n.createTestModePanel(e.iframeNode.contentWindow,e.checkoutLocale,t)}))},x=(e,t)=>{const n=e.disabledWidgets.redirectTo;if(n===cn.WIDGET)return N(e.disabledWidgets.widgetKey)?void s.remove(!0):void w(e.disabledWidgets.widgetKey);n===cn.URL&&window.location.assign(e.disabledWidgets.url),s.remove(!0),console.warn(`Campaign is not active | Widget ${t} is archived`)},F=(e,n)=>{t.logCode(7,{event:e,payload:n}),setTimeout((()=>{try{h.emit(e,n)}catch(e){console.error(e)}}),0)},G=()=>{m.setField("lastSuccessDonationAt",Date.now())},B=(e,t)=>{const n="rtl"===nn(r.locale.code);s.render({source:a.CHECKOUT}),d.render({campaignKey:e,isMobile:r.isMobile,isLivemode:t,isRtl:n})},K=()=>{d.hide()},V=e=>!!H(e),H=e=>u.getCheckoutType(e)===an.ONLY_CAMPAIGN_PAGES,j=e=>e.some((e=>u.exists("WIDGET",e)||u.exists("FUNDRAISING_PAGE",e))),Y=e=>(A.tryStart({isMobile:r.isMobile,company:r.currentCompany,resolveData:e}),A.isTestGroup),X=()=>r.server.env!==o.PRODUCTION&&"true"===new URL(window.location.href).searchParams.get("stepless");return{getLatestStartOpenCheckoutTimestamp:()=>C,open:w,createShowcase:(e,n,i,o,s)=>(e.config.cryptoCurrencies=n,D().then((()=>{var n;return f()(p,t,u,h,m,{trackingUrls:r.server.trackingUrls,env:r.server.env,resolvedConfig:e,currencyRates:r.data.currencyRates,paymentMethods:r.paymentMethods,integrations:r.integrations,localeCode:r.locale.code,userMeta:null===(n=r.meta)||void 0===n?void 0:n.user,infrastructureQueryParams:null==r?void 0:r.queryParams,showcase:!0,isMobile:!1,isMobileSafari16:!1,livemode:!1,externalParams:{},checkoutOpenTimestamp:0,node:o,initialScreen:s,htmlElementStyleManager:E,embedVersion:r.version,mainDomain:r.server.mainDomain,experimentsConfig:{experiments:[]},browserData:r.browserData,isDebugMode:r.isDebugMode,isFundraiseupVisitor:r.isFundraiseupVisitor,isAbTestMode:r.abTestDemoMode,fromDonorPortal:r.fromDonorPortal},i)}))),preloadCheckout:()=>{window.FUN_DISABLE_PRELOADING||(()=>{const e=r.experimentsConfig.experiments.find((e=>e.experimentId===l[c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT]));return function(e,t,n,i){if(!i||!i.enabled)return!1;const r=fe(i,e),o=ge(t);return r&&n&&o}(r.currentCompany.key,r.currentCompany.country,r.isMobile,e)?()=>Promise.all([D(),L()]).then():D})()()},on:(e,t)=>{h.on(e,t)},emit:F,openCheckout:(e,t)=>{const{checkoutExternalParams:n,campaignPageSearchParams:r}=(e=>{var t,n,r,o,s,a,c,l,d,u,p;if(!e)return{checkoutExternalParams:{launcher:{element:{type:i.JS_API}}}};const h=e.customFields,E=Rt(e.fundraiser),m=Rt(null===(t=e.donation)||void 0===t?void 0:t.recurring),g=Rt(null===(n=e.donation)||void 0===n?void 0:n.currency),f="number"==typeof(T=null===(r=e.donation)||void 0===r?void 0:r.amount)&&Number.isFinite(T)?T:void 0;var T;const _=null===(o=e.config)||void 0===o?void 0:o.modifyAmount,v=Rt(null===(a=null===(s=e.designations)||void 0===s?void 0:s[0])||void 0===a?void 0:a.id),A=null===(c=e.config)||void 0===c?void 0:c.modifyDesignation,y=Rt(null===(l=e.tribute)||void 0===l?void 0:l.honoree),C=Rt(null===(d=e.supporter)||void 0===d?void 0:d.firstName),N=Rt(null===(u=e.supporter)||void 0===u?void 0:u.lastName),I=Rt(null===(p=e.supporter)||void 0===p?void 0:p.email),S={queryParams:{fundraiser:E},launcher:{element:{type:i.JS_API,customFields:h?Object.entries(h).map((e=>{let[t,n]=e;return{name:t,value:n}})):void 0},checkoutInitialData:{campaign:{fundraiser:E},donation:{frequency:m,currency:g,amount:void 0!==f?Math.round(100*f):void 0,isAmountEditable:_},designation:{id:v,isEditable:A},tribute:{inHonorOf:y,labelType:y?it.IN_HONOR_MEMORY:void 0},supporter:{firstName:C,lastName:N,email:I}}}},w=new URLSearchParams;if(E&&w.set("fundraiser",E),m&&w.set("recurring",m),g&&w.set("currency",g),void 0!==f&&w.set("amount",f.toString()),void 0!==_&&w.set("modifyAmount",_?"yes":"no"),v&&w.set("designationId",v),void 0!==A&&w.set("modifyDesignation",A?"yes":"no"),y&&w.set("tributeHonoree",y),C&&w.set("firstName",C),N&&w.set("lastName",N),I&&w.set("email",I),h)for(const[e,t]of Object.entries(h))w.set(e,t);return{checkoutExternalParams:S,campaignPageSearchParams:w}})(t);$t({tracker:p,widgetKey:e,keysKeeper:u,elementType:i.JS_API,elementKey:"",splitTestName:"",splitTestVariant:""}),w(e,n,r)},setOpenedCheckoutElementId:e=>{v=e},getLastOpenedCheckoutElementId:()=>v}},En="test";class mn{static isLocaleCode(e){return void 0!==e&&qt.includes(e)}constructor(e,t,n,i,r,o,s){this.translationService=e,this.dateFormatter=t,this.currencyFormatter=n,this.numberFormatter=i,this.company=r,this.donateToPayTokens=o,this._locale=mn.DEFAULT_LOCALE,this.availableLocales=s.availableLocales,this.locale=s.locale,this.company=r,this.donateToPayTokens=o,this.dateFormatter.intl=this}get locale(){return this._locale}get language(){return this.locale.split("-")[0]}getCurrencyFormat(){return this.currencyFormatter.getFormat()}setLocale(e){const t=this.locale;this.locale=e;const n=[this.translationService.changeLocale(this.locale)];return Promise.all(n).then((()=>this.locale)).catch((e=>(this.locale=t,Promise.reject(e)))).finally((()=>{this.dateFormatter.changeLocale(this.locale),this.currencyFormatter.changeLocale(this.locale),this.numberFormatter.changeLocale(this.locale)}))}translate(e,t){const n=tn(this.translationService.translate(e,t));return this.replaceDonateToPay(e,n)}safeTranslate(e,t){const n=tn(this.translationService.safeTranslate(e,t));return this.replaceDonateToPay(e,n)}formatDate(e,t){return this.dateFormatter.format(e,t)}formatCurrency(e,t){return this.currencyFormatter.format(e,t)}formatSymbol(e,t){return this.currencyFormatter.formatCurrencySymbol(e,t)}formatNumber(e,t){return this.numberFormatter.format(e,t)}isLocaleAvailable(e){return this.availableLocales.some((t=>t===e))}replaceDonateToPay(e,t){if("AFJCHFEK"===this.company&&this.locale===Ht.EN_US&&this.donateToPayTokens.includes(e)){const e={donation:"payment",Donation:"Payment",Donate:"Pay",donate:"pay",donating:"paying"};return t.replace(/donation|Donation|Donate|donate|donating/g,(t=>e[t]))}return t}set locale(e){this.isLocaleAvailable(e)?this._locale=e:this._locale=mn.DEFAULT_LOCALE}}function gn(e,t){if(e===En)return fn();const n=mn.isLocaleCode(e);return{code:n?e:mn.DEFAULT_LOCALE,source:n?t:void 0,isTest:!1}}function fn(){return{code:mn.DEFAULT_LOCALE,isTest:un()}}function Tn(e,t){return{code:e,source:t,isTest:!1}}var _n,vn;mn.DEFAULT_LOCALE=Ht.EN_US,function(e){e.DONOR="donor",e.EMBED="embed",e.TEST="test"}(_n||(_n={}));class An{static get(e){switch(e){case _n.DONOR:return gn;case _n.EMBED:return Tn;case _n.TEST:return fn;default:throw new Error(`13 ${e}`)}}}function yn(e){const t="^"+e.replace(/([[\]{}()+?.^$|\\/])/g,"\\$1").replace(/\*/g,".*")+"$";return new RegExp(t)}class Cn{constructor(e,t){this.locale=e,this.localizationConfig=t,this.next=null}setNext(e){this.next=e}handle(){return this.retrieveLocale()||(this.next?this.next.handle():null)}}class Nn extends Cn{retrieveLocale(){return-1!==this.localizationConfig.interfaceLocales.indexOf(this.locale)?(e=this.locale,qt.includes(e)?this.locale:null):null;var e}}class In extends Cn{retrieveLocale(){var e;return(e=this.locale,this.localizationConfig.interfaceLocales.find((t=>Qt(e)===Qt(t))))||null}}class Sn extends Cn{retrieveLocale(){return Qt(this.locale)===Qt(this.localizationConfig.defaultLocale)?this.localizationConfig.defaultLocale:null}}class wn extends Cn{retrieveLocale(){return Qt(this.localizationConfig.defaultLocale)===Zt.EN?this.localizationConfig.defaultLocale:null}}class On extends Cn{retrieveLocale(){return this.localizationConfig.interfaceLocales.find((e=>Qt(e)===Zt.EN))||null}}!function(e){e.HA="ha",e.IU="iu",e.GD="gd",e.CY="cy",e.BR="br",e.SQ="sq",e.SC="sc",e.NB="nb",e.NN="nn",e.HY="hy",e.AZ="az",e.BE="be",e.CE="ce",e.ET="et",e.KK="kk",e.KY="ky",e.LV="lv",e.LT="lt",e.MN="mn",e.TG="tg",e.UK="uk",e.UZ="uz",e.EU="eu",e.CA="ca",e.GL="gl"}(vn||(vn={}));class Rn extends Cn{retrieveLocale(){const e=Rn.fallbackLocales.get(this.locale);return e&&-1!==this.localizationConfig.interfaceLocales.indexOf(e)?e:null}}Rn.fallbackLocales=new Map([[vn.HA,Ht.AR_001],[vn.IU,Ht.EN_CA],[vn.GD,Ht.EN_GB],[vn.CY,Ht.EN_GB],[vn.BR,Ht.FR_FR],[vn.SQ,Ht.IT],[vn.SC,Ht.IT],[vn.NB,Ht.NO],[vn.NN,Ht.NO],[vn.HY,Ht.RU_RU],[vn.AZ,Ht.RU_RU],[vn.BE,Ht.RU_RU],[vn.CE,Ht.RU_RU],[vn.ET,Ht.RU_RU],[vn.KK,Ht.RU_RU],[vn.KY,Ht.RU_RU],[vn.LV,Ht.RU_RU],[vn.LT,Ht.RU_RU],[vn.MN,Ht.RU_RU],[vn.TG,Ht.RU_RU],[vn.UK,Ht.RU_RU],[vn.UZ,Ht.RU_RU],[vn.EU,Ht.ES],[vn.CA,Ht.ES],[vn.GL,Ht.ES]]);class Pn extends Cn{retrieveLocale(){return this.localizationConfig.defaultLocale}handle(){return this.retrieveLocale()}}function bn(e,t,n){const i=new Sn(e,t),r=new Nn(e,t),o=new In(e,t),s=new Rn(e,t),a=new On(e,t),c=new Pn(e,t),l=new wn(e,t);return r.setNext(i),i.setNext(o),o.setNext(s),n&&(s.setNext(l),l.setNext(a),a.setNext(c)),r}class Dn{constructor(e,t){this.locales=e,this.companyLocalizationConfig=t}getUILocale(){const e=new Pn(this.locales[0]||"",this.companyLocalizationConfig);if(!this.locales.length)return e.handle();return function(e,t){if(!e.length)return null;for(let n=0;n<e.length;n++){const i=bn(e[n],t,n===e.length-1).handle();if(i)return i}return null}(this.locales,this.companyLocalizationConfig)||e.handle()}}class Ln{constructor(e){this.companyLocalizationSettings=e.companyLocalizationSettings,this.localeDetector=function(e){const t=e.currentUrl,n=e.queryParams,i=e.companyLocalizationSettings;return{detect:()=>{let r=n[on],o=r?sn.URL:void 0;return r||(r=e.window[on],o=r?sn.WINDOW:void 0),!r&&i.matchURL&&(r=(()=>{let e;return i.urlRules.forEach((n=>{const i=yn(n.url).test(t);!e&&i&&(e=n.locale)})),e})(),o=r?sn.URL_MATCHING:void 0),!r&&i.matchBrowserLocale&&(r=e.window.navigator.languages?[...e.window.navigator.languages]:e.window.navigator.language,o=r?sn.BROWSER:void 0),{locale:(Array.isArray(r)?r:[r]).filter(Boolean),source:o}}}}({window:e.window,currentUrl:e.window.location.href,queryParams:e.queryParams,companyLocalizationSettings:e.companyLocalizationSettings})}getConfig(){const{source:e,locale:t}=this.localeDetector.detect();if(t.includes(En))return An.get(_n.TEST)();const n=(i=t).filter((e=>{if(!e.includes("-")){const t=Qt(e);return!i.some((n=>n!==e&&Qt(n)===t&&n.includes("-")))}return!0}));var i;const r=new Dn(n,this.companyLocalizationSettings).getUILocale(),o=t.includes(r)?e:void 0;return An.get(_n.EMBED)(r,o)}}var Un=r("../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs"),kn=r("../fun-storage/src/funCookiesKeys.ts"),Mn=r("./src/helpers/parseQueryParams.ts");function xn(){return"loading"!==document.readyState?Promise.resolve():new Promise((e=>{document.addEventListener("DOMContentLoaded",(()=>e()))}))}const Fn=e=>{let t=null,n=[],i=0;const r=t=>{[].forEach.call(t,(t=>{const r=o(t);if(r&&r.length){if(n.push(...r),i)return;i=window.setTimeout((()=>{i=0,e(n),n=[]}),50)}}))},o=e=>{const t=[];return e.addedNodes?([].forEach.call(e.addedNodes,(e=>{if("A"===e.tagName)return void t.push(e);if(e.classList&&e.classList.contains("fun-widget"))return void t.push(e);if(!e.querySelectorAll)return;const n=e.querySelectorAll(".fun-widget, [href]");n&&[].forEach.call(n,(e=>t.push(e)))})),t):t};return{run:()=>{try{t=new MutationObserver(r),t.observe(document.documentElement,{childList:!0,subtree:!0})}catch(e){console.error(e)}}}},Gn=[Vt.STICKY_BUTTON,Vt.MESSAGE_BAR,Vt.LIGHTBOX,Vt.FLOATING_BUTTON];var Bn;!function(e){e.ALL="all",e.DESKTOP_ONLY="desktopOnly",e.MOBILE_ONLY="mobileOnly"}(Bn||(Bn={}));const Kn=["/","*"];function Vn(e){let t=e.replace(/(\?.*)/,"").replace(/(#.*)/,"");const n=t.charAt(t.length-1);return-1===Kn.indexOf(n)&&(t+="/"),t}const Hn=[Vt.MESSAGE_BAR,Vt.LIGHTBOX];const jn=e=>{const t=document.createElement("link");t.rel="preload",t.as="script",t.href=e,document.head.appendChild(t);const n=document.createElement("script");n.src=e,n.async=!0,document.head.appendChild(n),n.onload=()=>{document.head.removeChild(t),document.head.removeChild(n)},n.onerror=()=>{document.head.removeChild(t),document.head.removeChild(n)}},Yn="XFUNDEBUGPANEL",Xn=[Vt.FUNDRAISING_PAGE_LINK,Vt.FUNDRAISING_PAGE_INVITE_LINK,Vt.LINK,Vt.DIRECT_LINK,Vt.DEBUG_PANEL,Vt.TEST_MODE_PANEL,Vt.SPLIT_TESTING,Vt.JS_API];var Wn=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function zn(e,t,n,r,o,s,a){var c=this;const l=r.server.elementsUrl,d=[],u=new Map,p=new Map;let h=[];const E=()=>{window.addEventListener("popstate",v),window.addEventListener("hashchange",v);const e=history.pushState,t=history.replaceState;history.pushState=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=e.apply(this,n);return v(),r},history.replaceState=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const r=t.apply(this,n);return v(),r}},m=()=>{const n=e.findElements();n.forEach((e=>{const t=u.get(e.key)||[];u.set(e.key,[...t,e]),g(e)}));const i=n.map((e=>{let{key:t}=e;return t}));t.addFundraisersKeys(i),C(n),A(i)},g=e=>{const r=t.exists("WIDGET",e.key||"");if(e.type!==i.LINK||!e.node||!r)return;const o=r=>{var a,c,l,d,u,p,h;null===(a=e.node)||void 0===a||a.removeEventListener("click",o);const E=r.target;if(E){const e=E.getAttribute("href");e&&function(e){let{tracker:t,href:n}=e;t.track(new zt({customEventType:"urlOpenCheckout",customEventData:{href:n}}))}({tracker:s,href:e})}if(!(null===(c=e.node)||void 0===c?void 0:c.__funElement)&&(r.preventDefault(),r.stopPropagation(),e.key)){const r={queryParams:e.queryParams};if(e.node){const{test:t,variant:n}=(null===(l=window.FUN.splitTesting)||void 0===l?void 0:l.inspect(e.node))||{};t&&n&&(r.launcher={element:{splitTestName:t,splitTestVariant:n}})}const o={tracker:s,widgetKey:e.key,keysKeeper:t,elementKey:"",elementType:i.LINK,splitTestVariant:(null===(u=null===(d=r.launcher)||void 0===d?void 0:d.element)||void 0===u?void 0:u.splitTestVariant)||"",splitTestName:(null===(h=null===(p=r.launcher)||void 0===p?void 0:p.element)||void 0===h?void 0:h.splitTestName)||""};!function(e){let{tracker:t,keysKeeper:n,widgetKey:r,splitTestVariant:o,splitTestName:s,elementKey:a="",elementType:c=i.LINK}=e;t.track(new Wt({widgetKey:n?xt(n,r):r,elementKey:a,elementType:c,splitTestName:s,splitTestVariant:o}))}(o),$t(o),n.open(e.key,r).catch((e=>console.error(e)))}};e.node.addEventListener("click",o)},f=(e,t)=>Lt().then((i=>{var o,s;i.addElements({elements:null!==(o=null==t?void 0:t.elements)&&void 0!==o?o:[],nodes:e,globalElements:null!==(s=null==t?void 0:t.globalElements)&&void 0!==s?s:[]}).then((()=>{r.disablePreloading||n.preloadCheckout()}))})),T=e=>Wn(this,void 0,void 0,(function*(){const t=a.getUrlParamsForElement(e),n=Object.assign(Object.assign({},e),{externalConfig:t,data:null});(function(e){return!Xn.includes(e.type)})(e)&&(n.data=r.livemode?e.data.live:e.data.test);const i=[n],s={params:[e.key]};o.logCode(8,{elements:i,info:s});const c=u.get(e.key);return c&&c.length?f(c,{elements:i}).then((()=>{u.delete(e.key),d.forEach((e=>e({elements:i},s)))})):(d.forEach((e=>e({elements:i},s))),Promise.resolve())})),_=e=>{const t=r.deviceData.isMobileOrTablet;h.length||(h=e);const n=e.filter((e=>{const n=function(e,t){if(function(e){return-1!==Gn.indexOf(e.type)}(e)){if(e.config.deviceRestriction===Bn.DESKTOP_ONLY&&t)return!1;if(e.config.deviceRestriction===Bn.MOBILE_ONLY&&!t)return!1}return!0}(e,t),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=Vn(e),r=0===t.length||t.some((e=>yn(Vn(e)).test(i))),o=n.some((e=>yn(Vn(e)).test(i)));return r&&!o}(window.location.href,e.config.urlAllow,e.config.urlBlock),r=function(e){if(function(e){return-1!==Hn.indexOf(e.type)}(e)){const{displayStartDate:t,displayEndDate:n}=e.data.live;if(!t&&!n)return!0;const i=Date.now(),r=t?Date.parse(t):null,o=n?Date.parse(n):null;if(r&&!o)return i>=r;if(!r&&o)return i<=o;if(r&&o)return i>=r&&i<o}return!0}(e),o=n&&i&&r;return o&&p.set(e.key,e),o})),i=n.map((e=>Object.assign(Object.assign({},e),{data:r.livemode?e.data.live:e.data.test})));return d.forEach((e=>e({elements:[],globalElements:i}))),o.logCode(9,{globalElements:i}),f([],{elements:[],globalElements:i})},v=()=>Wn(this,void 0,void 0,(function*(){try{if(!h.length)return;const e=h.filter((e=>!p.has(e.key)));if(!e.length)return;return o.logCode(10,{globalElements:e}),_(e)}catch(e){}})),A=e=>{-1!==e.indexOf(Yn)&&T({key:Yn,type:i.DEBUG_PANEL,name:"",config:{},data:{live:null,test:null}});const n=e.filter((e=>t.exists("ELEMENT",e)&&e!==Yn)).map((e=>({key:e,type:t.getElementType(e)})));return!!n.length&&(n.forEach((e=>{let{key:t}=e;return y(t)})),!0)},y=e=>{jn(`${l}elements/${e}.js`)},C=e=>{-1!==e.map((e=>{let{key:t}=e;return t})).indexOf(Yn)&&T({key:Yn,type:i.DEBUG_PANEL,name:"",config:{},data:{live:null,test:null}}),e.forEach((e=>{let{type:t,key:n}=e;t!==i.LINK&&t!==i.FUNDRAISING_PAGE_LINK&&t!==i.FUNDRAISING_PAGE_INVITE_LINK||T({key:n,type:t,name:"",config:{},data:{live:null,test:null}})}))};return{elementsUrl:l,initialize:()=>(Fn((()=>{var e,t;null===(e=window.FUN.splitTesting)||void 0===e||e.init(),o.logCode(19),m(),null===(t=window.FUN.splitTesting)||void 0===t||t.reset()})).run(),window.FUN_DISABLE_GLOBAL_ELEMENTS||jn(`${l}elements-global/${r.currentCompanyKey}.js`),xn().then((()=>E())).then((()=>m())).catch((e=>console.error(e)))),createElement:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return Wn(c,[e,t,n,...r],void 0,(function(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function*(){return(yield Lt()).createElementByType(e,t,i,n)}()}))},onElementsLoad:e=>{d.push(e)},addElementContent:T,addGlobalElementsContent:_,getElements:A,getElementInstance:e=>Lt().then((t=>t.getElementInstance(e))),getRenderedElementsByType:e=>Lt().then((t=>t.getRenderedElementsByType(e)))}}function $n(e){return new Promise((function(t,n){qn(e,t,n)}))}function qn(e,t,n){const i=new XMLHttpRequest;i.open(e.method||"GET",e.url),i.withCredentials=!("withCredentials"in e)||Boolean(e.withCredentials),i.onload=function(){if(this.status>=200&&this.status<300){const e=i.getResponseHeader("content-type");if(e&&-1!==e.indexOf("application/json"))try{return t(JSON.parse(i.response))}catch(e){n(e)}t(i.response)}else{if(e.validStatuses&&-1!==e.validStatuses.indexOf(this.status))return t();n(new Error(`[Shared]: Server ${e.method} response status ${this.status} for url ${e.url}, ${i.statusText}`))}},i.onerror=function(){n({status:this.status,statusText:i.statusText})};const r=e.headers;r&&Object.keys(r).forEach((function(e){i.setRequestHeader(e,r[e])}));let o=e.params;return o&&"object"==typeof o&&(o=JSON.stringify(o)),i.send(o),{abort(){i.abort()}}}const Zn=window.FUN_HOST||"https://api.fundraiseup.com",Jn=(window.FUN_CDN,window.FUN_STATIC),Qn=window.FUN_STATIC_S3||"https://static.fundraiseup.com";r.p=Jn||r.p;const ei="/elements";var ti,ni,ii;function ri(e,t){return`${e}${ei}${t}`}!function(e){e.DATA="/data",e.DONATION_FORM_PRESETS="/default/predict_default_amounts/v4",e.DEFAULT_FREQUENCY="/getDefaultFrequency/v3",e.GOALS="/goals"}(ti||(ti={})),function(e){e.ONCE="once",e.DAILY="daily",e.WEEKLY="weekly",e.BIWEEKLY="biweekly",e.EVERY_4_WEEKS="every4weeks",e.MONTHLY="monthly",e.BIMONTHLY="bimonthly",e.QUARTERLY="quarterly",e.SEMIANNUAL="semiannual",e.ANNUAL="annual"}(ni||(ni={})),function(e){e.ELEMENT_ID="elementId",e.ELEMENT_KEY="elementKey",e.FORM="form",e.AMOUNT="amount",e.CURRENCY="currency",e.RECURRING="recurring",e.MODIFY_DESIGNATION="modifyDesignation",e.FIRST_NAME="firstName",e.LAST_NAME="lastName",e.EMAIL="email",e.DESIGNATION="designationId",e.TRIBUTE="tributeHonoree"}(ii||(ii={}));const oi=[i.DONATION_FORM];i.DONATION_FORM;const si=/\/-\/(X[\dA-Z]{7})/,ai=/^X[\dA-Z]{7}/,ci=new RegExp("\\/-\\/(N[\\dA-Z]{7})"),li=new RegExp(`${ci.source}(?!\\/join)`),di=new RegExp(`${ci.source}\\/join`),ui=/^N[\dA-Z]{7}/i,pi=/^[\dA-Z_-]{1,25}$/i,hi=/#?(FUN.{8})/i;var Ei=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function mi(e){return(0,Mn.U)(window.location.search.substring(1))[e]}var gi=r("../murmur/src/murmur.ts");function fi(e){let{elementKey:t,elementType:n,widgetKey:r,queryParams:o}=e;return t&&n?Object.assign(Object.assign({},o),{type:n,elementKey:t,key:r}):Object.assign(Object.assign({},o),{type:i.DIRECT_LINK,elementKey:"",key:r})}function Ti(e){const t={elementType:i.DIRECT_LINK,splitTestName:"",splitTestVariant:"",widgetKey:""};return e.elementKey&&e.type?Object.assign(Object.assign(Object.assign({},t),e),{elementType:e.type,widgetKey:e.key}):t}const _i=/#([\da-z_-]{1,25})(\?|&|$)/i;function vi(e){const t=_i.exec(e);return t&&t[1]?t[1]:""}class Ai extends jt{constructor(e){super(),this.payload={duration:e.duration,eventComment:{widgets:e.widgets}}}get eventType(){return"checkoutResolve"}}class yi extends jt{get eventType(){return Gt}}var Ci=r("../../shared/src/common/embed/splitTesting/constants.ts");class Ni extends jt{constructor(e){super();const t=(0,rn.UA)(location.href);t[Ci.AC]&&(this.payload.splitTestName=t[Ci.AC]),t[Ci.$m]&&(this.payload.splitTestVariant=t[Ci.AC]),e&&(this.payload.eventComment=Object.assign(Object.assign({},this.payload.eventComment),e))}get eventType(){return Ft}}class Ii extends jt{constructor(e,t){super(),this.payload={splitTestName:e,splitTestVariant:t}}get eventType(){return"testVariantSelected"}}const Si=(e,t,n,o,s,a,c,l,d,u,p,h,E,m)=>{let g,f=!1;const T=s.fromDonorPortal,_=()=>{d.logCode(2,3);const t=[window.location.href];window.FundraiseUp.h&&window.FundraiseUp.h.match(/^https?:\/\/.+\..+\//)&&t.push(window.FundraiseUp.h);for(let r=0;r<t.length;r++){const o=t[r];d.logCode(2,4,o);const s=(0,Mn.U)(o),c=s.form,u=vi(o),p={queryParams:s},h=l.exists("WIDGET",c),E=l.exists("WIDGET",u),m=h&&c||E&&u;if(m){const t=fi({elementType:l.getElementType(s.element),elementKey:s.element,widgetKey:m,queryParams:s}),n=Ti(t);$t({tracker:a,widgetKey:m,keysKeeper:l,elementType:t.type,elementKey:t.elementKey,splitTestName:"",splitTestVariant:""});const i=Object.assign(Object.assign({},p),{launcher:{element:{key:n.elementKey,type:n.elementType}}});return e.open(m,i)}const g=l.getElementType(c);if(g===i.P2P_BUTTON||g===i.P2P_LINK)return d.logCode(2,5),n.open(c);if(ui.test(c))return d.logCode(2,6),n.open(c);if(c&&pi.test(c))return d.logCode(2,6),n.openByFundraiserSlug(c)}return Promise.resolve()},v=()=>{!function(e,t){if(t.get()||t.set({disableIsFundraiseupVisitor:!1,elements:{showAllGlobalElementsInTestEnv:!1},settings:{}},{path:e.location.pathname}),e.querySelector(`iframe#${Yn}`))return;const n="#"+Yn,i=e.createElement("a");i.setAttribute("href",n),i.style.display="none",e.body.appendChild(i)}(document,u)},A=()=>{return e=void 0,t=void 0,o=function*(){if(!s.abTestMode)return;const{SplitTesting:e}=yield r.e(707).then(r.bind(r,"./src/splitTesting/SplitTesting.ts"));g=new e({keysKeeper:l,clientId:a.clientId,api:window.FundraiseUp,companyKey:s.currentCompanyKey,demoMode:s.abTestDemoMode,onVariantSelect:e=>{let{testName:t,variantName:n}=e;a.track(new Ii(t,n))},onReset:()=>{g.allVariantNodes.forEach((e=>{const t=[].slice.call(e.querySelectorAll('a[href^="#X"],a[href^="#x"]')).some((e=>l.exists("ELEMENT",e.hash.replace("#",""))));if(t)return void d.log("Split Testing: on reset",{hasElement:t});const n=p.getNodeParams(e),r=p.extractNodeParams(e)||n,o=null==r?void 0:r.key;o&&l.exists(["WIDGET","ELEMENT"],o)?d.log("Split Testing: known key",{key:o}):Lt().then((t=>t.createElementByType(i.SPLIT_TESTING,{elementKey:"",elementType:i.SPLIT_TESTING,elementName:i.SPLIT_TESTING,config:{},elementFoundTimestamp:Date.now()},!1,e).catch((e=>console.error(e)))))}))}}),g.init()},new((n=void 0)||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}));var e,t,n,o},y={get experiments(){return E},get splitTesting(){return g},get livemode(){return s.livemode},get version(){return s.version},get initialized(){return f},init:()=>f?(d.logCode(1),Promise.resolve()):(h.incrementSession(),document.head.insertAdjacentHTML("beforeend",'<link href="https://ucarecdn.com/" rel="dns-prefetch">'),function(e){if(window.FUN_WIDGET_KEYS){e.addWidgetKeys(window.FUN_WIDGET_KEYS);const t=window.FUN_WIDGET_KEYS.push;window.FUN_WIDGET_KEYS.push=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.addWidgetKeys(i),t.apply(window.FUN_WIDGET_KEYS,i)}}}(l),function(e){window.FUN_ELEMENT_KEYS={add(t,n){e.addElementKeys(t,n)}}}(l),(()=>{const e=function(e){return{gaDetectResult:{gtag:Boolean(e.gtag),ga:Boolean(e.ga&&e.ga.create),ga4:Boolean(e.dataLayer)}}}(window),t=function(e){return e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches}(window);a.track(new Ni(Object.assign(Object.assign({},e),{darkMode:t}))),window.addEventListener("beforeunload",(()=>{a.track(new yi)})),c.onResolve(((e,t)=>{a.track(new Ai({widgets:[e.campaign.key],fundraisingPages:e.fundraisingPage?[e.fundraisingPage.key]:[],duration:t.duration}))}))})(),function(e,t){const n=(e,n)=>"string"!=typeof e?e[0](t):t[e](...[].slice.call(n));return{init:()=>{e.l.forEach((e=>{n(...e)})),e.l.push=e=>(n(...e),e.length)}}}(window.FundraiseUp,e).init(),Promise.all([A(),t.initialize(),_(),T?Promise.resolve():function(){if("yes"===mi("fundraiseupDebug")){const e=prompt("");if(e)return 1648622467===(0,gi.A)(e)}return"yes"===mi("fundraiseupABTestDebug")}()?xn().then((()=>v())):Promise.resolve()]).then((()=>{f=!0,window.FUN_STARTUP_HOOK&&window.FUN_STARTUP_HOOK(),null==g||g.reset()}))),checkout:e,elements:t,forms:n,services:o,config:s,tracker:a,debug:function(){const e=new Date;e.setFullYear(e.getFullYear()+5),m.set(!0,{expires:e})}};return T||(y.showDebugPanel=v),y};function wi(e){return e.map((e=>Object.assign(Object.assign({},e),{key:e.key||e.name})))}const Oi={experimentId:l[c.CHECKOUT_BUNDLE_EXPERIMENT],name:c.CHECKOUT_BUNDLE_EXPERIMENT,enabled:!1,scope:d.EMBED,variants:[{name:p.CONTROL,weight:33},{name:p.TEST_1,weight:33},{name:p.TEST_2,weight:33},{name:p.TEST_3,weight:1}]},Ri={experimentId:l[c.EMBED_TEST_EXPERIMENT],name:c.EMBED_TEST_EXPERIMENT,enabled:!1,scope:d.EMBED,variants:[{name:g.CONTROL,weight:1},{name:g.TEST,weight:1}]},Pi={experimentId:l[c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT],name:c.STEPLESS_MOBILE_CHECKOUT_EXPERIMENT,enabled:!1,scope:d.EMBED,variants:[{name:L.CONTROL,weight:1},{name:L.TEST,weight:1}]},bi={experimentId:l[c.AMOUNT_PRESETS_DONATION_FORM_V_4_EXPERIMENT],name:c.AMOUNT_PRESETS_DONATION_FORM_V_4_EXPERIMENT,enabled:!1,scope:d.EMBED,variants:[{name:ee.CONTROL,weight:1},{name:ee.TEST,weight:1}]};const Di=function(e){return[Oi,Ri,Pi,bi].map((e=>Object.assign(Object.assign({},e),{variants:wi(e.variants)}))).map((t=>{const n=e.find((e=>e.experimentId===t.experimentId));return n?{experimentId:n.experimentId,enabledWidgets:n.enabledWidgets,disabledWidgets:n.disabledWidgets,scope:n.scope,name:n.name,enabled:n.enabled,variants:wi(n.variants),disabledAccounts:n.disabledAccounts,enabledAccounts:n.enabledAccounts}:t}))};class Li{constructor(e){let{distributionId:t,name:n,variants:i,sentry:r}=e;this.variants=new Map,this.distributionId=t,this.name=n,this.sentry=r,i.forEach((e=>{this.variants.set(e.name,{name:e.name,key:e.key,weight:e.weight})})),this.variantSelectors=this.getDistributedSelectors()}get currentVariantName(){return this._currentVariantName}get currentVariantKey(){var e;return this._currentVariantName?null===(e=this.variants.get(this._currentVariantName))||void 0===e?void 0:e.key:void 0}get previousVariantName(){return this._previousVariantName}initCurrentVariantName(){var e;const t=this.getSelection(),n=[];this.variantSelectors.forEach(((e,t)=>{n.push([t,e])})),this.currentVariantName=null===(e=n.find((e=>{let[,[n,i]]=e;return t>=n&&t<i})))||void 0===e?void 0:e[0]}setVariant(e){this.variants.has(e)?this.currentVariantName=e:this.sentry.captureException(new Ae(this.name))}set currentVariantName(e){this._previousVariantName=this._currentVariantName,this._currentVariantName=e}getSelection(){const e=this.getMaxDistributionValue();return Number((0,gi.A)(`${this.distributionId}:${this.name}`)%e)}getDistributedSelectors(){let e=0;const t=new Map;return this.assertVariantsWithWeight(this.variants),this.variants.forEach(((n,i)=>{let{weight:r}=n;const o=this.getWeightSum(),s=this.getMaxDistributionValue()/o;t.set(i,[e,e+s*r]),e+=s*r})),t}getWeightSum(){let e=0;return this.assertVariantsWithWeight(this.variants),this.variants.forEach((t=>{let{weight:n}=t;return e+=n})),e}getMaxDistributionValue(){return 100*this.variants.size}assertVariantsWithWeight(e){if(![...e.entries()].every((e=>{let[,{weight:t}]=e;return void 0!==t})))throw new Error("Every variant should have weight")}}class Ui{constructor(e){this.experiments=new Map;const{experimentsSettings:t,tracker:n,funStorage:i,companyKey:r,widgetKey:o,user:s,parentCompanyKey:a,infrastructureParams:c,sentry:l,distributionId:d,isDebugMode:u,isFundraiseupVisitor:p,isAbTestMode:h=!1}=e;if(this.experimentsSettings=t,this.tracker=n,this.funStorage=i,this.companyKey=r,this.parentCompanyKey=a,this.widgetKey=o,this.user=s,this.infrastructureParams=c,this.sentry=l,this.distributionId=d,this.isDebugMode=u,this.isFundraiseupVisitor=p,this.isAbTestMode=h,!this.distributionId)throw new Error("ExperimentController: Distribution ID is required")}get allowExperiments(){return!!this.isDebugMode||!this.isFundraiseupVisitor&&!this.isAbTestMode}register(e,t){if(this.experiments.has(e))return;const n=this.createExperiment(e,t);n&&this.experiments.set(e,n)}get(e){if(!this.experiments.has(e)){const t=new ye(e);throw this.sentry.captureException(t),t}return this.experiments.get(e)}registerAndGet(e,t){return this.register(e,t),this.get(e)}has(e){return this.experiments.has(e)}createExperiment(e,t){const n=l[e];if(!n)throw new Error(`ExperimentController: Experiment ID not found for experiment ${e}`);const i=this.experimentsSettings.find((e=>e.experimentId===n));if(!i)return this.sentry.captureException(new ve(e)),null;const r=this.getDistributionExperimentName(i),o=new Li({distributionId:this.distributionId,name:r,variants:i.variants,sentry:this.sentry});return new t({settings:i,companyKey:this.companyKey,parentCompanyKey:this.parentCompanyKey,tracker:this.tracker,funStorage:this.funStorage,user:this.user,widgetKey:this.widgetKey,infrastructureParams:this.infrastructureParams,sentry:this.sentry,distribution:o,allowExperiments:this.allowExperiments})}getDistributionExperimentName(e){return e.experimentId===l[c.AMOUNT_PRESETS_DONATION_FORM_V_4_EXPERIMENT]||e.experimentId===l[c.AMOUNT_PRESETS_PAGES_V_4_EXPERIMENT]?c.AMOUNT_PRESETS_CHECKOUT_V_4_EXPERIMENT:e.name}}class ki extends Ui{register(e,t,n){const i=this.getExperimentKey(e,n),r=this.createExperiment(e,t);r&&this.experiments.set(i,r)}get(e,t){const n=this.getExperimentKey(e,t);return super.get(n)}registerAndGet(e,t,n){return this.register(e,t,n),this.get(e,n)}has(e,t){const n=this.getExperimentKey(e,t);return super.has(n)}getExperimentKey(e,t){return t?`${e}_${t}`:e}}function Mi(e){return null!=e}var xi=r("./src/helpers/parseHref.ts");const Fi=(e,t)=>{const n=new WeakMap,r=r=>{if("fun"===r.getAttribute("data-ignore"))return null;const o=r.getAttribute("href")||"";let s=(0,xi.d)(o);const a=(0,Mn.U)(o);if(si.test(o)){const e=si.exec(o);if(e&&e[1]){const t=e[1];s||(s={}),s.key=t,s.type=i.TEXT_LINK}}if(li.test(o)){const e=li.exec(o);if(e&&e[1]){const t=e[1];s||(s={}),s.key=t,s.type=i.FUNDRAISING_PAGE_LINK}}if(di.test(o)){const e=di.exec(o);if(e&&e[1]){const t=e[1];s||(s={}),s.key=t,s.type=i.FUNDRAISING_PAGE_INVITE_LINK}}o==="#"+Yn&&(s||(s={}),s.key=Yn,s.type=i.DEBUG_PANEL),a.form&&(s||(s={}),s.key=a.form,Object.assign(s,a));const c={type:i.LINK,key:"",elementFoundTimestamp:0};if(s){const t=s.type||function(e,t,n){if(/^[#?]/.test(n))return!0;const i=e.split("#")[0],r=t.split("#")[0],o=t.split("?")[0];return i===r||i===o||e.split("?")[0]===o}(r.href,window.location.href,o);if(!t)return null;c.key=s.key;const n=s.type||e.getElementType(c.key);c.type=n||i.LINK}else c.key=function(e,t){if(e.getAttribute)return e.getAttribute("data-key")||void 0}(r)||"";return-1!==[i.LINK,i.FUNDRAISING_PAGE_LINK,i.FUNDRAISING_PAGE_INVITE_LINK,i.TEXT_LINK].indexOf(c.type)&&(c.queryParams=a),c.key&&(c.type!==i.LINK||e.exists("ELEMENT",c.key)||e.exists("WIDGET",c.key))?(s&&s.designationId&&(l=s.designationId)&&Ut.test(l)&&(c.designationId=s.designationId),c.key=xt(e,c.key),c.node=r,c.elementFoundTimestamp=Date.now(),t.logCode(12,{params:c}),n.set(c.node,c),c):null;var l};return{getNodeParams:e=>n.get(e),findElements:()=>{const e=document.querySelectorAll(".fun-widget, a[href]");return t.logCode(11,{primaryNodes:e}),i=[].slice.call(e),t.logCode(13,{nodes:i}),i.filter((e=>!n.has(e))).filter((e=>(e=>"function"!=typeof document.contains||document.contains(e))(e))).map((e=>r(e))).filter(Mi);var i},extractNodeParams:r}},Gi=e=>e&&"object"==typeof e&&"consent"===e[0],Bi=e=>Gi(e)&&"default"===e[1],Ki=e=>Gi(e)&&"update"===e[1],Vi=(e,t)=>({checkHasDefaultConsent:()=>{var e;return Boolean((null===(e=t.dataLayer)||void 0===e?void 0:e.length)&&t.dataLayer.some(Bi))},initialize:()=>{t.dataLayer=t.dataLayer||[];const n=t.dataLayer.push;t.dataLayer.forEach((t=>{Bi(t)&&e.emit("consentDefault",t[2]),Ki(t)&&e.emit("consentUpdate",t[2])})),((t,n)=>{t.push=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return r.forEach((t=>{Ki(t)&&e.emit("consentUpdate",t[2])})),n.apply(t,r)}})(t.dataLayer,n)}});function Hi(e,t,n,i,r,o){const s=n=>{try{e.logCode(21,{consent:n}),"granted"===n.functionality_storage&&r.initializeFuncStorage(),"denied"===n.functionality_storage&&r.deniedWriteToFuncStorage(),"granted"===n.analytics_storage&&r.initializeStatStorage()}catch(n){e.logCode(23,{error:n}),t.captureException(new Error(`Consent API error: ${n.message}`))}},a=e=>{e.region||s(e)},c=e=>{s(e)};return{initialize:()=>{i.checkHasDefaultConsent()?(n.on("consentDefault",a),n.on("consentUpdate",c),i.initialize(),e.logCode(20,{dataLayer:window.dataLayer})):(o.setupFuncCookie(),r.initialize(),r.allowWriteToFuncStorage(),e.logCode(22,{dataLayer:window.dataLayer}))}}}class ji{constructor(){this.events=new Map}on(e,t){const n=this.events.get(e)||[];n.push(t),this.events.set(e,n)}off(e,t){const n=(this.events.get(e)||[]).filter((e=>e!==t));this.events.set(e,n)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.events.get(e)||[]).forEach((e=>e(...n)))}}const Yi=["APZMZAGU","AZFMPNQE","ARVHGABZ","AGSTXLKM"];var Xi=r("./src/preloader/backdrop.css"),Wi=r.n(Xi);function zi(e,t){if(e.body)return t();setTimeout(zi.bind(null,e,t),10)}const $i="fun-widget-backdrop-spinner";class qi{constructor(e,t,n){this.targetWindow=e,this.scrollLocker=t,this.eventEmitter=n,this.isExists=!1,this.container=null,this.activeSource=null,this.targetWindow=e,this.setStyle()}render(e){let{showSpinner:t=!1,source:n}=e;return this.isExists=!0,this.targetWindow.document.getElementById(qi.styleId)||this.setStyle(),this.activeSource=n,this.container||(this.container=this.targetWindow.document.createElement("div"),this.container.__funIgnoreInViewportTracker=!0,this.container.classList.add("fun-widget-backdrop-holder"),this.container.style.setProperty("background","rgba(57, 58, 63, 0.85)","important"),t&&this.showSpinner(),this.targetWindow.document.body?(this.targetWindow.document.body.appendChild(this.container),this.scrollLocker.lock()):zi(this.targetWindow.document,(()=>{this.container&&(this.targetWindow.document.body.appendChild(this.container),this.scrollLocker.lock())})),this.eventEmitter.emit("backdropOpen",void 0)),this}setStyle(){this.targetWindow.document.head.insertAdjacentHTML("afterbegin",`<style id="${qi.styleId}">${Wi()}</style>`)}remove(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isExists=!1,this.scrollLocker.unlock(),this.container?e?(this.removeContainer(),this.notifyBackdropClosed(),this):(this.container.style.transition="opacity .2s ease",this.container.addEventListener("transitionend",(()=>{this.container&&(this.removeContainer(),this.notifyBackdropClosed())})),this.container.style.opacity="0",this):this}removeContainer(){this.container&&(this.container.remove(),this.container=null)}notifyBackdropClosed(){this.activeSource=null,this.eventEmitter.emit("backdropClose",null)}hideSpinner(){if(!this.container)return console.warn(3),this;const e=this.container.querySelector(`#${$i}`);return e&&e.remove(),this}showSpinner(){return this.container?(this.container.insertAdjacentHTML("afterbegin",`<div id=${$i} class="fun-widget-backdrop" />`),this):(console.warn(3),this)}getActiveSource(){return this.activeSource}}var Zi;qi.styleId="__funBackdropStyles",function(e){e.WITH_ASK_PAGE="withAskPage",e.NO_ASK_PAGE="noAskPage"}(Zi||(Zi={}));const Ji=(e,t,n)=>n.indexOf(e)===t,Qi=Symbol("CUSTOM_FINGERPRINT");var er;Symbol("EXTRA"),Symbol("TAGS"),function(e){e.COMMON="common",e.ADMIN="admin",e.DASHBOARD="dashboard",e.DONOR_PORTAL="donorPortal",e.CAMPAIGN_PAGE="campaign-page",e.INTEGRATION="integration",e.BILLING="billing",e.CHECKOUT="checkout",e.CHECKOUT_STEPLESS="checkout-stepless",e.EMAILS="emails"}(er||(er={}));var tr=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const nr=new Map;function ir(e){return tr(this,void 0,void 0,(function*(){const t=new rr(e),n=nr.get(e.url);e.cancelSimilar&&n&&n(),nr.set(e.url,t.abort.bind(t));try{const n=yield t.send();return nr.delete(e.url),n}catch(t){throw"AbortError"!==(null==t?void 0:t.originalErrorName)&&nr.delete(e.url),t}}))}class rr{constructor(e){this.options=e,this.abortController=function(){try{return void 0!==window.AbortController}catch(e){return!1}}()?new AbortController:null}abort(){var e;null===(e=this.abortController)||void 0===e||e.abort()}send(){return tr(this,void 0,void 0,(function*(){var e,t;const n=this.getUrl(),i=this.getHeaders(),r=this.getBody(),o=this.getCredentials();let s;try{s=yield fetch(n,{method:this.options.method,signal:null===(e=this.abortController)||void 0===e?void 0:e.signal,headers:i,credentials:o,body:r})}catch(e){const t=e instanceof Error?e.message:"Network Error";throw new or(0,t,this.options.method,this.options.url,null==e?void 0:e.name,this.options.setCustomFingerprint)}const a=s.status;let c;const l=s.headers.get("content-type");if(c=(null==l?void 0:l.includes("application/json"))?yield s.json():yield s.text(),a>=500&&this.options.rejectOnInvalid)throw new or(a,s.statusText,this.options.method,this.options.url,"",this.options.setCustomFingerprint);const d=a>=200&&a<400||(null===(t=this.options.validStatuses)||void 0===t?void 0:t.includes(a));return{data:c,valid:Boolean(d)}}))}getHeaders(){const e=new Headers,t=this.options.headers;return t&&Object.keys(t).forEach((n=>{const i=t[n];void 0!==i&&e.append(n,i)})),e}getBody(){return void 0!==this.options.params&&"GET"!==this.options.method?JSON.stringify(this.options.params):null}getUrl(){let e=this.options.url;if("GET"===this.options.method&&this.options.params){const t=new URLSearchParams;for(const e of Object.keys(this.options.params))void 0!==this.options.params[e]&&t.set(e,String(this.options.params[e]));e+=`?${t.toString()}`}return e}getCredentials(){return"withCredentials"in this.options?this.options.withCredentials?"include":"omit":"include"}}class or extends Error{constructor(e,t,n,i,r,o){super(`[Checkout Shared]: Server ${n} response status ${e}, ${t} for url ${i}`),this.originalErrorName=r,o&&(this[Qi]=[i,t]),this.statusCode=e}}Error;const sr=(e,t,n,i,r)=>{const o=t.filter((t=>e.exists("WIDGET",t))),s=t.filter((t=>e.itLooksLikeKey("FUNDRAISING_PAGE",t))),a={campaign:o[0],fundraisingPage:void 0,locale:n,pageViewId:i},c=null==r?void 0:r.fundraiser;if(c){const e=(d=l=c,ui.test(d)?l.toUpperCase():(e=>pi.test(e))(l)?l:"");if(e)return a.fundraisingPage=e,a}var l,d;return s.length&&(a.fundraisingPage=s[0]),a};var ar,cr,lr,dr=r("../../shared/src/common/embed/getSharedContainer.ts"),ur=r("./src/splitTesting/getTLD.ts");function pr(e,t){return function(e){return e!==ar.TESTING}(e)?{domain:t,sameSite:"None",secure:!0}:{domain:t}}!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(ar||(ar={})),function(e){e.STRING="string",e.OBJECT="object"}(cr||(cr={})),function(e){e.ENABLED="1"}(lr||(lr={}));class hr{constructor(e,t,n,i,r){this.funSessionStorage=e,this.funStatStorage=t,this.topLevelDomain=n,this.env=i,this.disableNewCookies=r}initialize(){if(this.disableNewCookies)return;const e=pr(this.env,this.topLevelDomain);this.isStatStorageInitialized||this.funStatStorage.set(e),this.isFuncStorageInitialized||this.funSessionStorage.initialize(this.topLevelDomain,e)}initializeStatStorage(){const e=pr(this.env,this.topLevelDomain);this.isStatStorageInitialized||this.funStatStorage.set(e)}initializeFuncStorage(){this.allowWriteToFuncStorage(),this.funSessionStorage.setInMemoryDataToStorage()}allowWriteToFuncStorage(){this.funSessionStorage.allowWrite=!0}deniedWriteToFuncStorage(){this.funSessionStorage.allowWrite=!1}get isStatStorageInitialized(){return null!==this.funStatStorage.get()}get isFuncStorageInitialized(){return this.funSessionStorage.isFuncStorageInitialized}}class Er{constructor(e,t,n,i){this.env=e,this.topLevelDomain=t,this.storage=n,this.options=i}setupFuncCookie(){var e,t;if(null===(e=this.options)||void 0===e?void 0:e.disableNewCookies)return;const n=this.getCookie(kn.e.FUNC),i=this.getCookie(kn.e.SESSION);!n&&i&&(this.setCookie(kn.e.FUNC,i),(null===(t=this.options)||void 0===t?void 0:t.removeLegacyCookies)&&this.removeLegacyCookie())}removeLegacyCookie(){this.removeCookie(kn.e.SESSION)}get cookieAttributes(){return pr(this.env,this.topLevelDomain)}getCookie(e){return this.storage.get(e)}setCookie(e,t){this.storage.set(e,t,this.cookieAttributes)}removeCookie(e){this.storage.remove(e,this.cookieAttributes)}}class mr{constructor(e,t){this.STORAGE_KEY=e,this.storage=t}get(){return null!==this.storage.get(this.STORAGE_KEY)}set(e,t){e?this.storage.set(this.STORAGE_KEY,"",t):this.remove(t)}remove(e){this.storage.remove(this.STORAGE_KEY,e)}}class gr extends mr{constructor(e){super(kn.e.DEBUG,e),this.storage=e}}function fr(){const e=[],t=window.location.hostname.split(".");let n=t.splice(-1).join();for(let i=t.length;i>0;i--)n=t.splice(-1).join()+"."+n,e.push(n);return e}const Tr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un.A;function n(e,n){t.remove(e,n)}function i(e){return!!window.FUN_DO_NOT_TRACK||!!window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&e!==kn.e.CID}return window.FUN_DO_NOT_TRACK&&fr().forEach((e=>{n(kn.e.CID,{domain:e}),n(kn.e.SESSION,{domain:e}),n(kn.e.FUNC,{domain:e}),n(kn.e.PERFORMANCE,{domain:e})})),window.FUN_ONLY_STRICTLY_NECESSARY_COOKIES&&fr().forEach((e=>{n(kn.e.SESSION,{domain:e}),n(kn.e.FUNC,{domain:e}),n(kn.e.PERFORMANCE,{domain:e})})),{get:function(n){if(i(n))return null;const r=t.get(n);if(!r)return null;if(e===cr.OBJECT){let e=null;return e=JSON.parse(r),e}return r},set:function(n,r,o){i(n)||(e===cr.OBJECT&&(r=JSON.stringify(r)),t.set(n,r,o))},remove:n}};class _r{constructor(e,t){this.field=e,this.storage=t}get(){return this.storage.get(this.field)}set(e,t){this.storage.set(this.field,e,t)}remove(e){this.storage.remove(this.field,e)}}var vr;!function(e){e.STRING="string",e.OBJECT="object"}(vr||(vr={}));const Ar="UNSUPPORTED_TYPE_OF_STORAGE";function yr(e,t){if(!Object.keys(vr).find((e=>vr[e]===t)))throw new Error(`${Ar} ${t}`);return new _r(e,Tr(t))}class Cr{constructor(e){this.topLevelDomain=e,this.storage=yr(kn.e.PERFORMANCE,vr.STRING)}get(){return this.storage.get()}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.storage.set(lr.ENABLED,e)}}class Nr{constructor(e){this.dictionary=new Map,this.reverseDictionary=new Map;for(const t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const n=e[t];this.dictionary.set(t,n),this.reverseDictionary.set(n,t)}}zip(e){return this.zipKeys(this.toFlatData(e))}unzip(e){return this.fromFlatData(this.unzipKeys(e))}unzipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.dictionary.get(n);i?t[i]=e[n]:console.error(`The key for the "${n}" field was not found`)}return t}zipKeys(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=this.reverseDictionary.get(n);i?t[i]=e[n]:console.error(`The minification key for the "${n}" field was not found`)}return t}toFlatData(e){const t={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=e[n];if(Ir(i)){t[n]=i;continue}const r=this.toFlatData(i);for(const i in r)Object.prototype.hasOwnProperty.call(e,n)&&(t[n+"."+i]=r[i])}return t}fromFlatData(e){let t={};return Object.keys(e).forEach((n=>{const i=e[n],r=n.split("."),o={};let s;r.forEach(((e,n)=>{if(r.length===n+1)return s?void(s[e]=i):void(o[e]=i);const a=e;if(t[a])s=t[a];else{if(s)return s[e]||(s[e]={}),void(s=s[e]);o[e]={},s=o[e]}})),t=Object.assign({},t,o)})),t}}function Ir(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e||Array.isArray(e)}class Sr{constructor(e,t,n){this.storage=e,this.zipper=t,this.disableNewCookies=n}getData(){const e=this.storage.get(this.key);return e?this.zipper.unzip(e):{}}setData(e,t){const n=this.zipper.zip(e);this.storage.set(this.key,n,t)}removeData(e){this.storage.remove(this.key,e)}}class wr extends Sr{constructor(){super(...arguments),this.key=kn.e.FUNC}get available(){if(this.disableNewCookies)return!1;const e=Boolean(this.storage.get(kn.e.CID));return!e||e&&Boolean(this.storage.get(this.key))}}class Or extends Sr{constructor(){super(...arguments),this.key=kn.e.SESSION}get available(){return!!this.disableNewCookies||Boolean(this.storage.get(kn.e.CID))&&Boolean(this.storage.get(this.key))}}const Rr={topLevelDomain:"topLevelDomain",t:"topLevelDomain",ida:"intent.donation.amount",idc:"intent.donation.currency",idr:"intent.donation.recurring",idf:"intent.donation.frequency",idh:"intent.donation.selectedHintId",isf:"intent.supporter.firstName",isl:"intent.supporter.lastName",ise:"intent.supporter.email",ici:"intent.campaign.id",iek:"intent.element.key",iet:"intent.element.type",ic:"intent.comment",it:"intent.tribute",itt:"intent.tribute.type",iti:"intent.tribute.inHonorOf",itl:"intent.tribute.labelType",icd:"intent.checkoutSettings.designation",icc:"intent.checkoutSettings.customFields",icma:"intent.checkoutSettings.modifyAmount",icmd:"intent.checkoutSettings.modifyDesignation",ift:"intent.flowType",ifk:"intent.fundraisingPage.key",ifc:"intent.fundraisingPage.customerKey",ife:"intent.feeCovered",mm:"messageBar.manuallyClosed",pi:"popup.interactionAt",fbp:"floatingButtonPopupShown",sl:"socialProof.lastChargeAt",si:"socialProof.interactionAt",sls:"socialProof.lastShownCharge",nsa:"socialProof.nextShowAt",li:"lightbox.interactionAt",lsda:"lastSuccessDonationAt",s:"sessionAt",sp:"sessionPage",x:"xFactor"};class Pr{constructor(e,t,n){this.funLegacyStorage=e,this.funFuncStorage=t,this.disableNewCookies=n}get available(){return this.disableNewCookies?this.funLegacyStorage.available:this.funFuncStorage.available}get isFuncStorageInitialized(){const e=this.funFuncStorage.getData();return!!Object.keys(e).length}getData(){return this.funFuncStorage.available&&this.isFuncStorageInitialized?this.funFuncStorage.getData():this.funLegacyStorage.getData()}initialize(e,t){this.funFuncStorage.setData(e,t)}setData(e,t){this.funFuncStorage.available&&this.funFuncStorage.setData(e,t),this.funLegacyStorage.available&&this.funLegacyStorage.setData(e,t)}initFuncStorage(e,t){this.funFuncStorage.setData(e,t)}removeData(e){this.funFuncStorage.available&&this.funFuncStorage.removeData(e),this.funLegacyStorage.available&&this.funLegacyStorage.removeData(e)}}class br{constructor(e){this.topLevelDomain=e,this.storage=yr(kn.e.CID,vr.STRING)}get(){return this.storage.get()}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.storage.set(e,t)}remove(e){this.storage.remove({domain:e})}}class Dr{constructor(e){this.apiUrl=e,this.data={}}load(e){return t=this,n=void 0,r=function*(){const t=`${e.widgetKey}-${e.locale}`;if(this.data[t])return this.data[t];const n=yield ir({method:"GET",url:ri(this.apiUrl,ti.GOALS),params:e});return this.data[t]=n.data,n.data},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}}const Lr="dataLayerEventTracked",Ur="pageViewed";class kr{constructor(e){this.name=Ur,this.properties={},e&&(this.properties={legacy:{event:{comment:JSON.stringify(e)}}})}}class Mr{constructor(e,t,n){this.window=e,this.newTracker=t,this.localeCode=n,this.isPingAvailable=!1,this.ping=()=>{},this.debug=void 0,this.page=void 0,this.source=void 0}get clientId(){return this.newTracker.clientId}get companyKey(){return this.newTracker.companyKey}get livemode(){return this.newTracker.livemode}get clientLocale(){return this.localeCode}track(e,t){var n;const i=e,r=i.getPayload?i.getPayload():{};if("pageView"===i.eventType){const e=null===(n=null==r?void 0:r.event)||void 0===n?void 0:n.comment;this.newTracker.track(new kr(e?JSON.parse(e):void 0))}}initializePointerUsageTracking(e){this.newTracker.initializePointerUsageTracking(e||this.window)}subscribe(e,t){this.newTracker.subscribe((t=>e(t)),t)}addEventTags(){}removeEventTags(){}getEventTags(){return new Set}customTrack(e){}getTags(){return[]}setEventTags(e){}}class xr extends jt{get eventType(){return"ping"}}class Fr{constructor(e){this.tags=new Set,this.tracker=e}get companyKey(){return this.tracker.companyKey}get clientId(){return this.tracker.clientId}get livemode(){return this.tracker.livemode}get clientLocale(){return this.tracker.clientLocale}get debug(){return this.tracker.debug}get page(){return this.tracker.page}get isPingAvailable(){return this.tracker.isPingAvailable}getTags(){return Array.from(this.tags)}customTrack(e){return this.tracker.customTrack(e)}track(e,t){return this.tracker.track(e,t)}ping(e,t){const n=e||new xr;this.tracker.ping(n,t)}initializePointerUsageTracking(){this.tracker.initializePointerUsageTracking()}subscribe(e,t){return this.tracker.subscribe(e,t)}setEventTags(e){e.forEach((e=>this.tags.add(e)))}removeEventTags(e){this.tags.forEach((t=>{e.some((e=>t.substring(0,e.length)===e))&&this.tags.delete(t)}))}mergeEventTags(e){let t=[];e.payload.eventTags&&(t=e.payload.eventTags.slice()),this.tags.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),e.payload.eventTags=t}}class Gr extends Fr{constructor(e,t){let{funEmbedRelease:n,isFundraiseupVisitor:i}=t;super(e),this.funEmbedRelease=n,this.isFundraiseupVisitor=i}track(e,t){this.addTrackerData(e),this.tracker.track(e,t)}addTrackerData(e){e.merge({funEmbedRelease:this.funEmbedRelease,isFundraiseupVisitor:this.isFundraiseupVisitor}),this.mergeEventTags(e)}customTrack(e){this.track(new zt({customEventType:e.type,customEventData:e.data}))}}class Br extends Error{constructor(e){super(e),this.name=this.constructor.name}}class Kr extends Br{constructor(e){super(`Invalid client ID: ${e}`),this.name="InvalidClientIdError"}}class Vr extends Br{constructor(e){super(`Event validation failed: ${e}`),this.name="EventValidationError"}}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19;const t=window.crypto||window.msCrypto;let n="";if(t&&"function"==typeof t.getRandomValues){const i=new Uint8Array(e);t.getRandomValues(i),n=[].slice.call(i).map((e=>e%10)).join("")}else for(let t=0;t<e;t++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:Hr(e)}function jr(e){return!!e&&20===e.length&&!/[^\d]/.test(e)}function Yr(){return(Date.now().toString()+Hr(20)).slice(0,20)}class Xr{constructor(e,t,n){this.clientId="",this.storage=e,this.window=t,this.serverClientId=n}initialize(){this.clientId=this.readClientId()}getClientId(){if(!jr(this.clientId))throw new Kr(this.clientId);return this.clientId}readClientId(){const e=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};const n=/([^=&#?]+)=([^=&#?]+)/gi,i={};for(;;){const r=n.exec(e);if(!r)break;const[,o,s]=r;try{t?i[decodeURIComponent(o)]=decodeURIComponent(s):i[o]=s}catch(e){console.error(e)}}return i}(this.window.location.href),t=e.clientId||"";if(jr(t))return this.storage.set(t),t;const n=this.storage.get()||"";if(jr(n))return this.storage.set(n),n;if(jr(this.serverClientId))return this.storage.set(this.serverClientId),this.serverClientId;const i=Yr();return this.storage.set(i),i}}var Wr;!function(e){e[e.TEN_YEARS=31536e4]="TEN_YEARS"}(Wr||(Wr={}));class zr{constructor(e){this.funTrackerStorage=e}get(){return this.funTrackerStorage.get()}set(e){this.funTrackerStorage.set(e,{expires:Wr.TEN_YEARS,domain:this.funTrackerStorage.topLevelDomain,sameSite:"Lax"})}}const $r=[/^gtm\..*$/,/^__cmp.*$/,/^optimize\..*$/,/^setPromo$/,/^trackOptanonEvent$/,/^consentDataForTheRecord$/,/^optanonConsentUpdated$/,/^nextroll-consent$/,/^FundraiseUp\./,/^youtube/i];class qr{constructor(){this.ignoredEventPatterns=$r,this.isInitialized=!1,this.isABTestMode=!1}initializeTracking(e,t){this.isInitialized||(this.isABTestMode=t,this.isInitialized=!0,this.setupDataLayer(e))}shouldTrackEvent(e){return!(!this.isABTestMode||!e||this.ignoredEventPatterns.some((t=>t.test(e))))}trackEvent(e,t){this.shouldTrackEvent(e)&&this.onEventCallback&&this.onEventCallback(e,t)}getIgnoredEventPatterns(){return[...this.ignoredEventPatterns]}setEventCallback(e){this.onEventCallback=e}setupDataLayer(e){var t=this;if(e.dataLayer||(e.dataLayer=[]),!Array.isArray(e.dataLayer))return;const n=e.dataLayer;n.forEach((e=>{this.processDataLayerItem(e)}));const i=n.push;n.push=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return r.length>0&&t.processDataLayerItem(r[0]),i.apply(n,r)}}processDataLayerItem(e){const t=this.extractEventName(e);t&&this.trackEvent(t,e)}extractEventName(e){return(Array.isArray(e)||e&&"object"==typeof e&&"number"==typeof e.length)&&e.length>=3&&"event"===e[0]&&"string"==typeof e[1]?e[1]:"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.event?null:e.event}}class Zr{constructor(){this._isPointingDeviceUsed=!1}isPointingDeviceUsed(){return this._isPointingDeviceUsed}initializeTracking(e){if(this._isPointingDeviceUsed)return;const t=()=>{this.setPointingDeviceUsed(),e.removeEventListener("pointermove",t),e.removeEventListener("pointerdown",t),e.removeEventListener("pointerup",t)};e.addEventListener("pointermove",t),e.addEventListener("pointerdown",t),e.addEventListener("pointerup",t)}setPointingDeviceUsed(){this._isPointingDeviceUsed=!0}reset(){this._isPointingDeviceUsed=!1}}class Jr{constructor(){this.subscribers=new Map}subscribe(e,t){this.subscribers.set(t,e)}publish(e){this.subscribers.forEach((t=>{try{t(e)}catch(e){console.error("Error in subscriber callback",e)}}))}}function Qr(){return function(){if(!function(){try{return void 0!==window.Intl&&window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.DateTimeFormat}catch(e){return!1}}())return;const e=new window.Intl.DateTimeFormat("en-US");if("object"!=typeof e)return;const t="function"==typeof e.resolvedOptions&&e.resolvedOptions();if("object"!=typeof t)return;return t.timeZone||void 0}()||function(){const e=-(new Date).getTimezoneOffset()/60;return e>=0?`UTC+${e}`:`UTC${e}`}()}class eo{constructor(e){this.window=e}build(){const{navigator:e}=this.window;return{language:e.language,timezone:Qr(),userAgent:e.userAgent,doNotTrack:"1"===e.doNotTrack,history:{length:this.window.history.length},webdriver:!!e.webdriver,window:{inner:{width:this.window.innerWidth,height:this.window.innerHeight},scroll:{scrollX:Math.max(this.window.scrollX||this.window.pageXOffset||0,0),scrollY:Math.max(this.window.scrollY||this.window.pageYOffset||0,0)}}}}}class to{constructor(e,t){this.clientIdManager=e,this.clientConsentService=t}build(){return{id:this.clientIdManager.getClientId(),consents:this.clientConsentService.getConsents()}}}class no{constructor(e,t,n){this.window=e,this.connectionFormatter=t,this.batteryInfoService=n}build(){var e;const{screen:t,navigator:n}=this.window,i=n.connection||n.mozConnection||n.webkitConnection,r=this.batteryInfoService.getBatteryInfo();return{dateTime:(new Date).toISOString(),memory:n.deviceMemory,cores:"number"==typeof n.hardwareConcurrency?n.hardwareConcurrency:void 0,screen:{orientation:(null===(e=t.orientation)||void 0===e?void 0:e.type)||"unknown",width:t.width,height:t.height,pixelRatio:this.window.devicePixelRatio||1},battery:r,connection:i?{online:n.onLine,type:i.type,downlink:this.connectionFormatter.formatDownlink(i.downlink),effectiveType:i.effectiveType,roundTripTime:i.rtt}:void 0}}}class io{constructor(e,t){this.window=e,this.pageViewId=t}buildPage(){return{url:this.window.location.href,title:this.window.document.title}}buildPageView(e){return{id:this.pageViewId,referrer:e&&this.window.document.referrer||void 0}}}class ro{formatDownlink(e){if(void 0===e)return;const t=e||0;return"string"==typeof t?parseFloat(t)||0:t}}class oo{constructor(e){this.window=e,this.updateBatteryInfo()}getBatteryInfo(){return this.batteryInfo}updateBatteryInfo(){const e=this.window.navigator;"function"==typeof e.getBattery&&e.getBattery().then((e=>{this.batteryInfo={charging:e.charging,chargingTime:e.chargingTime!==1/0?e.chargingTime:void 0,dischargingTime:e.dischargingTime!==1/0?e.dischargingTime:void 0,level:"number"==typeof e.level?e.level:void 0}})).catch((()=>{this.batteryInfo=void 0}))}}class so{constructor(e){this.window=e}getConsents(){return this.window.document.cookie.split(";").filter((e=>-1!==e.indexOf("fundraiseup_"))).map((e=>e.split("=")[0].trim()))}}let ao;const co=new Uint8Array(16);function lo(){if(!ao){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ao=crypto.getRandomValues.bind(crypto)}return ao(co)}const uo=[];for(let e=0;e<256;++e)uo.push((e+256).toString(16).slice(1));const po={};function ho(e,t,n,i,r=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(r<0||r+16>i.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`)}else i=new Uint8Array(16),r=0;return t??=Date.now(),n??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],i[r++]=t/1099511627776&255,i[r++]=t/4294967296&255,i[r++]=t/16777216&255,i[r++]=t/65536&255,i[r++]=t/256&255,i[r++]=255&t,i[r++]=112|n>>>28&15,i[r++]=n>>>20&255,i[r++]=128|n>>>14&63,i[r++]=n>>>6&255,i[r++]=n<<2&255|3&e[10],i[r++]=e[11],i[r++]=e[12],i[r++]=e[13],i[r++]=e[14],i[r++]=e[15],i}const Eo=function(e,t,n){let i;if(e)i=ho(e.random??e.rng?.()??lo(),e.msecs,e.seq,t,n);else{const e=Date.now(),r=lo();!function(e,t,n){e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=n[6]<<23|n[7]<<16|n[8]<<8|n[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++)}(po,e,r),i=ho(r,po.msecs,po.seq,t,n)}return t??function(e,t=0){return(uo[e[t+0]]+uo[e[t+1]]+uo[e[t+2]]+uo[e[t+3]]+"-"+uo[e[t+4]]+uo[e[t+5]]+"-"+uo[e[t+6]]+uo[e[t+7]]+"-"+uo[e[t+8]]+uo[e[t+9]]+"-"+uo[e[t+10]]+uo[e[t+11]]+uo[e[t+12]]+uo[e[t+13]]+uo[e[t+14]]+uo[e[t+15]]).toLowerCase()}(i)};class mo{generate(){return Eo()}}class go{constructor(e,t,n,i,r,o){this.appContext=e,this.browserContextBuilder=t,this.clientContextBuilder=n,this.deviceContextBuilder=i,this.pageContextBuilder=r,this.supporterId=o}setSupporterId(e){this.supporterId=e}getSupporterId(){return this.supporterId}getContext(e){return{app:this.appContext,browser:this.browserContextBuilder.build(),client:this.clientContextBuilder.build(),device:this.deviceContextBuilder.build(),page:this.pageContextBuilder.buildPage(),pageView:this.pageContextBuilder.buildPageView(null==e?void 0:e.withReferrer),supporter:this.supporterId?{id:this.supporterId}:void 0}}getEventContext(){const e=this.getContext();return{app:{id:e.app.id,version:e.app.version,livemode:e.app.livemode},browser:{language:e.browser.language,timezone:e.browser.timezone,userAgent:e.browser.userAgent,doNotTrack:e.browser.doNotTrack,history:e.browser.history,webdriver:e.browser.webdriver,window:{inner:{width:e.browser.window.inner.width,height:e.browser.window.inner.height},scroll:{x:e.browser.window.scroll.scrollX,y:e.browser.window.scroll.scrollY}}},client:{id:e.client.id,consents:e.client.consents},device:{ip:e.device.ip,memory:e.device.memory,cores:e.device.cores,screen:e.device.screen,battery:e.device.battery,connection:e.device.connection},page:{url:e.page.url,title:e.page.title,debugPanel:e.page.debugPanel},pageView:{id:e.pageView.id,referrer:e.pageView.referrer},legacy:{event:{},checkout:{}}}}}class fo{static create(e,t,n,i){const r=new mo,o=new oo(t),s=new so(t),a=new ro,c=r.generate(),l=new eo(t),d=new to(e,s),u=new no(t,a,o),p=new io(t,c);return new go(n,l,d,u,p,i)}}class To{constructor(e){this.timeoutInstance=0,this.items=[],this.timeout=e.timeout||1e3,this.limit=e.limit||30,this.onFlush=e.onFlush,this.resetTimeout()}push(e,t){this.items.push(e),(t||this.items.length>=this.limit)&&this.flush()}flush(){this.items.length?(this.onFlush(this.items),this.items=[],this.resetTimeout()):this.resetTimeout()}resetTimeout(){this.timeoutInstance&&clearTimeout(this.timeoutInstance),this.timeoutInstance=window.setTimeout((()=>{this.flush()}),this.timeout)}}const _o=[Ur],vo=["Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"];function Ao(e){return new Promise((function(t,n){!function(e,t,n){const i=new XMLHttpRequest;i.open(e.method||"GET",e.url),i.withCredentials=!("withCredentials"in e)||Boolean(e.withCredentials),i.onload=function(){if(this.status>=200&&this.status<300){const e=i.getResponseHeader("content-type");if(e&&-1!==e.indexOf("application/json"))try{return t(JSON.parse(i.response))}catch(e){n(e)}t(i.response)}else{if(e.validStatuses&&-1!==e.validStatuses.indexOf(this.status))return t();n(new Error(`[Tracker]: Server ${e.method} response status ${this.status} for url ${e.url}, ${i.statusText}`))}},i.onerror=function(){n({status:this.status,statusText:i.statusText})};const r=e.headers;r&&Object.keys(r).forEach((function(e){i.setRequestHeader(e,r[e])}));let o=e.params;o&&"object"==typeof o&&(o=JSON.stringify(o)),i.send(o)}(e,t,n)}))}const yo={};Object.entries({name:"n",id:"i",accountId:"aid",dateTime:"dt","properties.app.id":"ai","properties.app.version":"av","properties.app.livemode":"al","properties.browser.language":"bl","properties.browser.timezone":"bt","properties.browser.userAgent":"bu","properties.browser.doNotTrack":"bd","properties.browser.history.length":"bh","properties.browser.webdriver":"bw","properties.browser.window.inner.width":"bww","properties.browser.window.inner.height":"bwh","properties.browser.window.scroll.scrollX":"bsx","properties.browser.window.scroll.scrollY":"bsy","properties.client.id":"ci","properties.client.consents":"cc","properties.device.ip":"di","properties.device.dateTime":"ddt","properties.device.memory":"dm","properties.device.cores":"dc","properties.device.screen.orientation":"dso","properties.device.screen.width":"dsw","properties.device.screen.height":"dsh","properties.device.screen.pixelRatio":"dsp","properties.device.battery.charging":"dbc","properties.device.battery.chargingTime":"dbct","properties.device.battery.dischargingTime":"dbdt","properties.device.battery.level":"dbl","properties.device.connection.online":"dco","properties.device.connection.type":"dct","properties.device.connection.downlink":"dcd","properties.device.connection.effectiveType":"dcet","properties.device.connection.roundTripTime":"dcr","properties.page.url":"pu","properties.page.title":"pt","properties.page.debugPanel":"pd","properties.pageView.id":"pvi","properties.pageView.referrer":"pvr","properties.supporter.id":"si"}).forEach((e=>{let[t,n]=e;yo[n]=t}));class Co{constructor(e,t){this.requestHandler=e,this.possibleAdBlockersErrorMessages=t}sendRequests(e){const t=function(e){const t=new Map;return e.forEach((e=>{t.has(e.url)||t.set(e.url,[]),t.get(e.url).push(e.payload)})),t}(e);t.forEach(((e,t)=>{const n=JSON.stringify(e);this.sendRequest(t,n)}))}sendRequest(e,t){let n=!1;try{this.sendFetchRequest(e,t)}catch(e){n=!0}n&&this.requestHandler({method:"POST",url:e,params:t}).catch(console.warn)}sendFetchRequest(e,t){fetch(e,{method:"POST",body:t,keepalive:!0}).catch((e=>{if(console.warn(e),!this.possibleAdBlockersErrorMessages.some((t=>e.message.includes(t))))throw e}))}}var No;!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(No||(No={}));class Io{constructor(e){this.window=e.window,this.url=e.url,this.trackingTarget=e.trackingTarget,this.env=e.env,this.bulk=e.bulk}send(e,t){return n=this,i=void 0,o=function*(){if(this.window.FUN_DO_NOT_TRACK||this.isBlockedByDomain())return;let t=!1;e.name&&-1!==_o.indexOf(e.name)&&(t=!0),e.name===Lr&&-1!==this.window.location.href.indexOf("alz.org")&&(t=!0),this.bulk.push({url:this.url+this.trackingTarget,payload:e},t)},new((r=void 0)||(r=Promise))((function(e,t){function s(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}c((o=o.apply(n,i||[])).next())}));var n,i,r,o}getTrackingUrl(){return this.url}isReady(){return!0}isBlockedByDomain(){return this.env===No.PRODUCTION&&(!!this.window.location.protocol.includes("file")||/127\.0|192\.168|localhost|localtest\.me/.test(this.window.location.hostname))}}class So{constructor(e){this.validatorPromise=e}validate(e){return t=this,n=void 0,r=function*(){const t=yield this.validatorPromise;if(!t)return;const n=t.validate(e);if(n)throw new Vr(n.message)},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}}var wo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Oo{constructor(e,t){this.name=Lr,this.properties={legacy:{dataLayerEventName:e,customEvent:{type:"dataLayer",data:t}}}}}class Ro{constructor(e,t,n,i,r,o,s,a,c){this.window=e,this.trackerPageContext=t,this.client=n,this.companyKey=i,this.subscriberService=r,this.pointerUsageTracker=o,this.isABTestMode=s,this.eventValidator=a,this.dataLayerTracker=c}get clientId(){return this.trackerPageContext.getContext().client.id}get livemode(){return this.trackerPageContext.getContext().app.livemode}track(e){return t=this,n=void 0,r=function*(){const t=this.trackerPageContext.getContext(),n=this.trackerPageContext.getEventContext(),i={name:e.name,id:t.pageView.id,accountId:this.companyKey,dateTime:t.device.dateTime,properties:Object.assign(Object.assign({},n),"object"==typeof e.properties&&null!==e.properties?e.properties:{})};try{yield this.eventValidator.validate(i)}catch(e){if(e instanceof Vr)return void console.error(e.message);throw e}this.client.send(i),this.publish(i)},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}subscribe(e,t){this.subscriberService.subscribe(e,t)}publish(e){this.subscriberService.publish(e)}initializeTracking(){this.initializeDataLayerTracking(this.window,this.isABTestMode),this.pointerUsageTracker.initializeTracking(this.window)}initializePointerUsageTracking(e){this.pointerUsageTracker.initializeTracking(e)}initializeDataLayerTracking(e,t){this.dataLayerTracker&&(this.dataLayerTracker.setEventCallback(((e,t)=>{this.track(new Oo(e,t))})),this.dataLayerTracker.initializeTracking(e,t))}reset(){this.pointerUsageTracker.reset()}setSupporterId(e){this.trackerPageContext.setSupporterId(e)}}class Po{constructor(){this.subscribers={}}publish(e,t){this.subscribers[e]&&this.subscribers[e].forEach((e=>new Promise((()=>e(t)))))}subscribe(e,t){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),!0}}class bo extends jt{constructor(e,t){super(),this.payload={dataLayerEventName:e,dataLayerParams:JSON.stringify(t)}}get eventType(){return Kt}}function Do(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):encodeURIComponent(e):e}function Lo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19;const t=window.crypto||window.msCrypto;let n="";if(t&&"function"==typeof t.getRandomValues){const i=new Uint8Array(e);t.getRandomValues(i),n=[].slice.call(i).map((e=>e%10)).join("")}else for(let t=0;t<e;t++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:Lo(e)}var Uo=r("../../clickhouse/mapper/index.js");function ko(e){return!!e&&20===e.length&&!/[^\d]/.test(e)}class Mo extends Error{constructor(e){super(e),this.name=this.constructor.name}}class xo extends Mo{constructor(e){super(`Invalid client ID: ${e}`),this.name="InvalidClientIdError"}}class Fo{constructor(){this.subscribers=[]}publish(e){this.subscribers.forEach((t=>{t.callback(e)}))}subscribe(e,t){this.subscribers.find((e=>e.name===t))||this.subscribers.push({callback:e,name:t})}}function Go(){const e=function(){if(!function(){try{return void 0!==window.Intl}catch(e){return!1}}())return;const e=window.Intl;if(e&&"object"==typeof e&&"function"==typeof e.DateTimeFormat){const t=new e.DateTimeFormat("en-US");if("object"!=typeof t)return;const n="function"==typeof t.resolvedOptions&&t.resolvedOptions();if("object"!=typeof n)return;const i=n.timeZone;if(!i)return;return i}}();return e||function(){const e=-(new Date).getTimezoneOffset()/60;return e>=0?`UTC+${e}`:`UTC${e}`}()}class Bo{constructor(e,t){var n;this.window=e,this.publicApi=t,this._pageScripts=[],this.sideLibrariesLookupTries=1,this.launchedSiteScripts=[],this.clientCookieConsent=[],this.pageViewId=Lo(),this.pageViewTimeCreate=this.publicApi&&this.publicApi.s||Date.now(),this.resolutionWidth=0,this.resolutionHeight=0,this.window.screen&&(this.resolutionWidth=this.window.screen.width,this.resolutionHeight=this.window.screen.height),this.funSnippetVersion=this.publicApi&&this.publicApi.v||"0",this.pageViewId=`${n=this.pageViewId.slice(0,-1)}${function(e){const t=e.toString().replace(/[^0-9]/g,""),n={0:0,1:2,2:4,3:6,4:8,5:1,6:3,7:5,8:7,9:9};let i=0,r=1;for(let e=t.length-1;e>-1;e-=1)i+=r?n[t[e]]:parseFloat(t[e]),r^=1,i>0xffffffffffff&&(i%=10);return(10-i%10).toString().slice(-1)}(n)}`,this.searchedLibraries={ga:this.getGoogleAnalytics.bind(this),gtm:this.getGoogleTagManager.bind(this),fbpx:this.getFacebookPixel.bind(this),gtag:this.getGlobalSiteTagManager.bind(this),optimizely:this.getOptimizely.bind(this),"adobe.target":this.getAdobeTarget.bind(this),goptimize:this.getGoogleOptimize.bind(this),unbounce:this.getUnbounce.bind(this),hotjar:this.getHotjar.bind(this),nextjs:this.getNextJs.bind(this),wix:this.getWix.bind(this)},this.applyNavigatorVariables(navigator),this.collectPageScripts()}get pageScripts(){return this._pageScripts.length<Object.keys(this.searchedLibraries).length&&this.sideLibrariesLookupTries<=10&&this.collectPageScripts(),this._pageScripts}getSideLibraryByScriptSource(e){return this.launchedSiteScripts.some((t=>{let{src:n}=t;return n&&!!n.match(e)}))}collectFunCookies(){const e=this.window.document.cookie.split(";").filter((e=>-1!==e.indexOf("fundraiseup_")));this.clientCookieConsent=e.map((e=>e.split("=")[0].trim()))}collectPageScripts(){this.sideLibrariesLookupTries+=1;const e=this.window.document.querySelectorAll("script");this.launchedSiteScripts=[].slice.call(e),Object.keys(this.searchedLibraries).forEach((e=>{const t=this.searchedLibraries[e];-1===this._pageScripts.indexOf(e)&&t()&&this._pageScripts.push(e)}))}toObject(){return this.collectFunCookies(),{pageViewId:this.pageViewId,pageViewTimeCreate:this.pageViewTimeCreate,pageViewLifetime:Math.max(Date.now()-this.pageViewTimeCreate,0),clientTimeZone:Go(),clientTime:Date.now(),URL:this.window.location.href,referer:this.window.document.referrer||void 0,title:this.window.document.title,uaHistoryLength:this.window.history.length,uaWebdriver:this.window.navigator.webdriver?1:0,resolutionWidth:Math.max(this.resolutionWidth,0),resolutionHeight:Math.max(this.resolutionHeight,0),windowWidth:Math.max(this.window.innerWidth,0),windowHeight:Math.max(this.window.innerHeight,0),windowScrollY:Math.max(this.window.scrollY||this.window.pageYOffset||0,0),windowScrollX:Math.max(this.window.scrollX||this.window.pageXOffset||0,0),pageScripts:this.pageScripts,clientOnLine:this.clientOnLine,clientDoNotTrack:this.clientDoNotTrack,clientDevicePixelRatio:this.clientDevicePixelRatio,clientDeviceMemory:this.clientDeviceMemory,clientHardwareConcurrency:this.clientHardwareConcurrency,clientConnectionType:this.clientConnectionType,clientConnectionDownlink:this.clientConnectionDownlink,clientConnectionRTT:this.clientConnectionRTT,clientConnectionEffectiveType:this.clientConnectionEffectiveType,clientBatteryCharging:this.clientBatteryCharging,clientBatteryChargingTime:this.clientBatteryChargingTime,clientBatteryDischargingTime:this.clientBatteryDischargingTime,clientBatteryLevel:this.clientBatteryLevel,funSnippetVersion:this.funSnippetVersion,funEmbedRelease:window.FUN?window.FUN.version:"",clientCookieConsent:this.clientCookieConsent}}applyNavigatorVariables(e){var t;const n=e.connection||e.mozConnection||e.webkitConnection;window.Navigator&&window.navigator instanceof window.Navigator&&"function"==typeof e.getBattery&&(null===(t=e.getBattery())||void 0===t||t.then((e=>{this.clientBatteryCharging=e.charging?1:0,this.clientBatteryChargingTime=e.chargingTime,this.clientBatteryDischargingTime=e.dischargingTime,this.clientBatteryLevel="number"==typeof e.level?e.level:0})).catch((e=>{console.warn(e),this.clientBatteryCharging=0,this.clientBatteryChargingTime=0,this.clientBatteryDischargingTime=0,this.clientBatteryLevel=0}))),this.clientOnLine=e.onLine?1:0,this.clientDoNotTrack="1"===e.doNotTrack?1:0,this.clientDevicePixelRatio=window.devicePixelRatio,this.clientDeviceMemory=e.deviceMemory,this.clientHardwareConcurrency="number"!=typeof e.hardwareConcurrency?0:e.hardwareConcurrency,n&&(this.clientConnectionType=n.type,this.clientConnectionDownlink=this.formatConnectionDownlink(n.downlink),this.clientConnectionRTT=n.rtt,this.clientConnectionEffectiveType=n.effectiveType)}getGoogleAnalytics(){return"function"==typeof this.window.ga}getGoogleTagManager(){return this.getSideLibraryByScriptSource(/gtm.js[?]id=([^=&]*)/)}getFacebookPixel(){return"function"==typeof this.window.fbq}getGlobalSiteTagManager(){return"function"==typeof this.window.gtag}getOptimizely(){return this.window.optimizely}getAdobeTarget(){return this.window.adobe&&this.window.adobe.target}getGoogleOptimize(){return!!this.window.google_optimize}getUnbounce(){return this.window.ube&&this.window.ube.init}getHotjar(){return this.window.hj&&this.window._hjSettings}getNextJs(){var e;return window.next||window.__next_f||(null===(e=this.window.document)||void 0===e?void 0:e.querySelector('[src*="_next/static/"]'))}getWix(){return window.wixCustomElements||window.wixEmbedsAPI||window.wixTagManager}formatConnectionDownlink(e){const t=e||0;return"string"==typeof t?parseFloat(t)||0:t}}const Ko=[/FBAV|FBAN|FBSV|FBID|FBBV\/([0-9.]+)/,/Instagram\s([0-9.]+)/,/Snapchat\/([0-9.]+)/,/MicroMessenger\/([0-9.]+)/,/Twitter for iPhone[/]?([\d.]+)?/,/TikTok[/ ](\d+\.(?:[.\d]+))?/,/bytedance/i,/musical_ly/i,/LinkedInApp/i,/gsa/i,/;\s*wv\)/];var Vo=r("../../shared/src/common/embed/tracking/constants.ts");const Ho=[/^gtm\..*$/,/^__cmp.*$/,/^optimize\..*$/,/^setPromo$/,/^trackOptanonEvent$/,/^consentDataForTheRecord$/,/^optanonConsentUpdated$/,/^nextroll-consent$/,/^FundraiseUp\./,/^youtube/i];class jo{constructor(e){let{window:t,companyKey:n,storage:i,trackerClient:r,source:o,supporterKey:s,agentKey:a,livemode:c,localeCode:l,isFundraiseupVisitor:d,shadowUserKey:u,shadowAdminId:p,isABTestMode:h,fromDonorPortal:E,serverClientId:m}=e;var g;this.observer=new Po,this.tags=new Set,this.uaIsInApp=!1,this.pointingDeviceIsUsed=!1,this.trackerEventClick=null,this._clientId="",this.eventSent=Date.now(),this.cookiesUnsetable=!1,this.started=!1,this.pingDelay=15e3,this.isTouchDevice=!1,this.window=t,this.trackerClient=r,this.livemode=c,this.companyKey=n,this.CIDStorage=i,this.subscriberStorage=new Fo,this.uaIsInApp=(g=t.navigator.userAgent,Ko.some((e=>e.exec(g)))),this.source=o,this.supporterKey=s,this.agentKey=a,this.clientLocale=l,this.isFundraiseupVisitor=d,this.shadowUserKey=u,this.shadowAdminId=p,this.isABTestMode=h,this.fromDonorPortal=E,this.serverClientId=m}get page(){return this._page}get clientId(){if(this._clientId&&!ko(this._clientId))throw new xo(this._clientId);return this._clientId}get isPingAvailable(){return Date.now()-this.eventSent>this.pingDelay}start(){if(this.preStartOptionsValidation(),this.started)throw new Error("16");this._page=new Bo(this.window,this.window.FundraiseUp),this.setupCookies(),this.started=!0,this.isTouchDevice="ontouchstart"in window||!!navigator.maxTouchPoints,this.initializeHandleClick(),this.initializeDataLayerTracking(),this.initializePointerUsageTracking()}preStartOptionsValidation(){if(!this.companyKey)throw new Error("15")}setupCookies(){this.cookiesUnsetable||(this.read(),this.refresh())}subscribe(e,t){this.subscriberStorage.subscribe(e,t)}setEventTags(e){e.forEach((e=>this.tags.add(e)))}getTags(){return Array.from(this.tags)}removeEventTags(e){this.tags.forEach((t=>{e.some((e=>t.substring(0,e.length)===e))&&this.tags.delete(t)}))}ping(e,t){if(!this.isPingAvailable)return;const n=e||new xr;this.track(n,t)}customTrack(e){this.track(new zt({customEventType:e.type,customEventData:e.data}))}track(e,t){if(!this.started)return;const n=this.page&&this.page.toObject()||{},i=Object.assign({},this.trackerPayloadPartial);if(Object.keys(n).forEach((e=>{i[e]=n[e]})),i.livemode=this.livemode?1:0,e.merge(i),this.mergeEventTags(e),!e.validate())return;const r=e.toObject();r.source=this.source,this.observer.publish(e.eventType,r),this.trackerClient.send(r,t),this.eventSent=Date.now(),this.publishData(r)}initializePointerUsageTracking(e){if(this.pointingDeviceIsUsed)return;const t=e||this.window,n=()=>{this.pointingDeviceIsUsed=!0,t.removeEventListener("pointermove",n),t.removeEventListener("pointerdown",n),t.removeEventListener("pointerup",n)};t.addEventListener("pointermove",n),t.addEventListener("pointerdown",n),t.addEventListener("pointerup",n)}initializeHandleClick(){const e=this.trackerEventClick;e&&this.window.addEventListener("click",(t=>{t.target&&this.track(new e(t.target))}))}get trackerPayloadPartial(){const e={clientId:this.clientId,companyKey:this.companyKey,supporterKey:this.supporterKey,clientLocale:this.clientLocale,pointingDeviceIsUsed:this.pointingDeviceIsUsed?1:0,isFundraiseupVisitor:this.isFundraiseupVisitor,uaIsInApp:this.uaIsInApp?1:0};return this.fromDonorPortal&&(e.eventComment={fromDonorPortal:1}),e}refresh(){this._clientId||this.createOrSetClientId(this.CIDStorage.get()),this.write()}createOrSetClientId(e){this._clientId=e&&"undefined"!==e&&20===e.length?e:(Date.now().toString()+Lo(20)).slice(0,20)}write(){this._clientId&&this.CIDStorage.set(this.clientId,{expires:3650,domain:this.CIDStorage.topLevelDomain,sameSite:"Lax"})}read(){const e=(0,rn.UA)(this.window.location.href)[Vo.v]||"",t=this.CIDStorage.get()||"";ko(e)?this._clientId=e:ko(t)?this._clientId=t:ko(this.serverClientId)?this._clientId=this.serverClientId:this._clientId=""}initializeDataLayerTracking(){if(this.window.dataLayer||(this.window.dataLayer=[]),!Array.isArray(this.window.dataLayer))return;const e=this.window.dataLayer,t=e=>(Array.isArray(e)||e&&"object"==typeof e&&"number"==typeof e.length)&&e.length>=3&&"event"===e[0]&&"string"==typeof e[1]?e[1]:"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.event?null:e.event,n=e=>{if(!this.isABTestMode)return!1;const n=t(e);return!!n&&!Ho.some((e=>e.test(n)))},i=e=>{if(n(e)){const n=t(e);this.track(new bo(n,e))}};e.forEach(i);const r=e.push;e.push=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i(n[0]),r.apply(e,n)}}publishData(e){this.subscriberStorage.publish(e)}mergeEventTags(e){let t=[];e.payload.eventTags&&(t=e.payload.eventTags.slice()),this.tags.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),e.payload.eventTags=t}}class Yo{constructor(e){this.timeoutInstance=0,this.items=[],this.timeout=e.timeout||1e3,this.limit=e.limit||30,this.onFlush=e.onFlush,this.resetTimeout()}push(e,t){this.items.push(e),(t||this.items.length>=this.limit)&&this.flush()}flush(){this.items.length?(this.onFlush(this.items),this.items=[],this.resetTimeout()):this.resetTimeout()}resetTimeout(){this.timeoutInstance&&clearTimeout(this.timeoutInstance),this.timeoutInstance=window.setTimeout((()=>{this.flush()}),this.timeout)}}var Xo;!function(e){e.CHECKOUT="checkout"}(Xo||(Xo={}));const Wo=[Gt,"click",Ft,"checkoutClose",Bt];class zo{constructor(e){this.request=$n,this.possibleAdBlockersErrorMessages=["Failed to fetch","NetworkError when attempting to fetch resource.","Load failed"],this.window=e.window,this.url=e.url,this.trackingTarget=e.trackingTarget,this.env=e.env,this.bulk=new Yo({limit:30,onFlush:e=>this.sendRequests(e)})}send(e,t){if((window.FUN_DO_NOT_TRACK||this.isBlockedByDomain())&&(!t||t&&t.trackerType!==Xo.CHECKOUT))return;const n=function(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={encode:!0,strict:!0,arrayFormat:"none"};Object.assign(n,t),!1===n.sort&&(n.sort=function(){});const i=function(e){return function(t,n){return null===n?Do(t,e):[Do(t,e),"=",Do(n,e)].join("")}}(n);return e?Object.keys(e).sort(n.sort).map((function(t){const r=e[t];if(void 0===r)return"";if(null===r)return Do(t,n);if(Array.isArray(r)){const e=[];return r.slice().forEach((function(n){void 0!==n&&e.push(i(t,n,e.length))})),e.join("&")}return Do(t,n)+"="+Do(r,n)})).filter((function(e){return e.length>0})).join("&"):""}((0,Uo.compressPayload)(e))}(e),i=(null==t?void 0:t.url)||this.url;let r=-1!==Wo.indexOf(e.eventType);e.eventType===Kt&&-1!==this.window.location.href.indexOf("alz.org")&&(r=!0),this.bulk.push({url:i+this.trackingTarget,payload:n},r)}isBlockedByDomain(){return this.env===rt.PRODUCTION&&(!!window.location.protocol.includes("file")||/127\.0|192\.168|localhost|localtest\.me/.test(window.location.hostname))}sendRequests(e){const t=function(e){const t=new Map;return e.forEach((e=>{let{url:n,payload:i}=e;const r=t.get(n)||[];r.push(i),t.set(n,r)})),t}(e);t.forEach(((e,t)=>{const n=JSON.stringify(e);this.sendRequest(t,n)}))}sendRequest(e,t){let n=!1;try{this.sendFetchRequest(e,t)}catch(e){n=!0}n&&this.request({method:"POST",url:e,params:t}).catch(console.warn)}sendFetchRequest(e,t){fetch(e,{method:"POST",body:t,keepalive:!0}).catch((e=>{if(console.warn(e),!this.possibleAdBlockersErrorMessages.some((t=>e.message.includes(t))))throw e}))}}function $o(e){return un()&&window.FUN_DEV_NEW_TRACKING?function(e){let t;if(e.funTracker)t=e.funTracker;else{const n=e.funTrackerStorage.topLevelDomain;t=function(e){const{companyKey:t,appContext:n,env:i,logger:o,window:s,topLevelDomain:a,isABTestMode:c,trackingConfig:l,serverClientId:d}=e,u=new br(a),p=new zr(u),h=new Xr(p,s,d);h.initialize();const E=fo.create(h,s,n),m=function(e){var t,n;const i=new Co(e.requestHandler||Ao,vo),r=new To({limit:(null===(t=e.bulkConfig)||void 0===t?void 0:t.limit)||30,timeout:(null===(n=e.bulkConfig)||void 0===n?void 0:n.timeout)||1e3,onFlush:e=>i.sendRequests(e)});return new Io({window:e.window,url:e.url,trackingTarget:e.trackingTarget,env:e.env,bulk:r})}({window:s,url:l.url,trackingTarget:l.trackingTarget,env:i}),g=new Jr,f=new Zr,T=function(e,t){const n=(()=>wo(this,void 0,void 0,(function*(){if(e!==No.PRODUCTION&&e!==No.STAGING)try{const{TrackingEventValidator:e}=yield Promise.all([r.e(31),r.e(443)]).then(r.bind(r,"../tracking-migration-converter/src/TrackingEventValidator.ts"));return new e}catch(e){return void t.error({msg:"Failed to create TrackingEventsValidator",error:e instanceof Error?e.message:String(e)})}})))();return new So(n)}(i,o),_=new qr;return new Ro(s,E,m,t,g,f,c,T,_)}({companyKey:e.embedConfig.currentCompanyKey,appContext:{id:"embed",version:e.embedConfig.version,livemode:e.embedConfig.livemode},env:e.env,logger:{error:e.debug.log},window:e.window,topLevelDomain:n,isABTestMode:e.embedConfig.abTestMode,trackingConfig:{url:e.globalURL,trackingTarget:kt},serverClientId:e.embedConfig.clientId}),t.subscribe((t=>e.debug.log(t.name||"",t)),"debug"),t.initializeTracking()}const n=new Mr(window,t,e.embedConfig.locale.code);return new Gr(n,{funEmbedRelease:e.funEmbedRelease,isFundraiseupVisitor:e.isFundraiseupVisitor})}(e):function(e){let t;if(e.funTracker)t=e.funTracker;else{const n=new zo({window:e.window,url:e.globalURL,trackingTarget:"/tb",env:e.env});t=new jo({trackerClient:n,window:e.window,companyKey:e.embedConfig.currentCompanyKey,storage:e.funTrackerStorage,localeCode:e.embedConfig.locale.code,livemode:e.embedConfig.livemode,isABTestMode:e.embedConfig.abTestMode,source:e.source,serverClientId:e.embedConfig.clientId}),t.subscribe((t=>e.debug.log(t.eventType||"",t)),"debug"),t.start()}return new Gr(t,{funEmbedRelease:e.funEmbedRelease,isFundraiseupVisitor:e.isFundraiseupVisitor})}(e)}var qo,Zo;!function(e){e[e.CHECKOUT=9]="CHECKOUT",e[e.PRODUCT=2]="PRODUCT"}(qo||(qo={})),function(e){e.EMBED_WORKER="embedWorker",e.EMBED="embed"}(Zo||(Zo={}));class Jo{constructor(e,t,n,i,r,o){this.requester=e,this.apiKey=t,this.scope=n,this.release=i,this.environment=r,this.url=`https://sentry.fundraiseup.com/api/${o}/envelope/?sentry_key=${this.apiKey}`}captureException(e,t){this.isIgnoredException(e)||this.requester(this.url,{method:"POST",body:this.getBody(e,t),headers:{"content-type":"text/plain; charset=utf-8"}}),console.error(e)}getEnrichData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{exception:{values:[{type:"Error",value:e.message,stacktrace:{frames:[]}}]},level:"error",platform:"javascript",timestamp:Date.now()/1e3,environment:this.environment,release:this.release,tags:Object.assign(Object.assign({},t),{scope:this.scope})}}getBody(e,t){return JSON.stringify(this.getInfo())+"\n"+JSON.stringify(this.getType())+"\n"+JSON.stringify(this.getEnrichData(e,t))}getInfo(){return{sent_at:(new Date).toISOString()}}getType(){return{type:"event"}}isIgnoredException(e){return 0===e.statusCode}}class Qo extends Jo{constructor(e,t,n,i,r,o,s){super(e,t,n,i,r,o),this.embedConfig=s,this.ignoreErrors=[/Failed to fetch$/,/Loading chunk \d{3,5} failed/,/The operation is insecure\.$/,/parameter 1 is not of type ['"]?Element['"]?/,/Maximum call stack size exceeded/,/2 is not provided/,/elm.events.push is not a function/]}getTagsFromConfig(){var e,t,n,i,r,o;return{userCountry:null===(t=null===(e=this.embedConfig.meta)||void 0===e?void 0:e.user.location)||void 0===t?void 0:t.country,isFundraiseupVisitor:this.embedConfig.isFundraiseupVisitor,isMobile:this.embedConfig.deviceData.isMobile,isMobileOrTablet:this.embedConfig.deviceData.isMobileOrTablet,osName:null===(i=null===(n=this.embedConfig.browserData)||void 0===n?void 0:n.os)||void 0===i?void 0:i.name,osVersion:null===(o=null===(r=this.embedConfig.browserData)||void 0===r?void 0:r.os)||void 0===o?void 0:o.version,companyKey:this.embedConfig.currentCompanyKey,isInAppBrowser:this.embedConfig.browserData.isInAppBrowser}}getBrowserTags(){var e,t;return{server_name:window.location.origin,platform:window.navigator.platform,cookieEnabled:window.navigator.cookieEnabled,language:window.navigator.language,connectionType:null===(e=window.navigator.connection)||void 0===e?void 0:e.effectiveType,downlink:null===(t=window.navigator.connection)||void 0===t?void 0:t.downlink}}getBrowserExtra(){return{userAgent:window.navigator.userAgent,href:window.location.href}}getEnrichData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=super.getEnrichData(e);return Object.assign(Object.assign({},n),{tags:Object.assign(Object.assign(Object.assign(Object.assign({},n.tags),this.getTagsFromConfig()),this.getBrowserTags()),t),extra:Object.assign(Object.assign(Object.assign({},n.extra||{}),this.getBrowserExtra()),{stacktrace:e.stack})})}isIgnoredException(e){const t=!this.embedConfig.browserData.isSupported,n=""===window.navigator.userAgent||0===(null===(i=window.navigator.languages)||void 0===i?void 0:i.length)||window.navigator.webdriver;var i;const r=this.ignoreErrors.some((t=>t.test(e.message))),o=window.location.origin.includes("hubspotpreview");return t||n||r||o||super.isIgnoredException(e)}}class es{constructor(e,t){this.funStorageAdapter=e,this._inMemoryStorage={},this.env=t.env,this._allowWrite=t.allowWrite,this.inMemoryStorage=this.funStorageAdapter.getData()}get available(){return this.funStorageAdapter.available}get isFuncStorageInitialized(){return this.funStorageAdapter.isFuncStorageInitialized}get allowWrite(){return this._allowWrite}set allowWrite(e){this._allowWrite=e}getData(){return this.inMemoryStorage}setData(e,t){this.inMemoryStorage=e,this.allowWrite&&this.funStorageAdapter.setData(e,t)}removeData(e){}initialize(e,t){this.funStorageAdapter.initialize({topLevelDomain:e},t)}getField(e){const t=this.getData();return t&&e in t?t[e]:null}setField(e,t){const n=this.getData()||{};n[e]=t;const i=pr(this.env,n.topLevelDomain);this.setData(n,i)}removeField(e){const t=this.getData();delete t[e];const n=pr(this.env,t.topLevelDomain);this.setData(t,n)}setInMemoryDataToStorage(){if(!this.allowWrite)throw new Error("Session Storage error - Cannot save data to storage when write is not allowed");if(!this.inMemoryStorage.topLevelDomain)return void console.error("Session Storage error - Top level domain is not set");const e=pr(this.env,this.inMemoryStorage.topLevelDomain);this.funStorageAdapter.initFuncStorage(this.inMemoryStorage,e)}get inMemoryStorage(){return Object.assign({},this._inMemoryStorage)}set inMemoryStorage(e){this._inMemoryStorage=e}}class ts{constructor(e,t){this.storage=e,this.initAt=t||(new Date).getTime(),this.read()}incrementSession(){this.sessionPage++,this.refresh()}refresh(){this.sessionAt||this.addSession(),this.write()}addSession(){this.sessionAt=this.initAt}write(){this.storage.setField("sessionAt",this.sessionAt.toString(10)),this.storage.setField("sessionPage",this.sessionPage)}read(){this.sessionAt=Number(this.storage.getField("sessionAt"))||0,this.sessionPage=Number(this.storage.getField("sessionPage"))||0}}class ns{constructor(e){this.window=e}saveDocumentOriginalStyles(){const e=()=>{this.saveOriginalStyles(this.window.document.body),this.saveOriginalStyles(this.window.document.documentElement)};if(this.window.document.body)return e();zi(this.window.document,e)}setStyle(e,t){t.setAttribute("style",e)}appendStyle(e,t){const n=(t.getAttribute("style")||"")+e;t.setAttribute("style",n)}restoreOriginalStyles(e){let t="";this.originalStyles.has(e)&&(t=this.originalStyles.get(e)),e.setAttribute("style",t),this.originalStyles.delete(e)}saveOriginalStyles(e){if(this.originalStyles.has(e))return;const t=e.getAttribute("style")||"";this.originalStyles.set(e,t)}get originalStyles(){return this._originalStyles||(this._originalStyles=new WeakMap),this._originalStyles}}class is{constructor(e,t){this.window=e,this.isMobile=t,this.isLocked=!1}lock(){this.isLocked||(this.saveDefaultStyles(),this.bodyStyle.setProperty(is.overflowStyleProp,"hidden","important"),this.isMobile||(this.bodyStyle.setProperty(is.heightStyleProp,"auto","important"),this.bodyStyle.setProperty(is.minHeightStyleProp,"100%","important")),this.isLocked=!0)}unlock(){this.isLocked&&this.overflow&&(this.restoreDefaultStyles(),this.isLocked=!1)}get bodyStyle(){return this.window.document.body.style}saveDefaultStyles(){this.overflow={value:this.bodyStyle.getPropertyValue(is.overflowStyleProp),priority:this.bodyStyle.getPropertyPriority(is.overflowStyleProp)},this.isMobile||(this.height={value:this.bodyStyle.getPropertyValue(is.heightStyleProp),priority:this.bodyStyle.getPropertyPriority(is.heightStyleProp)},this.minHeight={value:this.bodyStyle.getPropertyValue(is.minHeightStyleProp),priority:this.bodyStyle.getPropertyPriority(is.minHeightStyleProp)})}restoreDefaultStyles(){var e,t,n;(null===(e=this.overflow)||void 0===e?void 0:e.value)?this.bodyStyle.setProperty(is.overflowStyleProp,this.overflow.value,this.overflow.priority):this.bodyStyle.removeProperty(is.overflowStyleProp),this.isMobile||((null===(t=this.height)||void 0===t?void 0:t.value)?this.bodyStyle.setProperty(is.heightStyleProp,this.height.value,this.height.priority):this.bodyStyle.removeProperty(is.heightStyleProp),(null===(n=this.minHeight)||void 0===n?void 0:n.value)?this.bodyStyle.setProperty(is.minHeightStyleProp,this.minHeight.value,this.minHeight.priority):this.bodyStyle.removeProperty(is.minHeightStyleProp))}}is.overflowStyleProp="overflow",is.heightStyleProp="height",is.minHeightStyleProp="min-height";class rs{constructor(e){var t;this.customHashToKeyIndex=new Map,this.keyToCustomHashIndex=new Map,this.originalKeyIndex=new Map,this.elementsMap=new Map,this.fundraisersMap=new Map,this.campaignGroupMap=new Map,this.campaignSubGroupMap=new Map,this.index=new Map,this.processCampaignsKeys([...(t=e.campaignKeyGroups,Object.values(t).map((e=>Object.values(e))).flatMap((e=>e)).flatMap((e=>e))),...e.inactiveWidgets]),this.processCampaignsKeyGroups(e.campaignKeyGroups),this.processElementKeys(e.elements)}processCampaignsKeys(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{const[t,n]=e,i=this.normalize(t);if(this.index.set(i,"WIDGET"),this.originalKeyIndex.set(i,t),n){const e=this.normalize(n);this.index.set(e,"WIDGET"),this.customHashToKeyIndex.set(e,t),this.keyToCustomHashIndex.set(i,n),this.originalKeyIndex.set(e,n)}}))}processCampaignsKeyGroups(e){Object.entries(e).forEach((e=>{let[t,n]=e;Object.entries(n).forEach((e=>{let[n,i]=e;i.forEach((e=>{const[i]=e,r=this.normalize(i);this.campaignGroupMap.set(r,t),this.campaignSubGroupMap.set(r,n)}))}))}))}processElementKeys(e){Object.keys(e).forEach((t=>{e[t].forEach((e=>{this.index.set(this.normalize(e),"ELEMENT"),this.elementsMap.set(this.normalize(e),t)}))})),this.index.set(this.normalize(Yn),"ELEMENT"),this.elementsMap.set(this.normalize(Yn),Vt.DEBUG_PANEL)}exists(e,t){return("string"==typeof e?[e]:e).some((e=>this.index.get(this.normalize(t))===e))}itLooksLikeKey(e,t){return"WIDGET"===e?hi.test(this.normalize(t)):"ELEMENT"===e?ai.test(t):ui.test(t)}normalize(e){if(!e)return"";const t=e.slice("#"===e[0]?1:0);return hi.test(t)||ai.test(t)||ui.test(t)?t.toUpperCase():t.toLowerCase()}getElementType(e){return this.elementsMap.get(e)}checkElementType(e,t){return this.getElementType(t)===e}addWidgetKeys(e){e.forEach((e=>{if(this.exists("WIDGET",e))return;const t=this.normalize(e);this.index.set(e,"WIDGET"),this.originalKeyIndex.set(t,t)}))}addFundraisersKeys(e){e.filter((e=>ui.test(e))).forEach((e=>{if(this.exists("FUNDRAISING_PAGE",e))return;const t=this.normalize(e);this.exists("WIDGET",t)||(this.index.set(t,"FUNDRAISING_PAGE"),this.fundraisersMap.set(t,t))}))}getFundraisersKeys(){return[...this.fundraisersMap.keys()]}addElementKeys(e,t){this.index.set(this.normalize(t),"ELEMENT"),this.elementsMap.set(this.normalize(t),e)}getWidgetCustomHash(e){return this.keyToCustomHashIndex.get(this.normalize(e))}isWidgetCustomHash(e){return this.customHashToKeyIndex.has(this.normalize(e))}getOriginalWidgetKey(e){return this.originalKeyIndex.get(this.normalize(e))}getWidgetKeyByCustomHash(e){return this.customHashToKeyIndex.get(this.normalize(e))}getCheckoutType(e){return this.campaignGroupMap.get(this.normalize(e))}getAskPageType(e){return this.campaignSubGroupMap.get(this.normalize(e))}}function os(t){const n=bt(),i=function(e){let{trackingUrls:t,isAbTestMode:n,donorPortalUrl:i,companyKey:r}=e;if(n){const e=Yi.includes(r)?"https://fundraiseupobjects.com":i;return{checkout:e,global:e}}return t}({trackingUrls:t.trackingUrls,isAbTestMode:t.staticConfig.abTestMode,donorPortalUrl:t.staticConfig.donorPortalUrl,companyKey:t.company.key});return n.provide(2,(()=>Object.freeze(t.staticConfig))).provide(7,(()=>Object.freeze(i))).provide(20,(()=>new ns(window))).provide(13,(()=>function(e,t,n,i,r,o,s,a,c,l){const d=(0,Mn.U)(window.FundraiseUp.h||window.location.href),u=Mt(d),p=void 0!==Un.A.get(kn.e.DEBUG),h=a.get(),E=(null==h?void 0:h.disableIsFundraiseupVisitor)||!1,m=n.clientId,g={version:r,livemode:u,locale:new Ln({window,queryParams:d,companyLocalizationSettings:t.localization}).getConfig(),currentCompanyKey:t.key,currentCompany:t,loadedTimestamp:i,meta:c,queryParams:d,staticConfig:n,inactiveWidgets:l,clientId:m,get isMobile(){return window.FUN_FORCE_MOBILE||g.deviceData.isMobile},get deviceData(){const e=n.deviceData;return{isMobile:e.isMobile,isMobileOrTablet:e.isMobileOrTablet,isMobileSafari16:e.isMobileSafari16}},get fontsAssets(){return n.fontsAssets},get browserData(){return n.browserData},get paymentMethods(){return{stripePublicKey:Object.assign({},n.stripePublicKey),paypalClientId:n.paypalClientId,googlePayInfo:Object.assign({},n.googlePayInfo)}},get integrations(){return{uploadcareKey:n.uploadcareKey,dtdEnabled:n.integrations.dtd,sentryUri:n.sentryUri}},get server(){return{mainDomain:n.mainDomain,env:n.env,elementsApiScriptUrl:n.elementsApiScriptUrl,trackingUrls:Object.assign({},e),resolveUrl:`${o}/checkout/resolve?key=${t.key}`,checkoutAssets:n.checkoutAssets,checkoutSteplessAssets:n.checkoutSteplessAssets,elementsUrl:`${s}/embed-data/`}},get data(){return{currencyRates:Object.assign({},n.currencyRates)}},get isDebugMode(){return p},get isFundraiseupVisitor(){return Boolean(n.isFundraiseupVisitor&&!E)},get disablePreloading(){return n.disablePreloading},get experimentsConfig(){return{experiments:n.experimentsConfig.experiments||[]}},get abTestMode(){return n.abTestMode},get abTestDemoMode(){return window.FUN_AB_TEST_DEMO_MODE||!1},get fromDonorPortal(){return n.fromDonorPortal}};return g}(n.get(7),t.company,n.get(2),t.loadedTimestamp,t.version,Zn,Qn,n.get(15),t.meta,t.knownKeys.inactiveWidgets))).provide(1,(()=>new qi(window,new is(window,t.staticConfig.deviceData.isMobile),n.get(19)))).provide(29,(()=>((e,t)=>{let n;const i=e=>e?'<div class="fru-wmb">\n    <div class="fru-sg"></div>\n\n    <div class="fru-ch" data-qa="msh">\n    <div class="fru-sm" style="width: 121px !important; height: 32px !important; margin: 0 auto !important"></div>\n  </div>\n    <div data-qa="msa">\n    <div class="fru-cim"></div>\n    <div class="fru-cbm">\n      <div class="fru-fcm">\n        <div class="fru-sm" style="width: 251px !important; height: 24px !important; margin: 0 auto !important"></div>\n        <div class="fru-sm" style="height: 40px !important; margin-top: 16px !important"></div>\n      </div>\n    </div>\n  </div>\n    <div class="fru-wfm" data-qa="msf">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 187px; height: 28px; margin: 0 auto"></div>\n      <div class="fru-sm" style="height: 44px !important; margin-top: 28px !important"></div>\n      <div class="fru-sm" style="height: 160px !important; margin-top: 16px !important"></div>\n      <div class="fru-sm" style="height: 66px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="height: 20px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="width: 121px !important; height: 20px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 48px !important; margin-top: 24px !important"></div>\n    </div>\n  </div>\n  <div class="fru-wftm">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 212px !important; height: 24px !important"></div>\n      <div class="fru-sm" style="width: 271px !important; height: 76px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 46px !important; margin-top: 12px !important"></div>\n    </div>\n  </div>\n  </div>':'<div class="fru-wmb">\n    <div class="fru-sg"></div>\n\n    <div class="fru-ch" data-qa="msh">\n    <div class="fru-sm" style="width: 121px !important; height: 32px !important; margin: 0 auto !important"></div>\n  </div>\n    <div class="fru-wfm" data-qa="msf">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 187px; height: 28px; margin: 0 auto"></div>\n      <div class="fru-sm" style="height: 44px !important; margin-top: 28px !important"></div>\n      <div class="fru-sm" style="height: 160px !important; margin-top: 16px !important"></div>\n      <div class="fru-sm" style="height: 66px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="height: 20px !important; margin-top: 24px !important"></div>\n      <div class="fru-sm" style="width: 121px !important; height: 20px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 48px !important; margin-top: 24px !important"></div>\n    </div>\n  </div>\n  <div class="fru-wftm">\n    <div class="fru-fcm">\n      <div class="fru-sm" style="width: 212px !important; height: 24px !important"></div>\n      <div class="fru-sm" style="width: 271px !important; height: 76px !important; margin-top: 12px !important"></div>\n      <div class="fru-sm" style="height: 46px !important; margin-top: 12px !important"></div>\n    </div>\n  </div>\n  </div>',r=e=>e?'<div class="fru-wd">\n    <div class="fru-wmd">\n      <div class="fru-wcd" data-qa="dsa">\n    <div class="fru-sg fru-sgc"></div>\n\n    <div class="fru-cid"></div>\n    <div class="fru-cbd">\n      <div class="fru-sd" style="width: 116px !important; height: 50px !important"></div>\n      <div class="fru-sd" style="height: 24px !important; margin-top: 16px !important"></div>\n      <div class="fru-sd" style="height: 120px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="width: 206px !important; height: 16px !important; margin-top: auto !important"></div>\n    </div>\n  </div>\n      <div class="fru-wfd" data-qa="dsf">\n    <div class="fru-sg fru-sgf"></div>\n\n    <div class="fru-fcd">\n      <div class="fru-sd" style="width: 188px !important; height: 32px !important; margin: 0 auto !important"></div>\n      <div class="fru-sd" style="height: 40px !important; margin-top: 22px !important"></div>\n      <div class="fru-sd" style="height: 90px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="height: 52px !important; margin-top: 10px !important"></div>\n      <div class="fru-sd" style="width: 189px !important; height: 18px !important; margin-top: 25px !important"></div>\n      <div class="fru-sd" style="width: 221px !important; height: 18px !important; margin-top: auto !important"></div>\n      <div class="fru-sd" style="width: 89px !important; height: 18px !important; margin-top: 13px !important"></div>\n      <div class="fru-sd" style="height: 48px !important; margin-top: 21px !important"></div>\n    </div>\n  </div>\n    </div>\n  </div>':'<div class="fru-wd">\n    <div class="fru-wmd">\n      <div class="fru-wfd" data-qa="dsf">\n    <div class="fru-sg fru-sgf"></div>\n\n    <div class="fru-fcd">\n      <div class="fru-sd" style="width: 188px !important; height: 32px !important; margin: 0 auto !important"></div>\n      <div class="fru-sd" style="height: 40px !important; margin-top: 22px !important"></div>\n      <div class="fru-sd" style="height: 90px !important; margin-top: 12px !important"></div>\n      <div class="fru-sd" style="height: 52px !important; margin-top: 10px !important"></div>\n      <div class="fru-sd" style="width: 189px !important; height: 18px !important; margin-top: 25px !important"></div>\n      <div class="fru-sd" style="width: 221px !important; height: 18px !important; margin-top: auto !important"></div>\n      <div class="fru-sd" style="width: 89px !important; height: 18px !important; margin-top: 13px !important"></div>\n      <div class="fru-sd" style="height: 48px !important; margin-top: 21px !important"></div>\n    </div>\n  </div>\n    </div>\n  </div>';return{render:o=>{const s=(a=o.campaignKey,t.getAskPageType(a)===Zi.WITH_ASK_PAGE);var a;n=e.document.createElement("div"),n.classList.add("fru-m"),s&&n.classList.add("fru-hc"),o.isLivemode||n.classList.add("fru-nlm"),o.isRtl&&n.setAttribute("dir","rtl"),e.document.body?e.document.body.appendChild(n):zi(e.document,(()=>{e.document.body.appendChild(n)})),n.innerHTML=(e=>{let{isMobile:t,showAskPage:n}=e;return t?i(n):r(n)})({isMobile:o.isMobile,showAskPage:s}),(()=>{if(!n)return;const t=e.document.createElement("style");t.appendChild(e.document.createTextNode("\n  [class^='fru-'] {\n    all: initial;\n    display: block !important;\n    box-sizing: border-box !important;\n  }\n\n  .fru-sd {\n    width: 100% !important;\n    background: #efefef !important;\n    border-radius: 6px !important;\n  }\n\n  .fru-sm {\n    width: 100% !important;\n    background: #efefef !important;\n    border-radius: 4px !important;\n  }\n\n  .fru-sg {\n    position: absolute !important;\n    inset: 0 !important;\n    z-index: 1 !important;\n\n    background: linear-gradient(90deg, #FFFFFF00 35%, #FFFFFFE6 50%, #FFFFFF00 65%) 0 0 / 300% 100%;\n    animation: fru-ld 1s linear infinite !important;\n  }\n\n  [dir='rtl'] .fru-sg {\n    animation-name: fru-ld-rtl !important;\n  }\n\n  @keyframes fru-ld {\n    0% {\n      background-position: 100% 50%;\n    }\n    30% {\n      background-position: 0 50%;\n    }\n    100% {\n      background-position: 0 50%;\n    }\n  }\n\n  @keyframes fru-ld-rtl {\n    0% {\n      background-position: 0 50%;\n    }\n    30% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 100% 50%;\n    }\n  }\n\n  .fru-m {\n    position: fixed !important;\n    inset: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    align-items: flex-start !important;\n    overflow-x: hidden !important;\n    overflow-y: auto !important;\n    z-index: 2147483647 !important;\n    translate: 0 0 100px !important;\n    overscroll-behavior-y: none !important;\n  }\n\n  .fru-m-a {\n    animation: fru-fade-out 0.15s forwards !important;\n  }\n\n  @keyframes fru-fade-out {\n    to {\n      opacity: 0 !important;\n    }\n  }\n\n  .fru-wd {\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    max-width: 376px !important;\n    padding: 16px 8px !important;\n    margin: auto !important;\n  }\n\n  .fru-wmb {\n    flex-grow: 1 !important;\n    width: 100% !important;\n    position: relative !important;\n    background: #fff !important;\n  }\n\n  .fru-wmd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    border-radius: 16px !important;\n    box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n    margin-bottom: 86px !important;\n  }\n\n  .fru-wcd {\n    flex-shrink: 0 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    width: 100% !important;\n    height: 640px !important;\n    background: #fff !important;\n    border-radius: 16px 16px 0 0 !important;\n    overflow: hidden !important;\n  }\n\n  .fru-ch {\n    padding: 8px 44px !important;\n  }\n\n  .fru-cid {\n    width: 100% !important;\n    height: 202px !important;\n    background: #efefef !important;\n    border-radius: 16px 16px 0 0 !important;\n  }\n\n  .fru-cim {\n    width: 100% !important;\n    height: 59vw !important;\n    background: #efefef !important;\n  }\n\n  .fru-cbd {\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    padding: 20px 28px 28px !important;\n  }\n\n  .fru-cbm {\n    padding: 24px 20px !important;\n  }\n\n  .fru-wfd {\n    flex-shrink: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    position: relative !important;\n    height: 640px !important;\n    background: #fff !important;\n    padding: 28px 32px !important;\n    border-radius: 16px !important;\n    border-top: 1px solid #c7cdd6 !important;\n    overflow: hidden !important;\n  }\n\n  .fru-hc .fru-wfd {\n    border-radius: 0 0 16px 16px !important;\n  }\n\n  .fru-wfm {\n    padding: 32px 20px 40px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-wftm {\n    background: #fff !important;\n    padding: 24px 20px 60px !important;\n    border-top: 1px solid #c7cdd6 !important;\n  }\n\n  .fru-fcd {\n    min-height: 0 !important;\n    flex-grow: 1 !important;\n    display: flex !important;\n    flex-direction: column !important;\n    width: 100% !important;\n    max-width: 296px !important;\n    margin: auto !important;\n  }\n\n  .fru-fcm {\n    width: 100% !important;\n    max-width: 390px !important;\n    margin: auto !important;\n  }\n\n  .fru-nlm {\n    margin-bottom: 40px !important;\n  }\n\n  @media (min-width: 536px) {\n    .fru-wd {\n      width: 360px !important;\n      max-width: none !important;\n      padding-inline-start: 0 !important;\n      padding-inline-end: 0 !important;\n    }\n\n    .fru-hc .fru-wd {\n      width: 516px !important;\n    }\n\n    .fru-cid {\n      height: 289px !important;\n    }\n  }\n\n  @media (min-width: 1128px) {\n    .fru-hc .fru-wd {\n      width: calc(516px + 20px + 360px) !important;\n    }\n\n    .fru-sgc {\n      animation-delay: 0.1s !important;\n    }\n\n    .fru-sgf {\n      animation-delay: 0.25s !important;\n    }\n\n    .fru-wmd {\n      flex-direction: row !important;\n      border-radius: 0 !important;\n      box-shadow: none !important;\n    }\n\n    .fru-hc .fru-wmd {\n      margin-bottom: 34px !important;\n    }\n\n    .fru-wcd {\n      width: 516px !important;\n      border-radius: 16px !important;\n      box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n      margin-inline-end: 20px !important;\n    }\n\n    .fru-wfd {\n      border-top: 0 !important;\n      box-shadow: 0 8px 16px #393A3F38, 0 0 4px #393A3F0A !important;\n    }\n\n    .fru-hc .fru-wfd {\n      width: 360px !important;\n      border-radius: 16px !important;\n    }\n  }\n")),n.prepend(t)})()},hide:()=>{n&&(n.classList.add("fru-m-a"),n.remove())}}})(window,n.get(3)))).provide(27,(()=>{return e=n.get(2),i=n.get(13),r=t.version,new Qo(((e,t)=>fetch(e,t)),e.sentryApiKey,Zo.EMBED,r,e.env,qo.CHECKOUT,i);var e,i,r})).provide(6,(()=>new e.y("embed",t.debugLogCodes))).provide(3,(()=>new rs(t.knownKeys))).provide(8,(()=>new es(function(){const e=Tr(cr.OBJECT),t=new Nr(Rr),n=new Or(e,t,window.FUN_DISABLE_NEW_COOKIES),i=new wr(e,t,window.FUN_DISABLE_NEW_COOKIES);return new Pr(n,i,window.FUN_DISABLE_NEW_COOKIES)}(),{env:t.staticConfig.env,allowWrite:!1}))).provide(25,(()=>new ts(n.get(8)))).provide(24,(()=>function(e,t,n,i){const r=(0,dr.F)().get(8),o=(0,ur.f)(r);return new hr(e,t,o,n,i)}(n.get(8),n.get(22),t.staticConfig.env,window.FUN_DISABLE_NEW_COOKIES))).provide(22,(()=>function(){const e=(0,dr.F)().get(8),t=(0,ur.f)(e);return new Cr(t)}())).provide(21,(()=>function(){const e=(0,dr.F)().get(8),t=(0,ur.f)(e);return new br(t)}())).provide(23,(()=>function(e,t){const n=(0,dr.F)().get(8),i=(0,ur.f)(n);return new Er(e,i,Un.A,{disableNewCookies:t})}(t.staticConfig.env,window.FUN_DISABLE_NEW_COOKIES))).provide(14,(()=>$o({window,funEmbedRelease:t.version,embedConfig:n.get(13),debug:n.get(6).createInstance("Tracking"),globalURL:i.global,funTracker:window.FUN_TRACKER,isFundraiseupVisitor:t.staticConfig.isFundraiseupVisitor?1:0,funTrackerStorage:n.get(21),source:t.staticConfig.fromDonorPortal?ot.DONOR_PORTAL:void 0,env:t.staticConfig.env}))).provide(28,(()=>{return e=n.get(13),t=n.get(14),i=n.get(15),new ki({companyKey:e.currentCompanyKey,parentCompanyKey:(null===(r=e.currentCompany)||void 0===r?void 0:r.parentKey)||null,tracker:t,experimentsSettings:Di(e.experimentsConfig.experiments),funStorage:i,sentry:{captureException:e=>console.error(e),getCurrentScope:()=>null},isDebugMode:e.isDebugMode,isFundraiseupVisitor:e.isFundraiseupVisitor,isAbTestMode:e.abTestMode,distributionId:t.clientId});var e,t,i,r})).provide(4,(()=>Fi(n.get(3),n.get(6).createInstance("Collector")))).provide(5,(()=>function(e,t,n,i,r){const o=[],s=new Map,a=!0===window.FUN_DASHBOARD,c=c=>{return p=this,h=[c],m=function(c){let{keys:p,livemode:h,externalQueryParams:E}=c;return function*(){var c;const m=Object.assign(e.queryParams||{},E),g=sr(t,p,e.locale.code,null===(c=i.page)||void 0===c?void 0:c.pageViewId,m);if(l(g))return n.logCode(16),Promise.resolve();n.logCode(17,g);const f=u(h),T=Date.now();let _;const v=d(g),A=s.get(v);A&&!a?_=A:(_=yield ir({method:"POST",url:f,headers:{"content-type":"text/plain; charset=utf-8"},params:g}).then((e=>e.data)).catch((e=>{throw r.captureException(e),e})),s.set(v,_));const y={params:p,duration:Date.now()-T};return o.forEach((e=>e(_,y))),n.logCode(18,{data:_,info:y}),_}()},new((E=void 0)||(E=Promise))((function(e,t){function n(e){try{r(m.next(e))}catch(e){t(e)}}function i(e){try{r(m.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof E?r:new E((function(e){e(r)}))).then(n,i)}r((m=m.apply(p,h||[])).next())}));var p,h,E,m},l=e=>!e.campaign&&!e.fundraisingPage,d=e=>{const t=[];return e.campaign&&t.push(e.campaign),e.fundraisingPage&&t.push(e.fundraisingPage),t.join("_")},u=t=>{const n=null!=t?t:e.livemode;return`${e.server.resolveUrl}&livemode=${n?"true":"false"}`};return{resolveFundraisingPages:e=>(n.logCode(14,e),c({keys:e})),resolveKeys:e=>{let{keys:i,livemode:r,externalQueryParams:o}=e;const s=i.filter(Ji).filter((e=>(e=>t.exists("WIDGET",e)||t.itLooksLikeKey("FUNDRAISING_PAGE",e))(e)));return s.length?(n.logCode(15,{keys:i}),c({keys:s,livemode:r,externalQueryParams:o})):Promise.resolve()},onResolve:e=>{o.push(e)},needResolve:e=>!s.has(e.join("_"))}}(n.get(13),n.get(3),n.get(6).createInstance("CommonResolver"),n.get(14),n.get(27)))).provide(9,(()=>zn(n.get(4),n.get(3),n.get(10),n.get(13),n.get(6),n.get(14),n.get(30)))).provide(30,(()=>function(e){const t=function(e){const t=e.get(ii.ELEMENT_KEY),n=e.get(ii.ELEMENT_ID),i=e.get(ii.FORM);if(!t&&!n||i)return null;const r=Number(e.get(ii.AMOUNT)),o=r?100*r:null,s=(e.get(ii.CURRENCY)||"").toUpperCase(),a=e.get(ii.RECURRING),c=e.get(ii.MODIFY_DESIGNATION),l="yes"===c||"no"===c,d=Object.values(ni);return{elementKey:t||n,amount:o,currency:s,recurring:a&&d.includes(a)?a:null,modifyDesignation:l?"yes"===c:null,firstName:e.get(ii.FIRST_NAME),lastName:e.get(ii.LAST_NAME),email:e.get(ii.EMAIL),designationId:e.get(ii.DESIGNATION),tributeHonoree:e.get(ii.TRIBUTE)}}(new URLSearchParams(e.location.search)),n=(e,n)=>oi.includes(n)&&e===(null==t?void 0:t.elementKey);return{getUrlParamsForElement:e=>n(e.key,e.type)?t:null,checkAmountInUrlApiForElement:(e,i)=>n(e,i)&&Boolean(null==t?void 0:t.amount)}}(window))).provide(17,(()=>function(e){let t=null;const n=(n,i)=>(i&&t&&t(),new Promise(((i,r)=>{const{abort:o}=qn({method:"POST",url:`${ri(Zn,ti.DATA)}?key=${e.currentCompanyKey}&livemode=${e.livemode}`,headers:{"content-type":"text/plain; charset=utf-8"},params:n},(e=>{e&&i(e)}),r);t=o})));return{config:e,getData:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=e.map((e=>({key:e})));return n(i,t)},searchData:function(e,t){return n([{key:e,params:t}],!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}}}(n.get(13)))).provide(10,(()=>hn(n.get(5),n.get(6),n.get(13),n.get(1),n.get(29),n.get(3),n.get(14),n.get(19),n.get(20),n.get(8),n.get(28),(()=>n.get(16)),(()=>n.get(31)),(()=>n.get(33))))).provide(12,(()=>(e=>{const t=e=>Ei(void 0,void 0,void 0,(function*(){const t=yield Lt();t.emitEvent("backdropWillOpen");const i=yield n(e);yield t.formOpener.openForm(e,"p2p",{fundraisingPage:i})})),n=e=>Ei(void 0,void 0,void 0,(function*(){return new Promise(((t,n)=>{qn({method:"GET",url:`${Zn}/p2p/fundraiser/${e}`,headers:{"content-type":"text/plain; charset=utf-8"}},(e=>{e&&t(e)}),n)}))}));return{open:n=>ui.test(n)?t(n):(t=>Lt().then((n=>{e.getElements([t]),n.emitEvent("backdropWillOpen"),e.onElementsLoad((e=>{const i=e.elements.find((e=>e.key===t));if(i)return n.addElements({nodes:[],elements:[i],globalElements:e.globalElements}),n.formOpener.openForm(t,"p2p",{fundraisingPage:null})}))})))(n),openByFundraiserSlug:e=>t(e)}})(n.get(9)))).provide(11,(()=>Si(n.get(10),n.get(9),n.get(12),n,n.get(13),n.get(14),n.get(5),n.get(3),n.get(6).createInstance("InternalApi"),n.get(15),n.get(4),n.get(25),n.get(28),n.get(26)))).provide(15,(()=>yr(kn.e.EXPERIMENTS,vr.OBJECT))).provide(19,(()=>new ji)).provide(26,(()=>function(){const e=Tr(cr.STRING);return new gr(e)}())).provide(32,(()=>((e,t,n,i,r,o)=>Hi(t,n,i,Vi(i,e),r,o))(window,n.get(6).createInstance("Consent API Manager"),n.get(27),n.get(19),n.get(24),n.get(23)))).provide(33,(()=>new Dr(n.get(2).apiUrl)))}function ss(e,t){if(e.body)return t();setTimeout(ss.bind(null,e,t),10)}function as(e){return t=this,n=void 0,r=function*(){return new Promise((t=>{const n=e.document.createElement("iframe");n.style.display="none",ss(e.document,(()=>{const i=(()=>{try{e.document.body.appendChild(n);const t=n.contentWindow;if(!t)return!1;const i=t.Date.now,r=t.Array.prototype.push,o=t.Object.keys,s=t.Map.prototype.set,a=t.String.prototype.replace;document.body.removeChild(n);const c=r.toString()===Array.prototype.push.toString(),l=o.toString()===Object.keys.toString(),d=s.toString()===Map.prototype.set.toString(),u=i.toString()===Date.now.toString(),p=a.toString()===String.prototype.replace.toString();return!(c&&l&&d&&u&&p)}catch(e){return!0}})();t(i)}))}))},new((i=void 0)||(i=Promise))((function(e,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}const cs=new e.y("Embed");!function(){var e,t;if(as(window).then((e=>{window.FUN_IS_MALFORMED_ENV=e})),!window.Set||!window.WeakMap)return void(window.console&&window.console.warn&&window.console.warn("init","legacy browser, skip processing"));if(null===(e=window.FUN)||void 0===e?void 0:e.initialized)return void cs.log("init","already initialized, skip processing");cs.log("init","initialization has started"),function(e,t){const n=function(e){return"function"==typeof e?n.l.push([arguments])&&n:function(){return n.l.push([e,arguments])&&n}};n.h=e.location.href,n.s=Date.now(),n.v="0",n.l=[];const i="call,catch,on,once,set,then,track,openCheckout".split(",");for(let e=0;e<8;e++)n[i[e]]=n(i[e]);e[t]=e[t]||n}(window,"FundraiseUp");const n=os({loadedTimestamp:Date.now(),trackingUrls:{"global":"https://fndrsp.net","checkout":"https://fndrsp-checkout.net"},staticConfig:{"elementsApiScriptUrl":"https://static.fundraiseup.com/eb94bf6ab2f3.elementsApi.js","checkoutAssets":{"scripts":["https://static.fundraiseup.com/checkout.e02d49c2e3c989643c9d.js","https://static.fundraiseup.com/checkout-vendors.0bc6d2bed39c389b1982.js","https://static.fundraiseup.com/checkout-rtl-styles.c4a1b627a2f22f44331a.js","https://static.fundraiseup.com/checkout-styles.6a81a3fea01f72465e1d.js","https://static.fundraiseup.com/checkout-sentry-vendor.3e622619be4cd541fdff.js","https://static.fundraiseup.com/sentry.46b6f0102ca61d57107d.js"]},"checkoutSteplessAssets":{"scripts":["https://static.fundraiseup.com/checkout-stepless.21c26f92a36e80bb35ce.js","https://static.fundraiseup.com/checkout-stepless-vendors.3625590d32edd4cfeb11.js","https://static.fundraiseup.com/cs.checkout-stepless-rtl-styles.c6b60f9e4062802450aa.js","https://static.fundraiseup.com/cs.checkout-stepless-styles.160344767a325ef87ce9.js","https://static.fundraiseup.com/cs.checkout-stepless-sentry-vendor.832d3bfe2963125413a9.js","https://static.fundraiseup.com/sentry.46b6f0102ca61d57107d.js"]},"currencyRates":{"rates":{"SHP":0.785843,"EUR":0.85128,"AED":3.6725,"AFN":70.000318,"XCD":2.70255,"ALL":83.350111,"AMD":383.969812,"AOA":917.000077,"ARS":1255.516099,"USD":1,"AUD":1.524955,"ANG":1.789699,"AWG":1.8025,"AZN":1.702819,"BAM":1.671395,"BBD":2.019126,"INR":86.34345,"PKR":284.924984,"BDT":121.748939,"XOF":562.000044,"BGN":1.665404,"BHD":0.376954,"BIF":2937,"BMD":1,"MYR":4.222982,"BND":1.281961,"BOB":6.910166,"BRL":5.565201,"BSD":1.000034,"BTN":86.356567,"NOK":10.065365,"ZAR":17.55009,"BWP":13.939974,"BYN":3.272715,"BZD":2.008785,"CAD":1.359495,"CDF":2885.9998,"XAF":560.570349,"CHF":0.792975,"NZD":1.664808,"CLP":950.730189,"CNY":7.174796,"COP":4072.56,"CRC":504.37547,"CVE":94.250075,"CZK":20.954001,"DJF":177.720091,"DKK":6.35509,"DOP":60.401415,"DZD":129.749705,"EGP":49.062901,"MAD":9.029029,"ETB":136.697483,"FJD":2.243704,"FKP":0.740935,"JPY":146.422499,"GBP":0.739255,"GEL":2.709778,"GHS":10.425005,"GIP":0.740935,"GMD":72.000208,"GNF":8656.000242,"GTQ":7.675019,"GYD":209.219252,"HKD":7.849845,"HNL":26.350148,"HRK":6.415898,"HTG":131.229917,"HUF":339.874501,"IDR":16258.2,"ILS":3.33843,"ISK":121.280277,"JMD":160.362685,"JOD":0.708988,"KES":129.4949,"KGS":87.449977,"KHR":4018.000041,"KMF":419.518945,"KRW":1379.269809,"KWD":0.30512,"KYD":0.83339,"KZT":533.576605,"LAK":21564.999778,"LBP":89549.99966,"LKR":301.653157,"LRD":200.999944,"LSL":17.619827,"MDL":16.960074,"MGA":4430.000094,"MKD":52.391489,"MMK":2098.953026,"MNT":3589.278404,"MOP":8.085988,"MUR":45.489764,"MVR":15.422102,"MWK":1736.492219,"MXN":18.639721,"MZN":63.960039,"NAD":17.620212,"XPF":102.497158,"NGN":1530.789686,"NIO":36.750247,"SEK":9.50505,"NPR":138.170848,"OMR":0.384496,"PAB":1.000034,"PEN":3.560449,"PGK":4.14875,"PHP":56.86502,"PLN":3.621019,"PYG":7604.715453,"QAR":3.640604,"RON":4.316299,"RSD":99.736992,"RUB":78.498361,"RWF":1438.5,"SAR":3.751603,"SBD":8.285095,"SCR":14.123945,"SGD":1.278355,"SLL":20969.503947,"SLE":22.99983,"SOS":571.49751,"SRD":36.633504,"STD":20697.981008,"SVC":8.749824,"SZL":17.619993,"THB":32.169798,"TJS":9.600226,"TND":2.877498,"TOP":2.342102,"TRY":40.446645,"TTD":6.791379,"TWD":29.392301,"TZS":2609.999907,"UAH":41.77432,"UYU":40.379093,"UZS":12725.00027,"VND":26145,"VUV":118.768746,"WST":2.636134,"YER":240.950199,"ZMW":23.125897},"id":"68803410b90f879b4447c927"},"campaignPageAssets":{"scripts":{"main":"https://static.fundraiseup.com/campaignPages.efdc07d78e9325b8f99c.js","vendors":"https://static.fundraiseup.com/campaignPagesVendors.69240726d5621833004c.js"},"css":{"ltr":"https://static.fundraiseup.com/campaignPages.96ee5564957fc5d822d6.css","rtl":"https://static.fundraiseup.com/campaignPages.96ee5564957fc5d822d6.rtl.css"},"fonts":{"ibmPlexSans400":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2","ibmPlexSans500":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2","ibmPlexSans600":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2","ibmPlexSans700":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-700.woff2","ibmPlexSansArabic600":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-600.woff2","ibmPlexSansArabic700":"https://static.fundraiseup.com/common-fonts/ibm-plex-sans-arabic/ibmplexsans-arabic-v12-700.woff2","verveine400":"https://static.fundraiseup.com/common-fonts/verveine/verveine-400.woff2"}},"apiUrl":"https://api.fundraiseup.com","staticUrl":"https://static.fundraiseup.com","trackingUrl":"https://fndrsp.net","donorPortalUrl":"https://give.redcross.ca","stripePublicKey":{"live":"pk_live_9RzCojmneCvL31GhYTknluXp","test":"pk_test_PIcNaumXzkrpufsvKlKULLIZ"},"paypalClientId":"Afbm69ig8nMRLmZKS-QoONq7qIHPqlpYJ1l3vyxE_la-UZPU_eEkKH2HRpHFkl7SNJ8a_eKvDkcT9-My","googlePayInfo":{"stripeAPIVersion":"2023-10-16","allowedCardNetworks":["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],"allowedAuthMethods":["PAN_ONLY","CRYPTOGRAM_3DS"],"merchantId":"BCR2DN6T7OI7T6IH"},"env":"production","sentryUri":"https://e4f08d23cf4e4dd080d8b4853ea3f102@sentry.fundraiseup.com/9","uploadcareKey":"5a1e3737b731e848bee9","mainDomain":"fundraiseup.com","integrations":{"dtd":false},"sentryApiKey":"e4f08d23cf4e4dd080d8b4853ea3f102","isFundraiseupVisitor":false,"disablePreloading":false,"deviceData":{"isMobile":false,"isMobileOrTablet":false,"isMobileSafari16":false},"experimentsConfig":{"experiments":[{"name":"DummyExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"33802","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"LessPaymentOptionsExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1},{"name":"test-3","key":"test-3","weight":1},{"name":"test-4","key":"test-4","weight":1}],"experimentId":"40193","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutModalVsCampaignPagesExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"58415","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MatchDonationInSocialProofExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59325","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SteplessMobileCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"60395","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellScreenV3Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"65613","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlPostDonationUpsellCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"70084","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AGSTXLKM","APZMZAGU","ARVHGABZ","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutWithoutPreDonationUpsellExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"73814","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AGSTXLKM","APZMZAGU","ARVHGABZ","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlPresetsInDonationFormV2Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"82987","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SendBeaconVsFetchKeepAliveExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":80},{"name":"test","key":"test","weight":20}],"experimentId":"87177","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"PresetsInDonationFormV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"92387","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"PresetsInDonationFormV31Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"107996","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsDonationFormV4Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":9},{"name":"test","key":"test","weight":1}],"experimentId":"126493-DF","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MultipleRecurringPlanCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"114635-modal","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartCoveringFeeCheckoutV4Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"113277-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"FastTrackCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"101284-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AverageDonationHintExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":0},{"name":"test-3","key":"test-3","weight":1}],"experimentId":"101523-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJGEZYBE","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU","AYXSFGEE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountsOnUpsellV2CheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":0},{"name":"test-2","key":"test-2","weight":1},{"name":"test-3","key":"test-3","weight":0}],"experimentId":"104387-modal","enabledAccounts":[],"disabledAccounts":[],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsDonationFormV4Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"110192-DF","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV4Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":9},{"name":"test","key":"test","weight":1}],"experimentId":"126493-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellScreenDataCollectCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":70},{"name":"test","key":"test","weight":29}],"experimentId":"112996-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AJZSDMZE","AKVYFUBL","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DefaultFrequencyV3ModalExperiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"103991-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"MlDefaultFrequencyInDonationFormV3Experiment","enabled":true,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"103991-df","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV31Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"108741-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutWithoutPresetsExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59097-modal","enabledAccounts":[],"disabledAccounts":["ABLAYHFK","ABXQVBCC","ACACYXKN","ACYYCJSS","AERPMFNV","AFHDMWFQ","AGNTWTBJ","AGSVAXHS","AHLNTGLT","AJQQEYDC","ALGWNCES","ALJRVDPY","ALNSLQRP","ANCBYMWS","APKJZMBK","AQEGFEES","ARHVGWAD","ARPSFYJG","ASQMJVUY","AUVYPFTF","AVCYLAJJ","AVRUAVBN","AWFXWKCB","AWPTDYZS","AWWXMPZR","AXLVWKZF","AXLWVTGK","AYSXGFLA"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CheckoutStepsCheckoutModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"59119-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"DonorRatingCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":0}],"experimentId":"99706-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"RecurringFrequencyHintCheckoutDesktopExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"59392-desktop","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","ADQRERLU","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARMPCVPV","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"RecurringFrequencyHintCheckoutMobileExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"59392-mobile","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","ADQRERLU","AFHQHUFB","AJZSDMZE","AKVYFUBL","ARMPCVPV","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartPDUCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"89260-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmazonPayCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"87699-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"BirthdayDonationCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"84301-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU","AVYLHELK"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellAmountsSuggestionModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"89701-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"CollectDatasetPostDonationUpsellAmountCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"89924-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"UpsellAmountsDatasetModalExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":0},{"name":"test","key":"test","weight":1}],"experimentId":"87159-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"AmountPresetsCheckoutV3Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"107649-modal","enabledAccounts":[],"disabledAccounts":["AAMRKAJS","AFHQHUFB","AUPRPMUE","AVLMPSRU"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"SmartPostDonationUpsellCheckoutV2Experiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test","key":"test","weight":1}],"experimentId":"79870-modal","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"},{"name":"FloatingLabelsCheckoutExperiment","enabled":false,"variants":[{"name":"control","key":"control","weight":1},{"name":"test-1","key":"test-1","weight":1},{"name":"test-2","key":"test-2","weight":1}],"experimentId":"60368-modal","enabledAccounts":[],"disabledAccounts":["AEJGNVQN","AFHQHUFB","AGSTXLKM","AJGERPHC","ALCUDRVC","APZMZAGU","ARVHGABZ","AUPRPMUE","AVALTECL","AVLMPSRU","AZFMPNQE"],"enabledWidgets":[],"disabledWidgets":[],"scope":"embed"}]},"abTestMode":false,"browserData":{"browser":{"name":"Chrome","version":"138.0.0.0","major":"138"},"device":{"vendor":"Apple","model":"Macintosh"},"engine":{"name":"Blink","version":"138.0.0.0"},"os":{"name":"Mac OS","version":"10.15.7"},"isSupported":true,"isCommonBrowser":true,"isInAppBrowser":false},"fontsAssets":["https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-400.woff2","https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-500.woff2","https://static.fundraiseup.com/common-fonts/ibm-plex-sans/ibmplexsans-v19-600.woff2"],"fromDonorPortal":false,"currentCompanyKey":"ATVNLEWE","clientId":"17533356136135048310"},knownKeys:{campaignKeyGroups:{"onlyCampaignPages":{"withAskPage":[["FUNYQKRLJHW","AFHCA"],["FUNQHUTGMHP","UHCA"],["FUNPKUXWDRR","SC"],["FUNPUVWWDPQ","YA"],["FUNGZVHYTWL","LHNA"],["FUNPBLLYTYY","NCRA"],["FUNJBGUJUNQ","PHNA"],["FUNAYYCQGRQ","AHCA"],["FUNADGLWZKF","appeal-acronym"],["FUNWMXTMXYE","appealportal-acronym"],["FUNTCSMPTML","23MEHCA"],["FUNNRKETGUG","CECRF"],["FUNEWMRQZYK","21AHCA-T1"],["FUNQMBHVTLR","23MEHCA-T1"],["FUNEQNVQDQE","CRC-T1"],["FUNMBMJXVLA","DPRC-SCIC-TQ"],["FUNVVCTHJKC","DPRC-SCIC-TEC"],["FUNMVNSYFMB","23MEHCA-MLS"],["FUNDJLUDALM","23MEHCA-SCI"],["FUNPCNNXDSK","DPRC-SCIC-TEO"],["FUNBVDNPBLS","DPRC-SCIC-TBC"],["FUNPPDLQHPC","DPRC-SCIC-TA"],["FUNCXYKCFVA","DPRC-SCIC-TIV"],["FUNKLQGNJEY","DPRC-SCIC-TS"],["FUNFBAHQZEJ","CRCINT"],["FUNRMQBPTDW","Portal-temp-WINM"],["FUNBTDWEVZC","24DPRC-TA"],["FUNVWPBJPJD","24DPRC-TM"],["FUNWLLEPCAF","24DPRC-TDFSCILGTA"],["FUNARGDHALY","24DPRC-TDMSCILGTA"],["FUNDHPBYBPE","portal-temp"],["FUNRUVKPRBA","DPRC-SCIC"],["FUNVTWAZQCL","UHCA-UFU"],["FUNUUGTEJEG","24CWFA"],["FUNKGUPVNLD","25CWFA-template"],["FUNZDKAFLHP","IDRF-TINA"],["FUNMAHTFPPL","Portal-CDRF"],["FUNMBHPNWVP","UHCA-portaltemp"],["FUNLUHFMGQN","CDRF-Dondhumanite"],["FUNCRQNBPUD","24HA"],["FUNCLKUXSFR","IDRF-ZACHARYLAVIGNE"],["FUNUPHSPQUM","24CWF-CREA"],["FUNELLTJUAB","IDRF-CREA"],["FUNAQBWHWRP","CDRF-CREA"],["FUNWHEZVWUH","CWF-Molson"],["FUNSNMNJUXK","ElizabethW-WINM"],["FUNDKBRYAJA","PAULDAVIS-WINM"],["FUNVWSVVBZX","MONERIS-WINM"],["FUNRDRQBSDP","SMS-ACC"],["FUNVEVHTXJA","UHCA-HHC-portaltemp"],["FUNJPALUUNP","24CWFA-Nestle"],["FUNXJUCHARG","24CWFA-Pharmasave"],["FUNPSWTDUMQ","24CWFA-Colliers"],["FUNVXKFVPTV","24CWFA-LatinosBakery"],["FUNWGHUFDRT","24UHCA-HHC-STEPHANIEYUILL"],["FUNMLSJVPQU","24DPRCF-PaulDavis"],["FUNHJQQALRS","Wildfire5K"],["FUNZPABVUBR","24CWFA-PeaceByChocolate"],["FUNHCCGBFFK","24DPRCF-RSB"],["FUNNMXYQPVH","24Tel-SMS"],["FUNUMDUGXGW","HSCLSAA"],["FUNTXCHZQSK","HSCLSAA-XXX"],["FUNFTPGGQFR"],["FUNZVMGPPUG","24CWFA-ANSHIKASHEORAN"],["FUNKRWAJHLJ","20LHNA-SCC"],["FUNCXTZFAGU","20LHNA-SocialSignals"],["FUNUDJEMGCN","LHNABGP"],["FUNHMGHQPBA","20LHNA-CCICL"],["FUNTBNTAJNH","20LHNA-TALAN"],["FUNHDDMUYZB","20LHNA-NA"],["FUNZBFVWCJT","ChristianBouchard"],["FUNRLEFHGWD","WINM-FatTruck"],["FUNAUBJFAST","24DPRCF-PaulDavisMTL"],["FUNTQGBGNYQ","20LHNA-HFLHRMH"],["FUNJCRBVCLA","20LHNA-TS"],["FUNNDACVJYL","20LHNA-LCSBC"],["FUNCHDGDMKJ","CDRF-HURONCAROLE"],["FUNYBBDYBWK","24CRCMG-UNRESTRICTED"],["FUNRMKSAWKN"],["FUNZGGHLCDG","FCP-Template"],["FUNPGYAXRCC","FCP-access"],["FUNCBKUUBST","FCP-Quebec"],["FUNEDPHKUHB","20LHNA-GEJ"],["FUNKGFZCLZB","WINM-STM"],["FUNDUTDJMNR","WINM-SCL"],["FUNUVWTNUJJ","UHCA-3YEAR"],["FUNLHNHYDSE","23MEHCA-ESHB"],["FUNWKTRTXMF","MSCG-TDM"],["FUNSCBCXDKP","MSCG-TDF"],["FUNCFJSCYYU","MSCG-TS"],["FUNESPKAPQU","MSCG-TIV"],["FUNHMQWFNUS","MSCG-TC"],["FUNDRUCKAEK","MSCG-TBC"],["FUNUJGFYVJX","MSCG-TEO"],["FUNDMZFXZGU","MSCG-TEC"],["FUNJQJYLMSC","MSCG-TQ"],["FUNDMCYWMMF","MSCG-TEAMALBERTA"],["FUNDLKDUFWR","MSCG-TM"],["FUNKPCSJAWY","AHCA-bgp"],["FUNUZNTUSDS","25MEA"],["FUNMDMVPPTE","25MEA-template"],["FUNLDMYLUDP","25MEA-BGP"],["FUNCNSWLBPC","25DPRCF-FORDDEALERSHIP"],["FUNHRETDZWR","25MEA-DX"],["FUNKQDHSPXC","HaveTrikeWillTravel"],["FUNUCVSFLCT","MRCLJE-WINM"],["FUNBYNLEHSX","25VLLFA"],["FUNLLMYHHDC","25VLLFA-template"],["FUNBLCJMPJJ","25VLLFA-BGP"],["FUNXBSXMWEB","25WINM-OSA"],["FUNBECSXECR","25VLLFA-CREA"],["FUNEFVLWLLB","25VLLFA-CCM"],["FUNQMTYZDAV","25VLLFA-REALTORS"],["FUNRSLFNZEV","25CRC-WALMART"],["FUNNWFMNRMK","25MWA"],["FUNGXTDKTGJ","25MWA-TEMPLATE"],["FUNTGMTRMJQ","25MWFA-BGP"],["FUNAXAJGJDC","25MWFA-PBC"],["FUNWENHPPBZ","25MWFA-CREA"],["FUNJCUTNMEW","25MWFA-CANADALIFE"],["FUNXQWHMRFW","25SWA-MWF"],["FUNBFPNAMJX","25SWA-TEMPLATE"],["FUNULTKPMHW","25MWFA-MBDAYOFCARING"],["FUNHWMSSEDF","25CWFA-Nestle"],["FUNJYJUUREP","25CWFA-WestJet"],["FUNTYTDFZQA","25MWA-Pharmasave"],["FUNMJAYQYSQ","25SWA-CREA"],["FUNHXEGSXZY","25SWA-BGP"],["FUNAEHXMKLU","25CWFA-BGP"],["FUNBREURLBN","25MWA-FreePress"],["FUNHFVQDREL","25SWA-Pharmasave"],["FUNQWPWMMVP","25MWA-IKEA"],["FUNDMBUJKGW","25SWA-CANADALIFE"],["FUNPAFQQDKC","25SWA-DG"],["FUNXAUYUJHV","25MWFA-DG"],["FUNBRLSKHJQ","25SWA-SKDAYOFCARING"],["FUNZKRCWBES","25SWA-IFCU"],["FUNQXWRQYES","25MWA-Deloitte"],["FUNBQWTJAZP","25SWA-Deloitte"],["FUNWRZTNCBE","25MWA-FMY"],["FUNASPFSDZG","25SWA-SB"],["FUNHYABWVTN","25MWFA-AALL"],["FUNBKRJWBQL","25CWFA-Scotiabank"],["FUNDQFWJJAB","25WINM-UGUC"],["FUNSMJTYNKS","25MWA-Scotiabank"],["FUNLCUJJPCW","25MWA-EDC"],["FUNEWYABQQA","25SWA-EDC"],["FUNSPMPWRCN","25CRC-WALMART-PORTAL"],["FUNSEHVREVJ","25SWA-Viterra"],["FUNPRFAVRNY","25MWA-Viterra"],["FUNFGUDFSXJ","25CWF-Aurora"],["FUNKPDZXDKT","25CWFA-Solventum"],["FUNBXVDBSUM","25MWA-ValeBaseMetals"],["FUNTSYFGLYS","25CWFA-Deloitte"],["FUNBMNUGCZN","25MWA-AlamosGold"],["FUNSPGAJUYG","25CWFA-Denso"],["FUNCTFKKRPS","25MWA-TCSM"],["FUNWKMFTFLM","25SWA-SR"],["FUNNVQTHJEG","25MWA-Wajax"],["FUNQMADBBKJ","25CWFA-GoodSky"],["FUNTHPTUABJ","Testing2025"],["FUNGCYMCQEY","25CWFA-CP"],["FUNADCPBKKY","25MWA-LRM"],["FUNRUGSYHEM","25SWA-KS"]],"noAskPage":[]},"onlyCheckoutModal":{"withAskPage":[["FUNWDVKQFVP","F2F-TNI"],["FUNGPZWDKHW","MGYearEnd"],["FUNYLMEXCTD","Campaign"],["FUNDDHLPFUS","INTLPMailgivetoday"],["FUNXXLDKAAF","call-centre"],["FUNHKYTFEAY","T123-3ML-DM-YE"],["FUNLUYMZMHW","T123-2ML-DM-EM"],["FUNNLWBBFCY","help-ab"],["FUNTGTXCJQT","help-bc"],["FUNKTNYCSWZ","help-yt"],["FUNTSDNPHSN","help-ns"],["FUNADTNUQWB","help-nl"],["FUNSVQVKKUM","help-nb"],["FUNPGSXCZWD","help-pei"],["FUNRRJKDBDB","T123-WD"],["FUNWBRWEJDT"],["FUNXXRXFZRY","2024LAPUKR"],["FUNXWGVNBLQ","24MatchBGP_XBDZEUVD"],["FUNZHLYEDKB"],["FUNHRBNRBLT"],["FUNVJTDAJSK","wp-emp"],["FUNSVBELLZD","wp-emp-qc"],["FUNQUDZNUHZ","24MonthlyMatchMWF"],["FUNAVHLZBDG","24MonthlyEmail_XWSBGTBV"],["FUNTNQFNTZN","24MonthlyAds_XHUSXCVC"],["FUNZHXJBHYE","wp-emp-montreal"],["FUNHJBLGCPE","wp-emp-aecom"],["FUNGQYJKRHB","24FCDon"],["FUNLMLMVRWY","wp-emp-chateauguay"],["FUNXKCLKKNS","24MonthlyDM_XGNGYPKD"],["FUNJHRJPGJS","25SpringMatchMWF"],["FUNLDDKQQNX","25SpringMatchBGP"],["FUNSPLQFUWD","wp-emp-aecom-2025"],["FUNHXHDHPEX","wp-emp-chubb-2025"],["FUNKURPCYBC","25TCMatchMWF"],["FUNJMFQVALH","25TCMatchBGP"],["FUNANKNQTJD"],["FUNRWUNHTFN"]],"noAskPage":[]},"bothTypes":{"withAskPage":[["FUNYPXDSRQM","204MWF"],["FUNBQUYFBYM","MNCH"],["FUNFLZUVGXN","CDRF"],["FUNMRREAXLM","ICF"],["FUNRTUTEKFD","IDRF"],["FUNTAANSVZH","NDC"],["FUNXPTVNVWL","HDHVmatchgiftOTG"],["FUNRNXLDNYV","INTLPHImatchinggift"],["FUNWCLBGUFY","CE-YE21"],["FUNJWTVKNBA","BGPgiveagift"],["FUNWWLTYTXC","BGPmatchOTG"],["FUNYWQGHYLG","Mailgive"],["FUNAJXASBDW","F2F"],["FUNBTKDCJRH","Monthly"],["FUNDPZYFQMT","PAPgivemonthly"],["FUNWEMCPQGN","PAPmatchmonthly"],["FUNQWUHCHAC","pd-matchmygift"],["FUNKYNARRAF","t124-1ML"],["FUNTQSLDFLB","MonthlyF2F"],["FUNTPANGLFG","nc-monthly"],["FUNMCCGGSBD","DonorInquiry"],["FUNLHJDJKBP","LapsedMonthly"],["FUNCMHXVMCH","SMSActiveCashConversion"],["FUNPMARXDCH","SMSActiveCash"],["FUNVWVYKPNY","24SMS-MONTHLYNCC"],["FUNWZLURCGD","24SMS-MONTHLYACC"],["FUNZZAZQUVB","25SMSNDC"],["FUNMJMSQFYJ","25SMSActiveCash"],["FUNBPHMDQKH","25SMSActiveCash2"],["FUNWQCVDJEX","25MonthlyActiveCash"],["FUNVKNVHDDR","25OTGActiveCash"],["FUNSXVNJPCQ","25MonthlyNewCash"],["FUNSRZFYGHR","25OTGNewCash"],["FUNEZSEJVQH","BGPMWF"],["FUNQCUXXGVG","lr-monthly"],["FUNFAURZJQG","lrsms-monthly"]],"noAskPage":[["FUNNFLSGDRS","INTLP"]]}},elements:{"reminder":["XZWVJBPB"],"qrCode":["XTSLZDDZ","XBFQPVSQ","XZLJEHAY","XCFBHDHZ","XHKMAMNL"],"donationForm":["XZJCFBSX","XGCVJBGL","XPFHNRUK","XABLZUXG","XXJGRFRT","XVSAQQRE","XWNFEJJX","XDYERSJB","XKLYYLBB","XAZGXTPQ","XAAYTYQF","XLWVFSMP","XWMDRBXG","XHNRDJRS","XMGNENSV","XLQUNLCF","XLPWUQZQ","XASFDWBY","XSECUXXN","XZQUUPLC","XUCKBYRJ","XKDUHATP","XJSEDGBY","XTJADBNB","XXQVVBKL","XAQRKYTU","XQDRAMJC","XLMCWVJL","XKXULBBR","XPQDDGPK","XZHGPRFF","XGZFPWNN","XCTYMXEJ","XQPWGRZY","XEVLKBHE","XBDZEUVD","XFWMPPFV","XQZJYRTA","XGDUQTKW","XLAZQVDU","XPTCQTAT","XXYZAZHK","XKLBSBDL","XWSBGTBV","XXYVFAUA","XHUSXCVC","XJYGFWNR","XGZMMDPV","XYFBGQWF","XNFBZYGF","XDFRZHFL","XEBQTNDE","XFBREKMD","XHLYGKQC","XQFELQWZ","XWBXVPSD","XGNGYPKD","XUDPDUUC","XKLTGALD","XHYLJYZK","XETLHVVG","XFBLUCRD"],"donateButton":["XPXZGEHG","XERSFMAR","XQJWYCQB","XCHZRKUS","XHCYRCVS","XEGTFCJN","XXLEGRZD","XDXKVDBX","XHTDDKMD","XWAVUHKW","XFUMYBAF","XPKLSFDQ","XDJDHDSS","XGMBTBKF","XENLLDES"],"textLink":["XHEGDLCA","XPPPCGUH","XDGAPBDC"],"imageCard":["XTNEGMDF","XTGYRTHG","XNYQENSM","XTTTWQXH","XRNSSVFJ","XBCBUYCD","XCUKMYSC","XYGMBZEW"],"goalMeter":["XUKFWBFT"],"simpleForm":["XTTFGHMW","XNLDGWDK","XLVSDRCS"],"socialProof":["XAWLTVWK","XUYVTZAN"],"impactSlider":["XMPJMDDN","XFNCTGTS","XJASGNXM","XGQQNHFL"],"lightbox":["XMJKDYAU","XJGADMVP"],"donorMap":["XGWWJJLB","XACQVNAW"]},inactiveWidgets:[["FUNJWWZGPXY","CDRF-lacstjeanest"],["FUNETGGNJRT","24CRC-WALMART"],["FUNRJRBDBYL","24AWA"],["FUNWADLGYDJ","23MEHCA-YWC"],["FUNFJMXQKXW","WINM-LMP"],["FUNWFBHJNKK","MSCG-TA"],["FUNKEENEYEE","MWFMonPros"],["FUNEQLMWKWP"],["FUNGDZCXMGD","25MWFA"],["FUNHDEXTGWT"],["FUNEFMCWPEQ","25SWA-SECL"],["FUNLHVLLUEM","25MWA-SECL"],["FUNRYPMYPWW"]]},company:{"key":"ATVNLEWE","disabledWidgets":{"redirectTo":"url","url":"https://www.redcross.ca/active-responses","widgetKey":""},"localization":{"defaultLocale":"en-CA","interfaceLocales":["en-CA","fr-CA"],"matchBrowserLocale":true,"matchURL":true,"urlRules":[{"url":"https://www.redcross.ca/","locale":"en-US"},{"url":"https://www.croixrouge.ca/","locale":"fr-CA"},{"url":"https://k12.qa.redcross.ca/","locale":"en-CA"},{"url":"https://k12.qa.croixrouge.ca/","locale":"fr-CA"},{"url":"https://k12.stage.redcross.ca/","locale":"en-CA"},{"url":"https://k12.stage.croixrouge.ca/","locale":"fr-CA"},{"url":"https://dev12.redcross.ca/","locale":"en-CA"},{"url":"https://dev12.croixrouge.ca/","locale":"fr-CA"}]},"parentKey":null,"country":"CA"},version:'250723-1423',meta:{"user":{"location":{"countryCode":"CA","city":"Toronto","country":"Canada"},"langCurrencies":["USD"],"countryCurrencies":["CAD","USD"]}}}),i=n.get(13),r=n.get(11),o=n.get(32);(e=>{const t=e.get();t&&!("settings"in t)&&Un.A.remove(kn.e.EXPERIMENTS,{path:window.location.pathname})})(n.get(15)),o.initialize(),i.fromDonorPortal&&(null===(t=window.FUN)||void 0===t?void 0:t.showDebugPanel)&&(r.showDebugPanel=window.FUN.showDebugPanel),window.FUN=r,window.FUN.init().then((()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"FundraiseUp.optimize.activate"}),cs.log("initialized")})).catch((e=>{console.error(e)}))}()})()})();
